ARM GAS  /tmp/cciFFPmJ.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"ff.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.mem_cpy,"ax",%progbits
  16              		.align	1
  17              		.arch armv7-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	mem_cpy:
  24              	.LVL0:
  25              	.LFB65:
  26              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - FAT file system module  R0.11                 (C)ChaN, 2015
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is a free software that opened under license policy of
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / following conditions.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2015, ChaN, all right reserved.
   8:Middlewares/Third_Party/FatFs/src/ff.c **** /
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  11:Middlewares/Third_Party/FatFs/src/ff.c **** /
  12:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  13:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 26,'06 R0.00  Prototype.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /
  19:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 29,'06 R0.01  First stable version.
  20:Middlewares/Third_Party/FatFs/src/ff.c **** /
  21:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 01,'06 R0.02  Added FAT12 support.
  22:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Removed unbuffered mode.
  23:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a problem on small (<32M) partition.
  24:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 10,'06 R0.02a Added a configuration option (_FS_MINIMUM).
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /
  26:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 22,'06 R0.03  Added f_rename().
  27:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option _FS_MINIMUM to _FS_MINIMIZE.
  28:Middlewares/Third_Party/FatFs/src/ff.c **** / Dec 11,'06 R0.03a Improved cluster scan algorithm to write files fast.
  29:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() creates incorrect directory on FAT32.
  30:Middlewares/Third_Party/FatFs/src/ff.c **** /
  31:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 04,'07 R0.04  Supported multiple drive system.
  32:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some interfaces for multiple drive system.
ARM GAS  /tmp/cciFFPmJ.s 			page 2


  33:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_mountdrv() to f_mount().
  34:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_mkfs().
  35:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'07 R0.04a Supported multiple partitions on a physical drive.
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a capability of extending file size to f_lseek().
  37:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added minimization level 3.
  38:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed an endian sensitive code in f_mkfs().
  39:Middlewares/Third_Party/FatFs/src/ff.c **** / May 05,'07 R0.04b Added a configuration option _USE_NTFLAG.
  40:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added FSINFO support.
  41:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed DBCS name can result FR_INVALID_NAME.
  42:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed short seek (<= csize) collapses the file object.
  43:Middlewares/Third_Party/FatFs/src/ff.c **** /
  44:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 25,'07 R0.05  Changed arguments of f_read(), f_write() and f_mkfs().
  45:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() on FAT32 creates incorrect FSINFO.
  46:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() on FAT32 creates incorrect directory.
  47:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 03,'08 R0.05a Added f_truncate() and f_utime().
  48:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed off by one error at FAT sub-type determination.
  49:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed btr in f_read() can be mistruncated.
  50:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed cached sector is not flushed when create and close without write.
  51:Middlewares/Third_Party/FatFs/src/ff.c **** /
  52:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'08 R0.06  Added fputc(), fputs(), fprintf() and fgets().
  53:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved performance of f_lseek() on moving to the same or following cluster.
  54:Middlewares/Third_Party/FatFs/src/ff.c **** /
  55:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'09 R0.07  Merged Tiny-FatFs as a configuration option. (_FS_TINY)
  56:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added long file name feature.
  57:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple code page feature.
  58:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added re-entrancy for multitask operation.
  59:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added auto cluster size selection to f_mkfs().
  60:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added rewind option to f_readdir().
  61:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed result code of critical errors.
  62:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Renamed string functions to avoid name collision.
  63:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 14,'09 R0.07a Separated out OS dependent code on reentrant cfg.
  64:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple sector size feature.
  65:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 21,'09 R0.07c Fixed f_unlink() can return FR_OK on error.
  66:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed wrong cache control in f_lseek().
  67:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added relative path feature.
  68:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_chdir() and f_chdrive().
  69:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added proper case conversion to extended character.
  70:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov 03,'09 R0.07e Separated out configuration options from ff.h to ffconf.h.
  71:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() fails to remove a sub-directory on _FS_RPATH.
  72:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed name matching error on the 13 character boundary.
  73:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option, _LFN_UNICODE.
  74:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_readdir() to return the SFN with always upper case on non-LFN cfg.
  75:Middlewares/Third_Party/FatFs/src/ff.c **** /
  76:Middlewares/Third_Party/FatFs/src/ff.c **** / May 15,'10 R0.08  Added a memory configuration option. (_USE_LFN = 3)
  77:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added file lock feature. (_FS_SHARE)
  78:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added fast seek feature. (_USE_FASTSEEK)
  79:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some types on the API, XCHAR->TCHAR.
  80:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed .fname in the FILINFO structure on Unicode cfg.
  81:Middlewares/Third_Party/FatFs/src/ff.c **** /                   String functions support UTF-8 encoding files on Unicode cfg.
  82:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 16,'10 R0.08a Added f_getcwd().
  83:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added sector erase feature. (_USE_ERASE)
  84:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Moved file lock semaphore table from fs object to the bss.
  85:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a wrong directory entry is created on non-LFN cfg when the given name con
  86:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() creates wrong FAT32 volume.
  87:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'11 R0.08b Fast seek feature is also applied to f_read() and f_write().
  88:Middlewares/Third_Party/FatFs/src/ff.c **** /                   f_lseek() reports required table size on creating CLMP.
  89:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Extended format syntax of f_printf().
ARM GAS  /tmp/cciFFPmJ.s 			page 3


  90:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Ignores duplicated directory separators in given path name.
  91:Middlewares/Third_Party/FatFs/src/ff.c **** /
  92:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 06,'11 R0.09  f_mkfs() supports multiple partition to complete the multiple partition feature
  93:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_fdisk().
  94:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 27,'12 R0.09a Changed f_open() and f_opendir() reject null object pointer to avoid crash.
  95:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option name _FS_SHARE to _FS_LOCK.
  96:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed assertion failure due to OS/2 EA on FAT12/16 volume.
  97:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 24,'13 R0.09b Added f_setlabel() and f_getlabel().
  98:Middlewares/Third_Party/FatFs/src/ff.c **** /
  99:Middlewares/Third_Party/FatFs/src/ff.c **** / Oct 02,'13 R0.10  Added selection of character encoding on the file. (_STRF_ENCODE)
 100:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_closedir().
 101:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced full FAT scan for f_getfree(). (_FS_NOFSINFO)
 102:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced mount feature with changes of f_mount().
 103:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved behavior of volume auto detection.
 104:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved write throughput of f_puts() and f_printf().
 105:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed argument of f_chdrive(), f_mkfs(), disk_read() and disk_write().
 106:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_write() can be truncated when the file size is close to 4GB.
 107:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_open(), f_mkdir() and f_setlabel() can return incorrect error code.
 108:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'14 R0.10a Added arbitrary strings as drive number in the path name. (_STR_VOLUME_ID)
 109:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option of minimum sector size. (_MIN_SS)
 110:Middlewares/Third_Party/FatFs/src/ff.c **** /                   2nd argument of f_rename() can have a drive number and it will be ignored.
 111:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mount() with forced mount fails when drive number is >= 1.
 112:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_close() invalidates the file object without volume lock.
 113:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_closedir() returns but the volume lock is left acquired.
 114:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed creation of an entry with LFN fails on too many SFN collisions.
 115:Middlewares/Third_Party/FatFs/src/ff.c **** / May 19,'14 R0.10b Fixed a hard error in the disk I/O layer can collapse the directory entry.
 116:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed LFN entry is not deleted on delete/rename an object with lossy converted 
 117:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov  9,'14 R0.10c Added a configuration option for the platforms without RTC. (_FS_NORTC)
 118:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed volume label created by Mac OS X cannot be retrieved with f_getlabel(). (
 119:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a potential problem of FAT access that can appear on disk error.
 120:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed null pointer dereference on attempting to delete the root direcotry. (app
 121:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 02,'15 R0.11  Added f_findfirst() and f_findnext(). (_USE_FIND)
 122:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() does not remove cluster chain of the file. (appeared at R0.10c
 123:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed _FS_NORTC option does not work properly. (appeared at R0.10c)
 124:Middlewares/Third_Party/FatFs/src/ff.c **** /---------------------------------------------------------------------------*/
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 
 126:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
 127:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of disk I/O functions */
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 130:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 131:Middlewares/Third_Party/FatFs/src/ff.c **** 
 132:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 134:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 
 136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 32020	/* Revision ID */
 137:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
 138:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** 
 141:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 143:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 144:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 146:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
ARM GAS  /tmp/cciFFPmJ.s 			page 4


 147:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 148:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 149:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 150:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 152:Middlewares/Third_Party/FatFs/src/ff.c **** 
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 
 156:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 157:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 158:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 159:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 160:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 161:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 
 167:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp feature */
 168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 169:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 170:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 171:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 172:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 
 178:Middlewares/Third_Party/FatFs/src/ff.c **** /* File access control feature */
 179:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 180:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 181:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 182:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 183:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 184:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, directory (0:root) */
 186:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD idx;		/* Object ID 3, directory index */
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 188:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 189:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 
 193:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS extend character conversion table */
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
 198:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
 199:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
 200:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
 201:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
 202:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
 203:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
ARM GAS  /tmp/cciFFPmJ.s 			page 5


 204:Middlewares/Third_Party/FatFs/src/ff.c **** 
 205:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 209:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 210:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
 211:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 
 213:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
 214:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 215:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 216:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
 220:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
 221:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 
 223:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
 224:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 225:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 226:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 227:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 230:Middlewares/Third_Party/FatFs/src/ff.c **** 
 231:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. (OEM) */
 232:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 233:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F,0x9
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 238:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic (OEM) */
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x45,0x41,0x84,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x8E,0x8F,0x9
 241:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 
 245:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek (OEM) */
 246:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 247:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96,0xB0,0xB1,0xB2,
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 250:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xE7,0xE8,0xF1,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 251:Middlewares/Third_Party/FatFs/src/ff.c **** 
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic (OEM) */
 253:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 254:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F,0x9
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xB5,0xB6,0xB7,
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 259:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Multilingual Latin 1 (OEM) */
 260:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
ARM GAS  /tmp/cciFFPmJ.s 			page 6


 261:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
 262:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 263:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 264:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 265:Middlewares/Third_Party/FatFs/src/ff.c **** 
 266:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 (OEM) */
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F,0x9
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF,0xB0,0xB1,0xB2,
 270:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF,0xF0,0xF1,0xF2,
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic (OEM) */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F,0x9
 276:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD3,
 278:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF,0xF0,0xF2,0xF2,
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish (OEM) */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x98,0x8E,0x8F,0x9
 283:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 284:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0x59,0xEE,0xEF,0xF0,0xF1,0xF2,
 286:Middlewares/Third_Party/FatFs/src/ff.c **** 
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 858	/* Multilingual Latin 1 + Euro (OEM) */
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
 290:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 292:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew (OEM) */
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 297:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 300:Middlewares/Third_Party/FatFs/src/ff.c **** 
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian (OEM) */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0xB0,0xB1,0xB2,
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 306:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x9d,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F,0xF0,0xF0,0xF2,
 307:Middlewares/Third_Party/FatFs/src/ff.c **** 
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 874	/* Thai (OEM, Windows) */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 310:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 312:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 313:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 314:Middlewares/Third_Party/FatFs/src/ff.c **** 
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1250 /* Central Europe (Windows) */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
ARM GAS  /tmp/cciFFPmJ.s 			page 7


 318:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 319:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 320:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 321:Middlewares/Third_Party/FatFs/src/ff.c **** 
 322:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1251 /* Cyrillic (Windows) */
 323:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 324:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x82,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x8
 325:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA2,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 326:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 327:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1252 /* Latin 1 (Windows) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 331:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 333:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 334:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1253 /* Greek (Windows) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 339:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 340:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 341:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1254 /* Turkish (Windows) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 346:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 347:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 348:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 349:Middlewares/Third_Party/FatFs/src/ff.c **** 
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1255 /* Hebrew (Windows) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 353:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 354:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 355:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1256 /* Arabic (Windows) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 360:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 361:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 362:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0xE1,0x41,0xE3,0xE4,0xE5,0xE6,0x43,0x45,0x45,0x45,0x45,0xEC,0xED,0x49,0x49,0xF0,0xF1,0xF2,
 363:Middlewares/Third_Party/FatFs/src/ff.c **** 
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1257 /* Baltic (Windows) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 367:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 368:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 369:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1258 /* Vietnam (OEM, Windows) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 374:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
ARM GAS  /tmp/cciFFPmJ.s 			page 8


 375:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 376:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xEC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 377:Middlewares/Third_Party/FatFs/src/ff.c **** 
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot use LFN feature without valid code page.
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 383:Middlewares/Third_Party/FatFs/src/ff.c **** 
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 386:Middlewares/Third_Party/FatFs/src/ff.c **** 
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 388:Middlewares/Third_Party/FatFs/src/ff.c **** 
 389:Middlewares/Third_Party/FatFs/src/ff.c **** 
 390:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 392:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 394:Middlewares/Third_Party/FatFs/src/ff.c **** 
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S		/* Code page is DBCS */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** 
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 402:Middlewares/Third_Party/FatFs/src/ff.c **** 
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 408:Middlewares/Third_Party/FatFs/src/ff.c **** 
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** 
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 413:Middlewares/Third_Party/FatFs/src/ff.c **** 
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** 
 416:Middlewares/Third_Party/FatFs/src/ff.c **** 
 417:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of name status byte in fn[] */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** 
 426:Middlewares/Third_Party/FatFs/src/ff.c **** 
 427:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT sub-type boundaries (Differ from specs but correct for real DOS/Windows) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define MIN_FAT16	4086U	/* Minimum number of clusters as FAT16 */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MIN_FAT32	65526U	/* Minimum number of clusters as FAT32 */
 430:Middlewares/Third_Party/FatFs/src/ff.c **** 
 431:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cciFFPmJ.s 			page 9


 432:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the members in the FAT structures as byte array instead of
 433:Middlewares/Third_Party/FatFs/src/ff.c **** / structure member because the structure is not binary compatible between
 434:Middlewares/Third_Party/FatFs/src/ff.c **** / different platforms */
 435:Middlewares/Third_Party/FatFs/src/ff.c **** 
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_jmpBoot			0		/* x86 jump instruction (3) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (2) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (1) */
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (2) */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FAT copies (1) */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Number of root directory entries for FAT12/16 (2) */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size [sector] (2) */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor (1) */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size [sector] (2) */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size [sector] (2) */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads (2) */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Number of special hidden sectors (4) */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size [sector] (4) */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number (2) */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (1) */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (4) */
 453:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label (8) */
 454:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type (1) */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT size [sector] (4) */
 456:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags		40		/* Extended flags (2) */
 457:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer			42		/* File system version (2) */
 458:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus		44		/* Root directory first cluster (4) */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo			48		/* Offset of FSINFO sector (2) */
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec		50		/* Offset of backup boot sector (2) */
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* Physical drive number (2) */
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* Extended boot signature (1) */
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* Volume serial number (4) */
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* Volume label (8) */
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* File system type (1) */
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FSI: Leading signature (4) */
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FSI: Structure signature (4) */
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FSI: Number of free clusters (4) */
 469:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FSI: Last allocated cluster (4) */
 470:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Partition table offset (2) */
 471:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (2) */
 473:Middlewares/Third_Party/FatFs/src/ff.c **** 
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11) */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (1) */
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (1) */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTimeTenth	13		/* Created time sub-second (1) */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (2) */
 479:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtDate			16		/* Created date (2) */
 480:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (2) */
 481:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (2) */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtTime			22		/* Modified time (2) */
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtDate			24		/* Modified date (2) */
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (2) */
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (4) */
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN entry order and LLE flag (1) */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN attribute (1) */
 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN type (1) */
ARM GAS  /tmp/cciFFPmJ.s 			page 10


 489:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* Sum of corresponding SFN entry */
 490:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* Must be zero (0) */
 491:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_DIRE				32		/* Size of a directory entry */
 492:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark at DIR_Name[0] */
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 495:Middlewares/Third_Party/FatFs/src/ff.c **** 
 496:Middlewares/Third_Party/FatFs/src/ff.c **** 
 497:Middlewares/Third_Party/FatFs/src/ff.c **** 
 498:Middlewares/Third_Party/FatFs/src/ff.c **** 
 499:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 500:Middlewares/Third_Party/FatFs/src/ff.c **** /* Module private work area                                   */
 501:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 502:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Uninitialized variables with static duration are
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /  guaranteed zero/null at start-up. If not, either the linker
 504:Middlewares/Third_Party/FatFs/src/ff.c **** /  or start-up routine being used is out of ANSI-C standard.
 505:Middlewares/Third_Party/FatFs/src/ff.c **** */
 506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 9
 508:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 509:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 510:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 
 513:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
 514:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 515:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 518:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 519:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 520:Middlewares/Third_Party/FatFs/src/ff.c **** 
 521:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0			/* Non LFN feature */
 522:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 523:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		(dobj).fn = sfn
 524:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 525:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 526:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 527:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN setting
 528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 529:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1			/* LFN feature with static working buffer */
 530:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = LfnBuf; }
 533:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 534:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 		/* LFN feature with dynamic working buffer on the stack */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR lbuf[_MAX_LFN + 1]
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = lbuf; }
 537:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 		/* LFN feature with dynamic working buffer on the heap */
 539:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR *lfn
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ lfn = ff_memalloc((_MAX_LFN + 1) * 2); if (!lfn) LEAVE_FF((dobj).fs, FR_N
 541:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()			ff_memfree(lfn)
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 543:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cciFFPmJ.s 			page 11


 546:Middlewares/Third_Party/FatFs/src/ff.c **** 
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 548:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for extended characters */
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 550:Middlewares/Third_Party/FatFs/src/ff.c **** 
 551:Middlewares/Third_Party/FatFs/src/ff.c **** 
 552:Middlewares/Third_Party/FatFs/src/ff.c **** 
 553:Middlewares/Third_Party/FatFs/src/ff.c **** 
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** 
 556:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 557:Middlewares/Third_Party/FatFs/src/ff.c **** 
 558:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 559:Middlewares/Third_Party/FatFs/src/ff.c **** 
 560:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 561:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (FATFS* fs, DWORD clst);
 562:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (FATFS* fs,	DWORD clst);
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 565:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (FATFS* fs,	DWORD clst,	DWORD val);
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 567:Middlewares/Third_Party/FatFs/src/ff.c **** 
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 569:Middlewares/Third_Party/FatFs/src/ff.c **** static void gen_numname (BYTE* dst, const BYTE* src, const WCHAR* lfn, UINT seq);
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_USE_LFN */
 571:Middlewares/Third_Party/FatFs/src/ff.c **** 
 572:Middlewares/Third_Party/FatFs/src/ff.c **** 
 573:Middlewares/Third_Party/FatFs/src/ff.c **** 
 574:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 575:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 577:Middlewares/Third_Party/FatFs/src/ff.c **** 
 578:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 579:Middlewares/Third_Party/FatFs/src/ff.c **** static
 580:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
  27              		.loc 1 580 53 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
 581:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
  32              		.loc 1 581 2 view .LVU1
 582:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
  33              		.loc 1 582 2 view .LVU2
 583:Middlewares/Third_Party/FatFs/src/ff.c **** 
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #if _WORD_ACCESS == 1
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt >= sizeof (int)) {
 586:Middlewares/Third_Party/FatFs/src/ff.c **** 		*(int*)d = *(int*)s;
 587:Middlewares/Third_Party/FatFs/src/ff.c **** 		d += sizeof (int); s += sizeof (int);
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 		cnt -= sizeof (int);
 589:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  34              		.loc 1 591 2 view .LVU3
  35              	.L2:
  36              		.loc 1 591 8 view .LVU4
  37              		.loc 1 591 12 is_stmt 0 view .LVU5
ARM GAS  /tmp/cciFFPmJ.s 			page 12


  38 0000 531E     		subs	r3, r2, #1
  39              	.LVL1:
  40              		.loc 1 591 8 view .LVU6
  41 0002 2AB1     		cbz	r2, .L4
 592:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  42              		.loc 1 592 3 is_stmt 1 view .LVU7
  43              	.LVL2:
  44              		.loc 1 592 10 is_stmt 0 view .LVU8
  45 0004 11F8012B 		ldrb	r2, [r1], #1	@ zero_extendqisi2
  46              	.LVL3:
  47              		.loc 1 592 8 view .LVU9
  48 0008 00F8012B 		strb	r2, [r0], #1
  49              	.LVL4:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  50              		.loc 1 591 12 view .LVU10
  51 000c 1A46     		mov	r2, r3
  52 000e F7E7     		b	.L2
  53              	.L4:
 593:Middlewares/Third_Party/FatFs/src/ff.c **** }
  54              		.loc 1 593 1 view .LVU11
  55 0010 7047     		bx	lr
  56              		.cfi_endproc
  57              	.LFE65:
  59              		.section	.text.mem_set,"ax",%progbits
  60              		.align	1
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  64              		.fpu softvfp
  66              	mem_set:
  67              	.LVL5:
  68              	.LFB66:
 594:Middlewares/Third_Party/FatFs/src/ff.c **** 
 595:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory */
 596:Middlewares/Third_Party/FatFs/src/ff.c **** static
 597:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
  69              		.loc 1 597 45 is_stmt 1 view -0
  70              		.cfi_startproc
  71              		@ args = 0, pretend = 0, frame = 0
  72              		@ frame_needed = 0, uses_anonymous_args = 0
  73              		@ link register save eliminated.
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
  74              		.loc 1 598 2 view .LVU13
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  75              		.loc 1 600 2 view .LVU14
  76              	.L6:
  77              		.loc 1 600 8 view .LVU15
  78              		.loc 1 600 12 is_stmt 0 view .LVU16
  79 0000 531E     		subs	r3, r2, #1
  80              	.LVL6:
  81              		.loc 1 600 8 view .LVU17
  82 0002 1AB1     		cbz	r2, .L8
 601:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  83              		.loc 1 601 3 is_stmt 1 view .LVU18
  84              	.LVL7:
  85              		.loc 1 601 8 is_stmt 0 view .LVU19
ARM GAS  /tmp/cciFFPmJ.s 			page 13


  86 0004 00F8011B 		strb	r1, [r0], #1
  87              	.LVL8:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  88              		.loc 1 600 12 view .LVU20
  89 0008 1A46     		mov	r2, r3
  90 000a F9E7     		b	.L6
  91              	.L8:
 602:Middlewares/Third_Party/FatFs/src/ff.c **** }
  92              		.loc 1 602 1 view .LVU21
  93 000c 7047     		bx	lr
  94              		.cfi_endproc
  95              	.LFE66:
  97              		.section	.text.mem_cmp,"ax",%progbits
  98              		.align	1
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 102              		.fpu softvfp
 104              	mem_cmp:
 105              	.LVL9:
 106              	.LFB67:
 603:Middlewares/Third_Party/FatFs/src/ff.c **** 
 604:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory to memory */
 605:Middlewares/Third_Party/FatFs/src/ff.c **** static
 606:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {
 107              		.loc 1 606 58 is_stmt 1 view -0
 108              		.cfi_startproc
 109              		@ args = 0, pretend = 0, frame = 0
 110              		@ frame_needed = 0, uses_anonymous_args = 0
 111              		@ link register save eliminated.
 112              		.loc 1 606 58 is_stmt 0 view .LVU23
 113 0000 10B4     		push	{r4}
 114              	.LCFI0:
 115              		.cfi_def_cfa_offset 4
 116              		.cfi_offset 4, -4
 117 0002 0346     		mov	r3, r0
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 118              		.loc 1 607 2 is_stmt 1 view .LVU24
 119              	.LVL10:
 608:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 120              		.loc 1 608 2 view .LVU25
 609:Middlewares/Third_Party/FatFs/src/ff.c **** 
 610:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt-- && (r = *d++ - *s++) == 0) ;
 121              		.loc 1 610 2 view .LVU26
 608:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 122              		.loc 1 608 6 is_stmt 0 view .LVU27
 123 0004 0020     		movs	r0, #0
 124              	.LVL11:
 125              	.L11:
 126              		.loc 1 610 42 is_stmt 1 discriminator 2 view .LVU28
 127              		.loc 1 610 8 discriminator 2 view .LVU29
 128 0006 1446     		mov	r4, r2
 129              		.loc 1 610 12 is_stmt 0 discriminator 2 view .LVU30
 130 0008 013A     		subs	r2, r2, #1
 131              	.LVL12:
 132              		.loc 1 610 8 discriminator 2 view .LVU31
 133 000a 2CB1     		cbz	r4, .L9
ARM GAS  /tmp/cciFFPmJ.s 			page 14


 134              	.LVL13:
 135              		.loc 1 610 23 discriminator 1 view .LVU32
 136 000c 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 137              	.LVL14:
 138              		.loc 1 610 30 discriminator 1 view .LVU33
 139 0010 11F8014B 		ldrb	r4, [r1], #1	@ zero_extendqisi2
 140              	.LVL15:
 141              		.loc 1 610 15 discriminator 1 view .LVU34
 142 0014 001B     		subs	r0, r0, r4
 143              	.LVL16:
 144              		.loc 1 610 15 discriminator 1 view .LVU35
 145 0016 F6D0     		beq	.L11
 146              	.LVL17:
 147              	.L9:
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 612:Middlewares/Third_Party/FatFs/src/ff.c **** }
 148              		.loc 1 612 1 view .LVU36
 149 0018 10BC     		pop	{r4}
 150              	.LCFI1:
 151              		.cfi_restore 4
 152              		.cfi_def_cfa_offset 0
 153 001a 7047     		bx	lr
 154              		.cfi_endproc
 155              	.LFE67:
 157              		.section	.text.chk_chr,"ax",%progbits
 158              		.align	1
 159              		.syntax unified
 160              		.thumb
 161              		.thumb_func
 162              		.fpu softvfp
 164              	chk_chr:
 165              	.LVL18:
 166              	.LFB68:
 613:Middlewares/Third_Party/FatFs/src/ff.c **** 
 614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 615:Middlewares/Third_Party/FatFs/src/ff.c **** static
 616:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {
 167              		.loc 1 616 40 is_stmt 1 view -0
 168              		.cfi_startproc
 169              		@ args = 0, pretend = 0, frame = 0
 170              		@ frame_needed = 0, uses_anonymous_args = 0
 171              		@ link register save eliminated.
 172              		.loc 1 616 40 is_stmt 0 view .LVU38
 173 0000 0346     		mov	r3, r0
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 174              		.loc 1 617 2 is_stmt 1 view .LVU39
 175              	.LVL19:
 176              	.L15:
 177              		.loc 1 617 8 discriminator 1 view .LVU40
 178              		.loc 1 617 9 is_stmt 0 discriminator 1 view .LVU41
 179 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 180              		.loc 1 617 8 discriminator 1 view .LVU42
 181 0004 18B1     		cbz	r0, .L16
 182              		.loc 1 617 14 discriminator 2 view .LVU43
 183 0006 8842     		cmp	r0, r1
 184 0008 01D0     		beq	.L16
 185              		.loc 1 617 30 is_stmt 1 discriminator 3 view .LVU44
ARM GAS  /tmp/cciFFPmJ.s 			page 15


 186              		.loc 1 617 33 is_stmt 0 discriminator 3 view .LVU45
 187 000a 0133     		adds	r3, r3, #1
 188              	.LVL20:
 189              		.loc 1 617 33 discriminator 3 view .LVU46
 190 000c F9E7     		b	.L15
 191              	.L16:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 192              		.loc 1 618 2 is_stmt 1 view .LVU47
 619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 193              		.loc 1 619 1 is_stmt 0 view .LVU48
 194 000e 7047     		bx	lr
 195              		.cfi_endproc
 196              	.LFE68:
 198              		.section	.text.chk_lock,"ax",%progbits
 199              		.align	1
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 203              		.fpu softvfp
 205              	chk_lock:
 206              	.LVL21:
 207              	.LFB69:
 620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 623:Middlewares/Third_Party/FatFs/src/ff.c **** 
 624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 625:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 626:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 627:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 628:Middlewares/Third_Party/FatFs/src/ff.c **** static
 629:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 631:Middlewares/Third_Party/FatFs/src/ff.c **** )
 632:Middlewares/Third_Party/FatFs/src/ff.c **** {
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_req_grant(fs->sobj);
 634:Middlewares/Third_Party/FatFs/src/ff.c **** }
 635:Middlewares/Third_Party/FatFs/src/ff.c **** 
 636:Middlewares/Third_Party/FatFs/src/ff.c **** 
 637:Middlewares/Third_Party/FatFs/src/ff.c **** static
 638:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 641:Middlewares/Third_Party/FatFs/src/ff.c **** )
 642:Middlewares/Third_Party/FatFs/src/ff.c **** {
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs &&
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_NOT_ENABLED &&
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_DRIVE &&
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_OBJECT &&
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_TIMEOUT) {
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 649:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 650:Middlewares/Third_Party/FatFs/src/ff.c **** }
 651:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 652:Middlewares/Third_Party/FatFs/src/ff.c **** 
 653:Middlewares/Third_Party/FatFs/src/ff.c **** 
 654:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cciFFPmJ.s 			page 16


 655:Middlewares/Third_Party/FatFs/src/ff.c **** 
 656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 657:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 658:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 659:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 660:Middlewares/Third_Party/FatFs/src/ff.c **** 
 661:Middlewares/Third_Party/FatFs/src/ff.c **** static
 662:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 665:Middlewares/Third_Party/FatFs/src/ff.c **** )
 666:Middlewares/Third_Party/FatFs/src/ff.c **** {
 208              		.loc 1 666 1 is_stmt 1 view -0
 209              		.cfi_startproc
 210              		@ args = 0, pretend = 0, frame = 0
 211              		@ frame_needed = 0, uses_anonymous_args = 0
 212              		@ link register save eliminated.
 213              		.loc 1 666 1 is_stmt 0 view .LVU50
 214 0000 30B4     		push	{r4, r5}
 215              	.LCFI2:
 216              		.cfi_def_cfa_offset 8
 217              		.cfi_offset 4, -8
 218              		.cfi_offset 5, -4
 667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 219              		.loc 1 667 2 is_stmt 1 view .LVU51
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 220              		.loc 1 670 2 view .LVU52
 221              	.LVL22:
 222              		.loc 1 670 14 is_stmt 0 view .LVU53
 223 0002 0025     		movs	r5, #0
 224              		.loc 1 670 9 view .LVU54
 225 0004 2B46     		mov	r3, r5
 226              		.loc 1 670 2 view .LVU55
 227 0006 01E0     		b	.L19
 228              	.LVL23:
 229              	.L26:
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->fs &&	 	/* Check if the object matched with an open object */
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 230              		.loc 1 676 7 view .LVU56
 231 0008 0125     		movs	r5, #1
 232              	.LVL24:
 233              	.L20:
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 234              		.loc 1 670 33 is_stmt 1 discriminator 2 view .LVU57
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 235              		.loc 1 670 34 is_stmt 0 discriminator 2 view .LVU58
 236 000a 0133     		adds	r3, r3, #1
 237              	.LVL25:
 238              	.L19:
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 239              		.loc 1 670 19 is_stmt 1 discriminator 1 view .LVU59
ARM GAS  /tmp/cciFFPmJ.s 			page 17


 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 240              		.loc 1 670 2 is_stmt 0 discriminator 1 view .LVU60
 241 000c 012B     		cmp	r3, #1
 242 000e 1ED8     		bhi	.L21
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 243              		.loc 1 671 3 is_stmt 1 view .LVU61
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 244              		.loc 1 671 15 is_stmt 0 view .LVU62
 245 0010 03EB4302 		add	r2, r3, r3, lsl #1
 246 0014 1C4C     		ldr	r4, .L35
 247 0016 54F82220 		ldr	r2, [r4, r2, lsl #2]
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 248              		.loc 1 671 6 view .LVU63
 249 001a 002A     		cmp	r2, #0
 250 001c F4D0     		beq	.L26
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 251              		.loc 1 672 4 is_stmt 1 view .LVU64
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 252              		.loc 1 672 25 is_stmt 0 view .LVU65
 253 001e D0F80042 		ldr	r4, [r0, #512]
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 254              		.loc 1 672 7 view .LVU66
 255 0022 A242     		cmp	r2, r4
 256 0024 F1D1     		bne	.L20
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 257              		.loc 1 673 13 discriminator 1 view .LVU67
 258 0026 03EB4302 		add	r2, r3, r3, lsl #1
 259 002a 174C     		ldr	r4, .L35
 260 002c 04EB8202 		add	r2, r4, r2, lsl #2
 261 0030 5468     		ldr	r4, [r2, #4]
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 262              		.loc 1 673 23 discriminator 1 view .LVU68
 263 0032 D0F80822 		ldr	r2, [r0, #520]
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 264              		.loc 1 672 30 discriminator 1 view .LVU69
 265 0036 9442     		cmp	r4, r2
 266 0038 E7D1     		bne	.L20
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 267              		.loc 1 674 13 view .LVU70
 268 003a 03EB4302 		add	r2, r3, r3, lsl #1
 269 003e 124C     		ldr	r4, .L35
 270 0040 04EB8202 		add	r2, r4, r2, lsl #2
 271 0044 1489     		ldrh	r4, [r2, #8]
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 272              		.loc 1 674 23 view .LVU71
 273 0046 B0F80622 		ldrh	r2, [r0, #518]
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 274              		.loc 1 673 32 view .LVU72
 275 004a 9442     		cmp	r4, r2
 276 004c DDD1     		bne	.L20
 277              	.L21:
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK)	/* The object is not opened */
 278              		.loc 1 679 2 is_stmt 1 view .LVU73
 279              		.loc 1 679 5 is_stmt 0 view .LVU74
 280 004e 022B     		cmp	r3, #2
ARM GAS  /tmp/cciFFPmJ.s 			page 18


 281 0050 0CD0     		beq	.L32
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 681:Middlewares/Third_Party/FatFs/src/ff.c **** 
 682:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 683:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 282              		.loc 1 683 2 is_stmt 1 view .LVU75
 283              		.loc 1 683 52 is_stmt 0 view .LVU76
 284 0052 B1B9     		cbnz	r1, .L29
 285              		.loc 1 683 25 discriminator 2 view .LVU77
 286 0054 03EB4303 		add	r3, r3, r3, lsl #1
 287              	.LVL26:
 288              		.loc 1 683 25 discriminator 2 view .LVU78
 289 0058 0B4A     		ldr	r2, .L35
 290 005a 02EB8303 		add	r3, r2, r3, lsl #2
 291 005e 5B89     		ldrh	r3, [r3, #10]
 292              		.loc 1 683 14 discriminator 2 view .LVU79
 293 0060 B3F5807F 		cmp	r3, #256
 294 0064 0BD0     		beq	.L33
 295              		.loc 1 683 52 view .LVU80
 296 0066 0020     		movs	r0, #0
 297              	.LVL27:
 298              	.L25:
 684:Middlewares/Third_Party/FatFs/src/ff.c **** }
 299              		.loc 1 684 1 view .LVU81
 300 0068 30BC     		pop	{r4, r5}
 301              	.LCFI3:
 302              		.cfi_remember_state
 303              		.cfi_restore 5
 304              		.cfi_restore 4
 305              		.cfi_def_cfa_offset 0
 306              	.LVL28:
 307              		.loc 1 684 1 view .LVU82
 308 006a 7047     		bx	lr
 309              	.LVL29:
 310              	.L32:
 311              	.LCFI4:
 312              		.cfi_restore_state
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 313              		.loc 1 680 3 is_stmt 1 view .LVU83
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 314              		.loc 1 680 35 is_stmt 0 view .LVU84
 315 006c 2DB9     		cbnz	r5, .L27
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 316              		.loc 1 680 14 discriminator 2 view .LVU85
 317 006e 0229     		cmp	r1, #2
 318 0070 01D0     		beq	.L34
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 319              		.loc 1 680 35 view .LVU86
 320 0072 1220     		movs	r0, #18
 321              	.LVL30:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 322              		.loc 1 680 35 view .LVU87
 323 0074 F8E7     		b	.L25
 324              	.LVL31:
 325              	.L34:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 326              		.loc 1 680 35 view .LVU88
ARM GAS  /tmp/cciFFPmJ.s 			page 19


 327 0076 0020     		movs	r0, #0
 328              	.LVL32:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 329              		.loc 1 680 35 view .LVU89
 330 0078 F6E7     		b	.L25
 331              	.LVL33:
 332              	.L27:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 333              		.loc 1 680 35 view .LVU90
 334 007a 0020     		movs	r0, #0
 335              	.LVL34:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 336              		.loc 1 680 35 view .LVU91
 337 007c F4E7     		b	.L25
 338              	.LVL35:
 339              	.L33:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 340              		.loc 1 683 52 view .LVU92
 341 007e 1020     		movs	r0, #16
 342              	.LVL36:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 343              		.loc 1 683 52 view .LVU93
 344 0080 F2E7     		b	.L25
 345              	.LVL37:
 346              	.L29:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 347              		.loc 1 683 52 view .LVU94
 348 0082 1020     		movs	r0, #16
 349              	.LVL38:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 350              		.loc 1 683 52 view .LVU95
 351 0084 F0E7     		b	.L25
 352              	.L36:
 353 0086 00BF     		.align	2
 354              	.L35:
 355 0088 00000000 		.word	.LANCHOR0
 356              		.cfi_endproc
 357              	.LFE69:
 359              		.section	.text.enq_lock,"ax",%progbits
 360              		.align	1
 361              		.syntax unified
 362              		.thumb
 363              		.thumb_func
 364              		.fpu softvfp
 366              	enq_lock:
 367              	.LFB70:
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** static
 688:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** {
 368              		.loc 1 689 1 is_stmt 1 view -0
 369              		.cfi_startproc
 370              		@ args = 0, pretend = 0, frame = 0
 371              		@ frame_needed = 0, uses_anonymous_args = 0
 372              		@ link register save eliminated.
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
ARM GAS  /tmp/cciFFPmJ.s 			page 20


 373              		.loc 1 690 2 view .LVU97
 691:Middlewares/Third_Party/FatFs/src/ff.c **** 
 692:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 374              		.loc 1 692 2 view .LVU98
 375              	.LVL39:
 376              		.loc 1 692 9 is_stmt 0 view .LVU99
 377 0000 0020     		movs	r0, #0
 378              		.loc 1 692 2 view .LVU100
 379 0002 00E0     		b	.L38
 380              	.LVL40:
 381              	.L40:
 382              		.loc 1 692 48 is_stmt 1 discriminator 4 view .LVU101
 383              		.loc 1 692 43 discriminator 4 view .LVU102
 384              		.loc 1 692 44 is_stmt 0 discriminator 4 view .LVU103
 385 0004 0130     		adds	r0, r0, #1
 386              	.LVL41:
 387              	.L38:
 388              		.loc 1 692 14 is_stmt 1 discriminator 1 view .LVU104
 389              		.loc 1 692 2 is_stmt 0 discriminator 1 view .LVU105
 390 0006 0128     		cmp	r0, #1
 391 0008 06D8     		bhi	.L39
 392              		.loc 1 692 38 discriminator 3 view .LVU106
 393 000a 00EB4002 		add	r2, r0, r0, lsl #1
 394 000e 9300     		lsls	r3, r2, #2
 395 0010 034A     		ldr	r2, .L41
 396 0012 D358     		ldr	r3, [r2, r3]
 397              		.loc 1 692 27 discriminator 3 view .LVU107
 398 0014 002B     		cmp	r3, #0
 399 0016 F5D1     		bne	.L40
 400              	.L39:
 693:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 401              		.loc 1 693 2 is_stmt 1 view .LVU108
 694:Middlewares/Third_Party/FatFs/src/ff.c **** }
 402              		.loc 1 694 1 is_stmt 0 view .LVU109
 403 0018 0238     		subs	r0, r0, #2
 404              	.LVL42:
 405              		.loc 1 694 1 view .LVU110
 406 001a 18BF     		it	ne
 407 001c 0120     		movne	r0, #1
 408              	.LVL43:
 409              		.loc 1 694 1 view .LVU111
 410 001e 7047     		bx	lr
 411              	.L42:
 412              		.align	2
 413              	.L41:
 414 0020 00000000 		.word	.LANCHOR0
 415              		.cfi_endproc
 416              	.LFE70:
 418              		.section	.text.inc_lock,"ax",%progbits
 419              		.align	1
 420              		.syntax unified
 421              		.thumb
 422              		.thumb_func
 423              		.fpu softvfp
 425              	inc_lock:
 426              	.LVL44:
 427              	.LFB71:
ARM GAS  /tmp/cciFFPmJ.s 			page 21


 695:Middlewares/Third_Party/FatFs/src/ff.c **** 
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** static
 698:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 701:Middlewares/Third_Party/FatFs/src/ff.c **** )
 702:Middlewares/Third_Party/FatFs/src/ff.c **** {
 428              		.loc 1 702 1 is_stmt 1 view -0
 429              		.cfi_startproc
 430              		@ args = 0, pretend = 0, frame = 0
 431              		@ frame_needed = 0, uses_anonymous_args = 0
 432              		@ link register save eliminated.
 433              		.loc 1 702 1 is_stmt 0 view .LVU113
 434 0000 70B4     		push	{r4, r5, r6}
 435              	.LCFI5:
 436              		.cfi_def_cfa_offset 12
 437              		.cfi_offset 4, -12
 438              		.cfi_offset 5, -8
 439              		.cfi_offset 6, -4
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 440              		.loc 1 703 2 is_stmt 1 view .LVU114
 704:Middlewares/Third_Party/FatFs/src/ff.c **** 
 705:Middlewares/Third_Party/FatFs/src/ff.c **** 
 706:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 441              		.loc 1 706 2 view .LVU115
 442              	.LVL45:
 443              		.loc 1 706 9 is_stmt 0 view .LVU116
 444 0002 0023     		movs	r3, #0
 445              		.loc 1 706 2 view .LVU117
 446 0004 00E0     		b	.L44
 447              	.LVL46:
 448              	.L45:
 449              		.loc 1 706 28 is_stmt 1 discriminator 2 view .LVU118
 450              		.loc 1 706 29 is_stmt 0 discriminator 2 view .LVU119
 451 0006 0133     		adds	r3, r3, #1
 452              	.LVL47:
 453              	.L44:
 454              		.loc 1 706 14 is_stmt 1 discriminator 1 view .LVU120
 455              		.loc 1 706 2 is_stmt 0 discriminator 1 view .LVU121
 456 0008 012B     		cmp	r3, #1
 457 000a 1CD8     		bhi	.L46
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->fs &&
 458              		.loc 1 707 3 is_stmt 1 view .LVU122
 459              		.loc 1 707 15 is_stmt 0 view .LVU123
 460 000c 03EB4302 		add	r2, r3, r3, lsl #1
 461 0010 2E4C     		ldr	r4, .L61
 462 0012 54F82240 		ldr	r4, [r4, r2, lsl #2]
 463              		.loc 1 707 24 view .LVU124
 464 0016 D0F80022 		ldr	r2, [r0, #512]
 465              		.loc 1 707 6 view .LVU125
 466 001a 9442     		cmp	r4, r2
 467 001c F3D1     		bne	.L45
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->sclust &&
 468              		.loc 1 708 12 discriminator 1 view .LVU126
 469 001e 03EB4302 		add	r2, r3, r3, lsl #1
 470 0022 2A4C     		ldr	r4, .L61
ARM GAS  /tmp/cciFFPmJ.s 			page 22


 471 0024 04EB8202 		add	r2, r4, r2, lsl #2
 472 0028 5468     		ldr	r4, [r2, #4]
 473              		.loc 1 708 22 discriminator 1 view .LVU127
 474 002a D0F80822 		ldr	r2, [r0, #520]
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->fs &&
 475              		.loc 1 707 29 discriminator 1 view .LVU128
 476 002e 9442     		cmp	r4, r2
 477 0030 E9D1     		bne	.L45
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].idx == dp->index) break;
 478              		.loc 1 709 12 view .LVU129
 479 0032 03EB4302 		add	r2, r3, r3, lsl #1
 480 0036 254C     		ldr	r4, .L61
 481 0038 04EB8202 		add	r2, r4, r2, lsl #2
 482 003c 1489     		ldrh	r4, [r2, #8]
 483              		.loc 1 709 22 view .LVU130
 484 003e B0F80622 		ldrh	r2, [r0, #518]
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->sclust &&
 485              		.loc 1 708 31 view .LVU131
 486 0042 9442     		cmp	r4, r2
 487 0044 DFD1     		bne	.L45
 488              	.L46:
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 
 712:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 489              		.loc 1 712 2 is_stmt 1 view .LVU132
 490              		.loc 1 712 5 is_stmt 0 view .LVU133
 491 0046 022B     		cmp	r3, #2
 492 0048 1AD0     		beq	.L60
 493              	.LVL48:
 494              	.L49:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 495              		.loc 1 721 2 is_stmt 1 view .LVU134
 496              		.loc 1 721 5 is_stmt 0 view .LVU135
 497 004a 39B1     		cbz	r1, .L53
 498              		.loc 1 721 21 discriminator 1 view .LVU136
 499 004c 03EB4302 		add	r2, r3, r3, lsl #1
 500 0050 1E48     		ldr	r0, .L61
 501 0052 00EB8202 		add	r2, r0, r2, lsl #2
 502 0056 5289     		ldrh	r2, [r2, #10]
 503              		.loc 1 721 10 discriminator 1 view .LVU137
 504 0058 002A     		cmp	r2, #0
 505 005a 35D1     		bne	.L57
 506              	.L53:
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 507              		.loc 1 723 2 is_stmt 1 view .LVU138
 508              		.loc 1 723 15 is_stmt 0 view .LVU139
 509 005c 79BB     		cbnz	r1, .L58
 510              		.loc 1 723 39 discriminator 1 view .LVU140
ARM GAS  /tmp/cciFFPmJ.s 			page 23


 511 005e 03EB4302 		add	r2, r3, r3, lsl #1
 512 0062 1A49     		ldr	r1, .L61
 513              	.LVL49:
 514              		.loc 1 723 39 discriminator 1 view .LVU141
 515 0064 01EB8202 		add	r2, r1, r2, lsl #2
 516 0068 5189     		ldrh	r1, [r2, #10]
 517              		.loc 1 723 15 discriminator 1 view .LVU142
 518 006a 0131     		adds	r1, r1, #1
 519 006c 89B2     		uxth	r1, r1
 520              	.L54:
 521              		.loc 1 723 15 discriminator 4 view .LVU143
 522 006e 03EB4300 		add	r0, r3, r3, lsl #1
 523 0072 164A     		ldr	r2, .L61
 524 0074 02EB8002 		add	r2, r2, r0, lsl #2
 525 0078 5181     		strh	r1, [r2, #10]	@ movhi
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 
 725:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 526              		.loc 1 725 2 is_stmt 1 discriminator 4 view .LVU144
 527              		.loc 1 725 11 is_stmt 0 discriminator 4 view .LVU145
 528 007a 581C     		adds	r0, r3, #1
 529              	.L43:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** }
 530              		.loc 1 726 1 view .LVU146
 531 007c 70BC     		pop	{r4, r5, r6}
 532              	.LCFI6:
 533              		.cfi_remember_state
 534              		.cfi_restore 6
 535              		.cfi_restore 5
 536              		.cfi_restore 4
 537              		.cfi_def_cfa_offset 0
 538 007e 7047     		bx	lr
 539              	.LVL50:
 540              	.L60:
 541              	.LCFI7:
 542              		.cfi_restore_state
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 543              		.loc 1 713 10 view .LVU147
 544 0080 0023     		movs	r3, #0
 545              	.LVL51:
 546              	.L48:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 547              		.loc 1 713 15 is_stmt 1 discriminator 1 view .LVU148
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 548              		.loc 1 713 3 is_stmt 0 discriminator 1 view .LVU149
 549 0082 012B     		cmp	r3, #1
 550 0084 07D8     		bhi	.L50
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 551              		.loc 1 713 39 discriminator 3 view .LVU150
 552 0086 03EB4302 		add	r2, r3, r3, lsl #1
 553 008a 104C     		ldr	r4, .L61
 554 008c 54F82220 		ldr	r2, [r4, r2, lsl #2]
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 555              		.loc 1 713 28 discriminator 3 view .LVU151
 556 0090 0AB1     		cbz	r2, .L50
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 557              		.loc 1 713 49 is_stmt 1 discriminator 4 view .LVU152
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
ARM GAS  /tmp/cciFFPmJ.s 			page 24


 558              		.loc 1 713 44 discriminator 4 view .LVU153
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 559              		.loc 1 713 45 is_stmt 0 discriminator 4 view .LVU154
 560 0092 0133     		adds	r3, r3, #1
 561              	.LVL52:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 562              		.loc 1 713 45 discriminator 4 view .LVU155
 563 0094 F5E7     		b	.L48
 564              	.L50:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 565              		.loc 1 714 3 is_stmt 1 view .LVU156
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 566              		.loc 1 714 6 is_stmt 0 view .LVU157
 567 0096 022B     		cmp	r3, #2
 568 0098 14D0     		beq	.L56
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 569              		.loc 1 715 3 is_stmt 1 view .LVU158
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 570              		.loc 1 715 19 is_stmt 0 view .LVU159
 571 009a D0F80062 		ldr	r6, [r0, #512]
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 572              		.loc 1 715 15 view .LVU160
 573 009e 0B4C     		ldr	r4, .L61
 574 00a0 03EB4305 		add	r5, r3, r3, lsl #1
 575 00a4 04EB8502 		add	r2, r4, r5, lsl #2
 576 00a8 44F82560 		str	r6, [r4, r5, lsl #2]
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 577              		.loc 1 716 3 is_stmt 1 view .LVU161
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 578              		.loc 1 716 20 is_stmt 0 view .LVU162
 579 00ac D0F80842 		ldr	r4, [r0, #520]
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 580              		.loc 1 716 16 view .LVU163
 581 00b0 5460     		str	r4, [r2, #4]
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 582              		.loc 1 717 3 is_stmt 1 view .LVU164
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 583              		.loc 1 717 20 is_stmt 0 view .LVU165
 584 00b2 B0F80602 		ldrh	r0, [r0, #518]
 585              	.LVL53:
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 586              		.loc 1 717 16 view .LVU166
 587 00b6 1081     		strh	r0, [r2, #8]	@ movhi
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 588              		.loc 1 718 3 is_stmt 1 view .LVU167
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 589              		.loc 1 718 16 is_stmt 0 view .LVU168
 590 00b8 0020     		movs	r0, #0
 591 00ba 5081     		strh	r0, [r2, #10]	@ movhi
 592 00bc C5E7     		b	.L49
 593              	.L58:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 594              		.loc 1 723 15 view .LVU169
 595 00be 4FF48071 		mov	r1, #256
 596              	.LVL54:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 597              		.loc 1 723 15 view .LVU170
ARM GAS  /tmp/cciFFPmJ.s 			page 25


 598 00c2 D4E7     		b	.L54
 599              	.LVL55:
 600              	.L56:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 601              		.loc 1 714 29 view .LVU171
 602 00c4 0020     		movs	r0, #0
 603              	.LVL56:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 604              		.loc 1 714 29 view .LVU172
 605 00c6 D9E7     		b	.L43
 606              	.L57:
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 
 607              		.loc 1 721 34 view .LVU173
 608 00c8 0020     		movs	r0, #0
 609 00ca D7E7     		b	.L43
 610              	.L62:
 611              		.align	2
 612              	.L61:
 613 00cc 00000000 		.word	.LANCHOR0
 614              		.cfi_endproc
 615              	.LFE71:
 617              		.section	.text.dec_lock,"ax",%progbits
 618              		.align	1
 619              		.syntax unified
 620              		.thumb
 621              		.thumb_func
 622              		.fpu softvfp
 624              	dec_lock:
 625              	.LVL57:
 626              	.LFB72:
 727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 728:Middlewares/Third_Party/FatFs/src/ff.c **** 
 729:Middlewares/Third_Party/FatFs/src/ff.c **** static
 730:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 732:Middlewares/Third_Party/FatFs/src/ff.c **** )
 733:Middlewares/Third_Party/FatFs/src/ff.c **** {
 627              		.loc 1 733 1 is_stmt 1 view -0
 628              		.cfi_startproc
 629              		@ args = 0, pretend = 0, frame = 0
 630              		@ frame_needed = 0, uses_anonymous_args = 0
 631              		@ link register save eliminated.
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 632              		.loc 1 734 2 view .LVU175
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 633              		.loc 1 735 2 view .LVU176
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** 
 738:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 634              		.loc 1 738 2 view .LVU177
 635              		.loc 1 738 5 is_stmt 0 view .LVU178
 636 0000 0138     		subs	r0, r0, #1
 637              	.LVL58:
 638              		.loc 1 738 5 view .LVU179
 639 0002 0128     		cmp	r0, #1
 640 0004 1AD8     		bhi	.L66
 739:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
ARM GAS  /tmp/cciFFPmJ.s 			page 26


 641              		.loc 1 739 3 is_stmt 1 view .LVU180
 642              		.loc 1 739 5 is_stmt 0 view .LVU181
 643 0006 00EB4003 		add	r3, r0, r0, lsl #1
 644 000a 0E4A     		ldr	r2, .L69
 645 000c 02EB8303 		add	r3, r2, r3, lsl #2
 646 0010 5B89     		ldrh	r3, [r3, #10]
 647              	.LVL59:
 740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 648              		.loc 1 740 3 is_stmt 1 view .LVU182
 649              		.loc 1 740 6 is_stmt 0 view .LVU183
 650 0012 B3F5807F 		cmp	r3, #256
 651 0016 03D0     		beq	.L67
 741:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n) n--;					/* Decrement read mode open count */
 652              		.loc 1 741 3 is_stmt 1 view .LVU184
 653              		.loc 1 741 6 is_stmt 0 view .LVU185
 654 0018 1BB1     		cbz	r3, .L65
 655              		.loc 1 741 10 is_stmt 1 discriminator 1 view .LVU186
 656              		.loc 1 741 11 is_stmt 0 discriminator 1 view .LVU187
 657 001a 013B     		subs	r3, r3, #1
 658              	.LVL60:
 659              		.loc 1 741 11 discriminator 1 view .LVU188
 660 001c 9BB2     		uxth	r3, r3
 661              	.LVL61:
 662              		.loc 1 741 11 discriminator 1 view .LVU189
 663 001e 00E0     		b	.L65
 664              	.L67:
 740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 665              		.loc 1 740 21 view .LVU190
 666 0020 0023     		movs	r3, #0
 667              	.LVL62:
 668              	.L65:
 742:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 669              		.loc 1 742 3 is_stmt 1 view .LVU191
 670              		.loc 1 742 16 is_stmt 0 view .LVU192
 671 0022 00EB4002 		add	r2, r0, r0, lsl #1
 672 0026 0749     		ldr	r1, .L69
 673 0028 01EB8202 		add	r2, r1, r2, lsl #2
 674 002c 5381     		strh	r3, [r2, #10]	@ movhi
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!n) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 675              		.loc 1 743 3 is_stmt 1 view .LVU193
 676              		.loc 1 743 6 is_stmt 0 view .LVU194
 677 002e 3BB9     		cbnz	r3, .L68
 678              		.loc 1 743 11 is_stmt 1 discriminator 1 view .LVU195
 679              		.loc 1 743 23 is_stmt 0 discriminator 1 view .LVU196
 680 0030 00EB4000 		add	r0, r0, r0, lsl #1
 681              	.LVL63:
 682              		.loc 1 743 23 discriminator 1 view .LVU197
 683 0034 8300     		lsls	r3, r0, #2
 684              	.LVL64:
 685              		.loc 1 743 23 discriminator 1 view .LVU198
 686 0036 0020     		movs	r0, #0
 687 0038 C850     		str	r0, [r1, r3]
 688 003a 7047     		bx	lr
 689              	.LVL65:
 690              	.L66:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 745:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
ARM GAS  /tmp/cciFFPmJ.s 			page 27


 746:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 691              		.loc 1 746 7 view .LVU199
 692 003c 0220     		movs	r0, #2
 693              	.LVL66:
 694              		.loc 1 746 7 view .LVU200
 695 003e 7047     		bx	lr
 696              	.LVL67:
 697              	.L68:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 698              		.loc 1 744 7 view .LVU201
 699 0040 0020     		movs	r0, #0
 700              	.LVL68:
 747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 701              		.loc 1 748 2 is_stmt 1 view .LVU202
 749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 702              		.loc 1 749 1 is_stmt 0 view .LVU203
 703 0042 7047     		bx	lr
 704              	.L70:
 705              		.align	2
 706              	.L69:
 707 0044 00000000 		.word	.LANCHOR0
 708              		.cfi_endproc
 709              	.LFE72:
 711              		.section	.text.clear_lock,"ax",%progbits
 712              		.align	1
 713              		.syntax unified
 714              		.thumb
 715              		.thumb_func
 716              		.fpu softvfp
 718              	clear_lock:
 719              	.LVL69:
 720              	.LFB73:
 750:Middlewares/Third_Party/FatFs/src/ff.c **** 
 751:Middlewares/Third_Party/FatFs/src/ff.c **** 
 752:Middlewares/Third_Party/FatFs/src/ff.c **** static
 753:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 755:Middlewares/Third_Party/FatFs/src/ff.c **** )
 756:Middlewares/Third_Party/FatFs/src/ff.c **** {
 721              		.loc 1 756 1 is_stmt 1 view -0
 722              		.cfi_startproc
 723              		@ args = 0, pretend = 0, frame = 0
 724              		@ frame_needed = 0, uses_anonymous_args = 0
 725              		@ link register save eliminated.
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 726              		.loc 1 757 2 view .LVU205
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 727              		.loc 1 759 2 view .LVU206
 728              		.loc 1 759 9 is_stmt 0 view .LVU207
 729 0000 0023     		movs	r3, #0
 730              		.loc 1 759 2 view .LVU208
 731 0002 02E0     		b	.L76
 732              	.LVL70:
 733              	.L83:
 734              	.LCFI8:
ARM GAS  /tmp/cciFFPmJ.s 			page 28


 735              		.cfi_def_cfa_offset 4
 736              		.cfi_offset 4, -4
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 762:Middlewares/Third_Party/FatFs/src/ff.c **** }
 737              		.loc 1 762 1 view .LVU209
 738 0004 10BC     		pop	{r4}
 739              	.LCFI9:
 740              		.cfi_restore 4
 741              		.cfi_def_cfa_offset 0
 742 0006 7047     		bx	lr
 743              	.L82:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 744              		.loc 1 759 28 is_stmt 1 view .LVU210
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 745              		.loc 1 759 29 is_stmt 0 view .LVU211
 746 0008 0133     		adds	r3, r3, #1
 747              	.LVL71:
 748              	.L76:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 749              		.loc 1 759 14 is_stmt 1 view .LVU212
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 750              		.loc 1 759 2 is_stmt 0 view .LVU213
 751 000a 012B     		cmp	r3, #1
 752 000c 17D8     		bhi	.L81
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 753              		.loc 1 760 3 is_stmt 1 view .LVU214
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 754              		.loc 1 760 15 is_stmt 0 view .LVU215
 755 000e 03EB4302 		add	r2, r3, r3, lsl #1
 756 0012 0B49     		ldr	r1, .L84
 757 0014 51F82220 		ldr	r2, [r1, r2, lsl #2]
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 758              		.loc 1 760 6 view .LVU216
 759 0018 8242     		cmp	r2, r0
 760 001a F5D1     		bne	.L82
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 761              		.loc 1 756 1 view .LVU217
 762 001c 10B4     		push	{r4}
 763              	.LCFI10:
 764              		.cfi_def_cfa_offset 4
 765              		.cfi_offset 4, -4
 766              	.L77:
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 767              		.loc 1 760 26 is_stmt 1 discriminator 1 view .LVU218
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 768              		.loc 1 760 38 is_stmt 0 discriminator 1 view .LVU219
 769 001e 03EB4302 		add	r2, r3, r3, lsl #1
 770 0022 9200     		lsls	r2, r2, #2
 771 0024 0024     		movs	r4, #0
 772 0026 8C50     		str	r4, [r1, r2]
 773              	.L73:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 774              		.loc 1 759 28 is_stmt 1 discriminator 2 view .LVU220
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 775              		.loc 1 759 29 is_stmt 0 discriminator 2 view .LVU221
 776 0028 0133     		adds	r3, r3, #1
ARM GAS  /tmp/cciFFPmJ.s 			page 29


 777              	.LVL72:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 778              		.loc 1 759 14 is_stmt 1 discriminator 2 view .LVU222
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 779              		.loc 1 759 2 is_stmt 0 discriminator 2 view .LVU223
 780 002a 012B     		cmp	r3, #1
 781 002c EAD8     		bhi	.L83
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 782              		.loc 1 760 3 is_stmt 1 view .LVU224
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 783              		.loc 1 760 15 is_stmt 0 view .LVU225
 784 002e 03EB4302 		add	r2, r3, r3, lsl #1
 785 0032 0349     		ldr	r1, .L84
 786 0034 51F82220 		ldr	r2, [r1, r2, lsl #2]
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 787              		.loc 1 760 6 view .LVU226
 788 0038 8242     		cmp	r2, r0
 789 003a F5D1     		bne	.L73
 790 003c EFE7     		b	.L77
 791              	.L81:
 792              	.LCFI11:
 793              		.cfi_def_cfa_offset 0
 794              		.cfi_restore 4
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 795              		.loc 1 760 6 view .LVU227
 796 003e 7047     		bx	lr
 797              	.L85:
 798              		.align	2
 799              	.L84:
 800 0040 00000000 		.word	.LANCHOR0
 801              		.cfi_endproc
 802              	.LFE73:
 804              		.section	.text.clmt_clust,"ax",%progbits
 805              		.align	1
 806              		.syntax unified
 807              		.thumb
 808              		.thumb_func
 809              		.fpu softvfp
 811              	clmt_clust:
 812              	.LVL73:
 813              	.LFB82:
 763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** 
 766:Middlewares/Third_Party/FatFs/src/ff.c **** 
 767:Middlewares/Third_Party/FatFs/src/ff.c **** 
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 771:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 772:Middlewares/Third_Party/FatFs/src/ff.c **** static
 773:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (
 774:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 775:Middlewares/Third_Party/FatFs/src/ff.c **** )
 776:Middlewares/Third_Party/FatFs/src/ff.c **** {
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
ARM GAS  /tmp/cciFFPmJ.s 			page 30


 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 794:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 797:Middlewares/Third_Party/FatFs/src/ff.c **** }
 798:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 799:Middlewares/Third_Party/FatFs/src/ff.c **** 
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 
 801:Middlewares/Third_Party/FatFs/src/ff.c **** static
 802:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 804:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector	/* Sector number to make appearance in the fs->win[].d8 */
 805:Middlewares/Third_Party/FatFs/src/ff.c **** )
 806:Middlewares/Third_Party/FatFs/src/ff.c **** {
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 808:Middlewares/Third_Party/FatFs/src/ff.c **** 
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 812:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 823:Middlewares/Third_Party/FatFs/src/ff.c **** }
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 
 828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 829:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 830:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 831:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 832:Middlewares/Third_Party/FatFs/src/ff.c **** static
 833:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK: successful, FR_DISK_ERR: failed */
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 835:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/cciFFPmJ.s 			page 31


 836:Middlewares/Third_Party/FatFs/src/ff.c **** {
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 842:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK)
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 859:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 862:Middlewares/Third_Party/FatFs/src/ff.c **** }
 863:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 
 865:Middlewares/Third_Party/FatFs/src/ff.c **** 
 866:Middlewares/Third_Party/FatFs/src/ff.c **** 
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 
 868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 871:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 872:Middlewares/Third_Party/FatFs/src/ff.c **** 
 873:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0: Sector number, 0: Failed - invalid cluster# */
 874:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 876:Middlewares/Third_Party/FatFs/src/ff.c **** )
 877:Middlewares/Third_Party/FatFs/src/ff.c **** {
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 881:Middlewares/Third_Party/FatFs/src/ff.c **** }
 882:Middlewares/Third_Party/FatFs/src/ff.c **** 
 883:Middlewares/Third_Party/FatFs/src/ff.c **** 
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 
 885:Middlewares/Third_Party/FatFs/src/ff.c **** 
 886:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 887:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 888:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 889:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x0FFFFFFF:Cluster status */
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
ARM GAS  /tmp/cciFFPmJ.s 			page 32


 893:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* FAT index number (cluster number) to get the value */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** )
 895:Middlewares/Third_Party/FatFs/src/ff.c **** {
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 908:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 915:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 921:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 
 923:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
 935:Middlewares/Third_Party/FatFs/src/ff.c **** }
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** 
 939:Middlewares/Third_Party/FatFs/src/ff.c **** 
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
 942:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 943:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 944:Middlewares/Third_Party/FatFs/src/ff.c **** 
 945:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 946:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* FAT index number (cluster number) to be changed */
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val	/* New value to be set to the entry */
ARM GAS  /tmp/cciFFPmJ.s 			page 33


 950:Middlewares/Third_Party/FatFs/src/ff.c **** )
 951:Middlewares/Third_Party/FatFs/src/ff.c **** {
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 974:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 982:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 991:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 		default :
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INT_ERR;
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 996:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 997:Middlewares/Third_Party/FatFs/src/ff.c **** 
 998:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 999:Middlewares/Third_Party/FatFs/src/ff.c **** }
1000:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1001:Middlewares/Third_Party/FatFs/src/ff.c **** 
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 
1004:Middlewares/Third_Party/FatFs/src/ff.c **** 
1005:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1006:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
ARM GAS  /tmp/cciFFPmJ.s 			page 34


1007:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1009:Middlewares/Third_Party/FatFs/src/ff.c **** static
1010:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to remove a chain from */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** )
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1017:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst, rt[2];
1019:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1037:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				ecl = nxt;
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* End of contiguous clusters */ 
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[0] = clust2sect(fs, scl);					/* Start sector */
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Erase the block */
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = ecl = nxt;
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = nxt;	/* Next cluster */
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1052:Middlewares/Third_Party/FatFs/src/ff.c **** }
1053:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 
1058:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1059:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch or Create a cluster chain                      */
1060:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1061:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1062:Middlewares/Third_Party/FatFs/src/ff.c **** static
1063:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
ARM GAS  /tmp/cciFFPmJ.s 			page 35


1064:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch. 0 means create a new chain. */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** )
1067:Middlewares/Third_Party/FatFs/src/ff.c **** {
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {		/* Create a new chain */
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
1075:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1076:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {					/* Stretch the current chain */
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, clst);			/* Check the cluster status */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1081:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	ncl = scl;				/* Start cluster */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, ncl);			/* Get the cluster status */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == scl) return 0;		/* No free cluster */
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = put_fat(fs, ncl, 0x0FFFFFFF);	/* Mark the new cluster "last link" */
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error code */
1113:Middlewares/Third_Party/FatFs/src/ff.c **** }
1114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** 
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 
1117:Middlewares/Third_Party/FatFs/src/ff.c **** 
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 
1119:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1120:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
ARM GAS  /tmp/cciFFPmJ.s 			page 36


1121:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 
1123:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1124:Middlewares/Third_Party/FatFs/src/ff.c **** static
1125:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File offset to be converted to cluster# */
1128:Middlewares/Third_Party/FatFs/src/ff.c **** )
1129:Middlewares/Third_Party/FatFs/src/ff.c **** {
 814              		.loc 1 1129 1 is_stmt 1 view -0
 815              		.cfi_startproc
 816              		@ args = 0, pretend = 0, frame = 0
 817              		@ frame_needed = 0, uses_anonymous_args = 0
 818              		@ link register save eliminated.
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
 819              		.loc 1 1130 2 view .LVU229
1131:Middlewares/Third_Party/FatFs/src/ff.c **** 
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 820              		.loc 1 1133 2 view .LVU230
 821              		.loc 1 1133 10 is_stmt 0 view .LVU231
 822 0000 D0F82432 		ldr	r3, [r0, #548]
 823              		.loc 1 1133 6 view .LVU232
 824 0004 0433     		adds	r3, r3, #4
 825              	.LVL74:
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ofs / SS(fp->fs) / fp->fs->csize;	/* Cluster order from top of the file */
 826              		.loc 1 1134 2 is_stmt 1 view .LVU233
 827              		.loc 1 1134 11 is_stmt 0 view .LVU234
 828 0006 490A     		lsrs	r1, r1, #9
 829              	.LVL75:
 830              		.loc 1 1134 28 view .LVU235
 831 0008 D0F80022 		ldr	r2, [r0, #512]
 832              		.loc 1 1134 32 view .LVU236
 833 000c 92F80222 		ldrb	r2, [r2, #514]	@ zero_extendqisi2
 834              		.loc 1 1134 5 view .LVU237
 835 0010 B1FBF2F1 		udiv	r1, r1, r2
 836              	.LVL76:
 837              	.L89:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 838              		.loc 1 1135 2 is_stmt 1 view .LVU238
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
 839              		.loc 1 1136 3 view .LVU239
 840              		.loc 1 1136 7 is_stmt 0 view .LVU240
 841 0014 1868     		ldr	r0, [r3]
 842              	.LVL77:
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
 843              		.loc 1 1137 3 is_stmt 1 view .LVU241
 844              		.loc 1 1137 6 is_stmt 0 view .LVU242
 845 0016 30B1     		cbz	r0, .L86
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 846              		.loc 1 1138 3 is_stmt 1 view .LVU243
 847              		.loc 1 1138 6 is_stmt 0 view .LVU244
 848 0018 8142     		cmp	r1, r0
 849 001a 02D3     		bcc	.L88
1139:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 850              		.loc 1 1139 3 is_stmt 1 view .LVU245
 851              		.loc 1 1139 6 is_stmt 0 view .LVU246
ARM GAS  /tmp/cciFFPmJ.s 			page 37


 852 001c 091A     		subs	r1, r1, r0
 853              	.LVL78:
 854              		.loc 1 1139 14 is_stmt 1 view .LVU247
 855              		.loc 1 1139 17 is_stmt 0 view .LVU248
 856 001e 0833     		adds	r3, r3, #8
 857              	.LVL79:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
 858              		.loc 1 1135 8 is_stmt 1 view .LVU249
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
 859              		.loc 1 1136 7 is_stmt 0 view .LVU250
 860 0020 F8E7     		b	.L89
 861              	.LVL80:
 862              	.L88:
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1141:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 863              		.loc 1 1141 2 is_stmt 1 view .LVU251
 864              		.loc 1 1141 14 is_stmt 0 view .LVU252
 865 0022 5868     		ldr	r0, [r3, #4]
 866              	.LVL81:
 867              		.loc 1 1141 12 view .LVU253
 868 0024 0844     		add	r0, r0, r1
 869              	.L86:
1142:Middlewares/Third_Party/FatFs/src/ff.c **** }
 870              		.loc 1 1142 1 view .LVU254
 871 0026 7047     		bx	lr
 872              		.cfi_endproc
 873              	.LFE82:
 875              		.section	.text.ld_clust,"ax",%progbits
 876              		.align	1
 877              		.syntax unified
 878              		.thumb
 879              		.thumb_func
 880              		.fpu softvfp
 882              	ld_clust:
 883              	.LVL82:
 884              	.LFB86:
1143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** 
1146:Middlewares/Third_Party/FatFs/src/ff.c **** 
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 
1148:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1149:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1151:Middlewares/Third_Party/FatFs/src/ff.c **** 
1152:Middlewares/Third_Party/FatFs/src/ff.c **** static
1153:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT idx		/* Index of directory table */
1156:Middlewares/Third_Party/FatFs/src/ff.c **** )
1157:Middlewares/Third_Party/FatFs/src/ff.c **** {
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ic;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)idx;	/* Current index */
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
ARM GAS  /tmp/cciFFPmJ.s 			page 38


1164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Dynamic table (root-directory in FAT32 or sub-directory) */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		ic = SS(dp->fs) / SZ_DIRE * dp->fs->csize;	/* Entries per cluster */
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
1182:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(dp->fs, clst);
1184:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;	/* Current cluster# */
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1191:Middlewares/Third_Party/FatFs/src/ff.c **** }
1192:Middlewares/Third_Party/FatFs/src/ff.c **** 
1193:Middlewares/Third_Party/FatFs/src/ff.c **** 
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 
1196:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1197:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1198:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** static
1201:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK:Succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1204:Middlewares/Third_Party/FatFs/src/ff.c **** )
1205:Middlewares/Third_Party/FatFs/src/ff.c **** {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1208:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT c;
1210:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index + 1;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i % (SS(dp->fs) / SZ_DIRE))) {	/* Sector changed? */
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
1219:Middlewares/Third_Party/FatFs/src/ff.c **** 
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
ARM GAS  /tmp/cciFFPmJ.s 			page 39


1221:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
1223:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (((i / (SS(dp->fs) / SZ_DIRE)) & (dp->fs->csize - 1)) == 0) {	/* Cluster changed? */
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
1230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(dp->fs)) return FR_DISK_ERR;/* Flush disk access window */
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1245:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect -= c;						/* Rewind window offset */
1246:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT (this is to suppress warni
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_NO_FILE;							/* Report EOT */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1250:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;				/* Initialize data for new cluster */
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)i;	/* Current index */
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 
1260:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1261:Middlewares/Third_Party/FatFs/src/ff.c **** }
1262:Middlewares/Third_Party/FatFs/src/ff.c **** 
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve directory entry                          */
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1269:Middlewares/Third_Party/FatFs/src/ff.c **** 
1270:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1271:Middlewares/Third_Party/FatFs/src/ff.c **** static
1272:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Pointer to the directory object */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent	/* Number of contiguous entries to allocate (1-21) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/cciFFPmJ.s 			page 40


1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 
1280:Middlewares/Third_Party/FatFs/src/ff.c **** 
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1283:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);		/* Next entry with table stretch enabled */
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1297:Middlewares/Third_Party/FatFs/src/ff.c **** }
1298:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 
1303:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1304:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Load/Store start cluster number                  */
1305:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 
1307:Middlewares/Third_Party/FatFs/src/ff.c **** static
1308:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (
1309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir	/* Pointer to the directory entry */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** )
1312:Middlewares/Third_Party/FatFs/src/ff.c **** {
 885              		.loc 1 1312 1 is_stmt 1 view -0
 886              		.cfi_startproc
 887              		@ args = 0, pretend = 0, frame = 0
 888              		@ frame_needed = 0, uses_anonymous_args = 0
 889              		@ link register save eliminated.
1313:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
 890              		.loc 1 1313 2 view .LVU256
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = LD_WORD(dir + DIR_FstClusLO);
 891              		.loc 1 1315 2 view .LVU257
 892              		.loc 1 1315 7 is_stmt 0 view .LVU258
 893 0000 CA7E     		ldrb	r2, [r1, #27]	@ zero_extendqisi2
 894 0002 8B7E     		ldrb	r3, [r1, #26]	@ zero_extendqisi2
 895 0004 43EA0223 		orr	r3, r3, r2, lsl #8
 896              	.LVL83:
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32)
 897              		.loc 1 1316 2 is_stmt 1 view .LVU259
 898              		.loc 1 1316 8 is_stmt 0 view .LVU260
 899 0008 90F80022 		ldrb	r2, [r0, #512]	@ zero_extendqisi2
 900              		.loc 1 1316 5 view .LVU261
 901 000c 032A     		cmp	r2, #3
 902 000e 01D0     		beq	.L92
ARM GAS  /tmp/cciFFPmJ.s 			page 41


 903              	.LVL84:
 904              	.L90:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
1318:Middlewares/Third_Party/FatFs/src/ff.c **** 
1319:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1320:Middlewares/Third_Party/FatFs/src/ff.c **** }
 905              		.loc 1 1320 1 view .LVU262
 906 0010 1846     		mov	r0, r3
 907 0012 7047     		bx	lr
 908              	.LVL85:
 909              	.L92:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 910              		.loc 1 1317 3 is_stmt 1 view .LVU263
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 911              		.loc 1 1317 16 is_stmt 0 view .LVU264
 912 0014 487D     		ldrb	r0, [r1, #21]	@ zero_extendqisi2
 913              	.LVL86:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 914              		.loc 1 1317 16 view .LVU265
 915 0016 0A7D     		ldrb	r2, [r1, #20]	@ zero_extendqisi2
 916 0018 42EA0022 		orr	r2, r2, r0, lsl #8
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 917              		.loc 1 1317 6 view .LVU266
 918 001c 43EA0243 		orr	r3, r3, r2, lsl #16
 919              	.LVL87:
1319:Middlewares/Third_Party/FatFs/src/ff.c **** }
 920              		.loc 1 1319 2 is_stmt 1 view .LVU267
1319:Middlewares/Third_Party/FatFs/src/ff.c **** }
 921              		.loc 1 1319 9 is_stmt 0 view .LVU268
 922 0020 F6E7     		b	.L90
 923              		.cfi_endproc
 924              	.LFE86:
 926              		.section	.text.st_clust,"ax",%progbits
 927              		.align	1
 928              		.syntax unified
 929              		.thumb
 930              		.thumb_func
 931              		.fpu softvfp
 933              	st_clust:
 934              	.LVL88:
 935              	.LFB87:
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1324:Middlewares/Third_Party/FatFs/src/ff.c **** static
1325:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1326:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the directory entry */
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** )
1329:Middlewares/Third_Party/FatFs/src/ff.c **** {
 936              		.loc 1 1329 1 is_stmt 1 view -0
 937              		.cfi_startproc
 938              		@ args = 0, pretend = 0, frame = 0
 939              		@ frame_needed = 0, uses_anonymous_args = 0
 940              		@ link register save eliminated.
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 941              		.loc 1 1330 2 view .LVU270
ARM GAS  /tmp/cciFFPmJ.s 			page 42


 942 0000 8176     		strb	r1, [r0, #26]
 943              		.loc 1 1330 2 view .LVU271
 944 0002 C1F30723 		ubfx	r3, r1, #8, #8
 945 0006 C376     		strb	r3, [r0, #27]
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 946              		.loc 1 1331 2 view .LVU272
 947 0008 C1F30743 		ubfx	r3, r1, #16, #8
 948 000c 0375     		strb	r3, [r0, #20]
 949              		.loc 1 1331 2 view .LVU273
 950 000e 090E     		lsrs	r1, r1, #24
 951              	.LVL89:
 952              		.loc 1 1331 2 is_stmt 0 view .LVU274
 953 0010 4175     		strb	r1, [r0, #21]
1332:Middlewares/Third_Party/FatFs/src/ff.c **** }
 954              		.loc 1 1332 1 view .LVU275
 955 0012 7047     		bx	lr
 956              		.cfi_endproc
 957              	.LFE87:
 959              		.section	.text.get_fileinfo,"ax",%progbits
 960              		.align	1
 961              		.syntax unified
 962              		.thumb
 963              		.thumb_func
 964              		.fpu softvfp
 966              	get_fileinfo:
 967              	.LVL90:
 968              	.LFB92:
1333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 
1338:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1339:Middlewares/Third_Party/FatFs/src/ff.c **** /* LFN handling - Test/Pick/Fit an LFN segment from/to directory entry   */
1340:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1341:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1342:Middlewares/Third_Party/FatFs/src/ff.c **** static
1343:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** static
1347:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (			/* 1:Matched, 0:Not matched */
1348:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN to be compared */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry containing a part of LFN */
1350:Middlewares/Third_Party/FatFs/src/ff.c **** )
1351:Middlewares/Third_Party/FatFs/src/ff.c **** {
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1354:Middlewares/Third_Party/FatFs/src/ff.c **** 
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Get offset in the LFN buffer */
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);	/* Pick an LFN character from the entry */
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = ff_wtoupper(uc);		/* Convert it to upper case */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || wc != ff_wtoupper(lfnbuf[i++]))	/* Compare it */
ARM GAS  /tmp/cciFFPmJ.s 			page 43


1363:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;				/* Not matched */
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;	/* Check filler */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);				/* Repeat until all characters in the entry are checked */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i])	/* Last segment matched but different length */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;						/* The part of LFN matched */
1373:Middlewares/Third_Party/FatFs/src/ff.c **** }
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 
1377:Middlewares/Third_Party/FatFs/src/ff.c **** static
1378:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:Succeeded, 0:Buffer overflow */
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the Unicode-LFN buffer */
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** )
1382:Middlewares/Third_Party/FatFs/src/ff.c **** {
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);		/* Pick an LFN character from the entry */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
1395:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1398:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);						/* Read all character in the entry */
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
1406:Middlewares/Third_Party/FatFs/src/ff.c **** }
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 
1409:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1410:Middlewares/Third_Party/FatFs/src/ff.c **** static
1411:Middlewares/Third_Party/FatFs/src/ff.c **** void fit_lfn (
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN buffer */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,				/* Pointer to the directory entry */
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,				/* LFN order (1-20) */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum				/* SFN sum */
1416:Middlewares/Third_Party/FatFs/src/ff.c **** )
1417:Middlewares/Third_Party/FatFs/src/ff.c **** {
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
ARM GAS  /tmp/cciFFPmJ.s 			page 44


1420:Middlewares/Third_Party/FatFs/src/ff.c **** 
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set check sum */
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + LDIR_FstClusLO, 0);
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN buffer */
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
1429:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfnbuf[i++];	/* Get an effective character */
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(dir+LfnOfs[s], wc);	/* Put it */
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!wc) wc = 0xFFFF;		/* Padding characters following last character */
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
1434:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfnbuf[i]) ord |= LLEF;	/* Bottom LFN part is the start of LFN sequence */
1435:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1436:Middlewares/Third_Party/FatFs/src/ff.c **** }
1437:Middlewares/Third_Party/FatFs/src/ff.c **** 
1438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1439:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1440:Middlewares/Third_Party/FatFs/src/ff.c **** 
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 
1443:Middlewares/Third_Party/FatFs/src/ff.c **** 
1444:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1445:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create numbered name                                                  */
1446:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1447:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1448:Middlewares/Third_Party/FatFs/src/ff.c **** static
1449:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1454:Middlewares/Third_Party/FatFs/src/ff.c **** )
1455:Middlewares/Third_Party/FatFs/src/ff.c **** {
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1458:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1460:Middlewares/Third_Party/FatFs/src/ff.c **** 
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* On many collisions, generate a hash number instead of sequential number */
1465:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1466:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
1469:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
1470:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1473:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cciFFPmJ.s 			page 45


1477:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (seq % 16) + '0';
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
1497:Middlewares/Third_Party/FatFs/src/ff.c **** }
1498:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 
1503:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1504:Middlewares/Third_Party/FatFs/src/ff.c **** /* Calculate sum of an SFN                                               */
1505:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1506:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1507:Middlewares/Third_Party/FatFs/src/ff.c **** static
1508:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1509:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1510:Middlewares/Third_Party/FatFs/src/ff.c **** )
1511:Middlewares/Third_Party/FatFs/src/ff.c **** {
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
1514:Middlewares/Third_Party/FatFs/src/ff.c **** 
1515:Middlewares/Third_Party/FatFs/src/ff.c **** 	do sum = (sum >> 1) + (sum << 7) + *dir++; while (--n);
1516:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1517:Middlewares/Third_Party/FatFs/src/ff.c **** }
1518:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1519:Middlewares/Third_Party/FatFs/src/ff.c **** 
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 
1522:Middlewares/Third_Party/FatFs/src/ff.c **** 
1523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1524:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
1525:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1526:Middlewares/Third_Party/FatFs/src/ff.c **** 
1527:Middlewares/Third_Party/FatFs/src/ff.c **** static
1528:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object linked to the file name */
1530:Middlewares/Third_Party/FatFs/src/ff.c **** )
1531:Middlewares/Third_Party/FatFs/src/ff.c **** {
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, *dir;
ARM GAS  /tmp/cciFFPmJ.s 			page 46


1534:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
1536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 
1541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->lfn) {
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dir[LDIR_Chksum];
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= ~LLEF; ord = c;	/* LFN start order */
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lfn_idx = dp->index;	/* Start index of LFN */
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dir[LDIR_Chksum] && cmp_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1564:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
1566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dir)) break;	/* LFN matched? */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dir, dp->fn, 11)) break;	/* SFN matched? */
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1571:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dir[DIR_Attr] & AM_VOL) && !mem_cmp(dir, dp->fn, 11)) /* Is it a valid entry? */
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1574:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1579:Middlewares/Third_Party/FatFs/src/ff.c **** }
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** 
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
ARM GAS  /tmp/cciFFPmJ.s 			page 47


1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c, *dir;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
1598:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = FR_NO_FILE;
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1607:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || (!_FS_RPATH && c == '.') || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF;
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c & LLEF) {			/* Is it start of LFN sequence? */
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 					sum = dir[LDIR_Chksum];
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 					c &= ~LLEF; ord = c;
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = dp->index;
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* Check LFN validity and capture it */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = (c == ord && sum == dir[LDIR_Chksum] && pick_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ord || sum != sum_sfn(dir))	/* Is there a valid LFN? */
1622:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = 0xFFFF;		/* It has no LFN. */
1623:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1626:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != DDEM && (_FS_RPATH || c != '.') && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol)
1628:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1629:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);				/* Next entry */
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;
1635:Middlewares/Third_Party/FatFs/src/ff.c **** 
1636:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1637:Middlewares/Third_Party/FatFs/src/ff.c **** }
1638:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 
1643:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1644:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
1645:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1646:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1647:Middlewares/Third_Party/FatFs/src/ff.c **** static
ARM GAS  /tmp/cciFFPmJ.s 			page 48


1648:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:Successful, FR_DENIED:No free entry or too many SFN collision, FR_D
1649:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
1650:Middlewares/Third_Party/FatFs/src/ff.c **** )
1651:Middlewares/Third_Party/FatFs/src/ff.c **** {
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nent;
1655:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], *fn, sum;
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR *lfn;
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	fn = dp->fn; lfn = dp->lfn;
1660:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, fn, 12);
1661:Middlewares/Third_Party/FatFs/src/ff.c **** 
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_RPATH && (sn[NSFLAG] & NS_DOT))		/* Cannot create dot entry */
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_NAME;
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
1666:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = 0; dp->lfn = 0;			/* Find only SFN */
1667:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
1668:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(fn, sn, lfn, n);	/* Generate a numbered name */
1669:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
1670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
1673:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
1674:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = sn[NSFLAG]; dp->lfn = lfn;
1675:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1676:Middlewares/Third_Party/FatFs/src/ff.c **** 
1677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LFN) {			/* When LFN is to be created, allocate entries for an SFN + LFNs. */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; lfn[n]; n++) ;
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (n + 25) / 13;
1680:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {						/* Otherwise allocate an entry for an SFN  */
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = 1;
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->index - nent);
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Sum value of the SFN tied to the LFN */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(dp->fs, dp->sect);
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 				fit_lfn(dp->lfn, dp->dir, (BYTE)nent, sum);
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->fs->wflag = 1;
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1698:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
1700:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {				/* Set SFN entry */
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  /tmp/cciFFPmJ.s 			page 49


1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
1707:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1708:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
1709:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1711:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1712:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1713:Middlewares/Third_Party/FatFs/src/ff.c **** 
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1715:Middlewares/Third_Party/FatFs/src/ff.c **** }
1716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1717:Middlewares/Third_Party/FatFs/src/ff.c **** 
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1722:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
1723:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && !_FS_MINIMIZE
1725:Middlewares/Third_Party/FatFs/src/ff.c **** static
1726:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK: Successful, FR_DISK_ERR: A disk error */
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** )
1729:Middlewares/Third_Party/FatFs/src/ff.c **** {
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1731:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index;	/* SFN index */
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, (dp->lfn_idx == 0xFFFF) ? i : dp->lfn_idx);	/* Goto the SFN or top of the LFN en
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1742:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1743:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->index >= i) break;	/* When reached SFN, all entries of the object has been deleted. */
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);		/* Next entry */
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
1747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1748:Middlewares/Third_Party/FatFs/src/ff.c **** 
1749:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->index);
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1757:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1759:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
ARM GAS  /tmp/cciFFPmJ.s 			page 50


1762:Middlewares/Third_Party/FatFs/src/ff.c **** }
1763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 
1768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
1770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1771:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1772:Middlewares/Third_Party/FatFs/src/ff.c **** static
1773:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
1776:Middlewares/Third_Party/FatFs/src/ff.c **** )
1777:Middlewares/Third_Party/FatFs/src/ff.c **** {
 969              		.loc 1 1777 1 is_stmt 1 view -0
 970              		.cfi_startproc
 971              		@ args = 0, pretend = 0, frame = 0
 972              		@ frame_needed = 0, uses_anonymous_args = 0
 973              		@ link register save eliminated.
1778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 974              		.loc 1 1778 2 view .LVU277
1779:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *p, c;
 975              		.loc 1 1779 2 view .LVU278
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 976              		.loc 1 1780 2 view .LVU279
1781:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1784:Middlewares/Third_Party/FatFs/src/ff.c **** 
1785:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = fno->fname;
 977              		.loc 1 1785 2 view .LVU280
 978              		.loc 1 1785 4 is_stmt 0 view .LVU281
 979 0000 01F10902 		add	r2, r1, #9
 980              	.LVL91:
1786:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->sect) {		/* Get SFN */
 981              		.loc 1 1786 2 is_stmt 1 view .LVU282
 982              		.loc 1 1786 8 is_stmt 0 view .LVU283
 983 0004 D0F81032 		ldr	r3, [r0, #528]
 984              		.loc 1 1786 5 view .LVU284
 985 0008 002B     		cmp	r3, #0
 986 000a 32D0     		beq	.L103
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 987              		.loc 1 1777 1 view .LVU285
 988 000c 30B4     		push	{r4, r5}
 989              	.LCFI12:
 990              		.cfi_def_cfa_offset 8
 991              		.cfi_offset 4, -8
 992              		.cfi_offset 5, -4
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;
 993              		.loc 1 1787 3 is_stmt 1 view .LVU286
 994              		.loc 1 1787 7 is_stmt 0 view .LVU287
 995 000e D0F81442 		ldr	r4, [r0, #532]
 996              	.LVL92:
1788:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 997              		.loc 1 1788 3 is_stmt 1 view .LVU288
ARM GAS  /tmp/cciFFPmJ.s 			page 51


1789:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (i < 11) {		/* Copy name body and extension */
 998              		.loc 1 1789 3 view .LVU289
1788:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 999              		.loc 1 1788 5 is_stmt 0 view .LVU290
 1000 0012 0023     		movs	r3, #0
 1001              		.loc 1 1789 9 view .LVU291
 1002 0014 04E0     		b	.L96
 1003              	.LVL93:
 1004              	.L98:
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == ' ') continue;				/* Skip padding spaces */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1005              		.loc 1 1793 4 is_stmt 1 view .LVU292
 1006              		.loc 1 1793 7 is_stmt 0 view .LVU293
 1007 0016 0928     		cmp	r0, #9
 1008 0018 0CD0     		beq	.L106
 1009              	.L99:
1794:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1795:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dir[DIR_NTres] & (i >= 9 ? NS_EXT : NS_BODY)))
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
1797:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dir[i]))
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = c << 8 | dir[i++];
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ff_convert(c, 1);	/* OEM -> Unicode */
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!c) c = '?';
1802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1803:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p++ = c;
 1010              		.loc 1 1804 4 is_stmt 1 view .LVU294
 1011              	.LVL94:
 1012              		.loc 1 1804 9 is_stmt 0 view .LVU295
 1013 001a 02F8013B 		strb	r3, [r2], #1
 1014              	.LVL95:
 1015              	.L97:
 1016              		.loc 1 1804 6 view .LVU296
 1017 001e 0346     		mov	r3, r0
 1018              	.LVL96:
 1019              	.L96:
1789:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 1020              		.loc 1 1789 9 is_stmt 1 view .LVU297
 1021 0020 0A2B     		cmp	r3, #10
 1022 0022 0BD8     		bhi	.L107
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 1023              		.loc 1 1790 4 view .LVU298
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 1024              		.loc 1 1790 20 is_stmt 0 view .LVU299
 1025 0024 581C     		adds	r0, r3, #1
 1026              	.LVL97:
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 1027              		.loc 1 1790 6 view .LVU300
 1028 0026 E35C     		ldrb	r3, [r4, r3]	@ zero_extendqisi2
 1029              	.LVL98:
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 1030              		.loc 1 1791 4 is_stmt 1 view .LVU301
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 1031              		.loc 1 1791 7 is_stmt 0 view .LVU302
ARM GAS  /tmp/cciFFPmJ.s 			page 52


 1032 0028 202B     		cmp	r3, #32
 1033 002a F8D0     		beq	.L97
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1034              		.loc 1 1792 4 is_stmt 1 view .LVU303
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1035              		.loc 1 1792 7 is_stmt 0 view .LVU304
 1036 002c 052B     		cmp	r3, #5
 1037 002e F2D1     		bne	.L98
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1038              		.loc 1 1792 22 view .LVU305
 1039 0030 E523     		movs	r3, #229
 1040              	.LVL99:
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1041              		.loc 1 1792 22 view .LVU306
 1042 0032 F0E7     		b	.L98
 1043              	.LVL100:
 1044              	.L106:
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1045              		.loc 1 1793 16 is_stmt 1 discriminator 1 view .LVU307
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1046              		.loc 1 1793 21 is_stmt 0 discriminator 1 view .LVU308
 1047 0034 2E25     		movs	r5, #46
 1048 0036 02F8015B 		strb	r5, [r2], #1
 1049              	.LVL101:
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1050              		.loc 1 1793 21 discriminator 1 view .LVU309
 1051 003a EEE7     		b	.L99
 1052              	.LVL102:
 1053              	.L107:
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fattrib = dir[DIR_Attr];				/* Attribute */
 1054              		.loc 1 1806 3 is_stmt 1 view .LVU310
 1055              		.loc 1 1806 16 is_stmt 0 view .LVU311
 1056 003c E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1057              	.LVL103:
 1058              		.loc 1 1806 16 view .LVU312
 1059 003e 0B72     		strb	r3, [r1, #8]
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fsize = LD_DWORD(dir + DIR_FileSize);	/* Size */
 1060              		.loc 1 1807 3 is_stmt 1 view .LVU313
 1061              		.loc 1 1807 16 is_stmt 0 view .LVU314
 1062 0040 E07F     		ldrb	r0, [r4, #31]	@ zero_extendqisi2
 1063 0042 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 1064 0044 1B04     		lsls	r3, r3, #16
 1065 0046 43EA0063 		orr	r3, r3, r0, lsl #24
 1066 004a 607F     		ldrb	r0, [r4, #29]	@ zero_extendqisi2
 1067 004c 43EA0023 		orr	r3, r3, r0, lsl #8
 1068 0050 207F     		ldrb	r0, [r4, #28]	@ zero_extendqisi2
 1069 0052 0343     		orrs	r3, r3, r0
 1070              		.loc 1 1807 14 view .LVU315
 1071 0054 0B60     		str	r3, [r1]
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fdate = LD_WORD(dir + DIR_WrtDate);	/* Date */
 1072              		.loc 1 1808 3 is_stmt 1 view .LVU316
 1073              		.loc 1 1808 16 is_stmt 0 view .LVU317
 1074 0056 607E     		ldrb	r0, [r4, #25]	@ zero_extendqisi2
 1075 0058 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 1076 005a 43EA0023 		orr	r3, r3, r0, lsl #8
 1077              		.loc 1 1808 14 view .LVU318
ARM GAS  /tmp/cciFFPmJ.s 			page 53


 1078 005e 8B80     		strh	r3, [r1, #4]	@ movhi
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->ftime = LD_WORD(dir + DIR_WrtTime);	/* Time */
 1079              		.loc 1 1809 3 is_stmt 1 view .LVU319
 1080              		.loc 1 1809 16 is_stmt 0 view .LVU320
 1081 0060 E07D     		ldrb	r0, [r4, #23]	@ zero_extendqisi2
 1082 0062 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 1083 0064 43EA0023 		orr	r3, r3, r0, lsl #8
 1084              		.loc 1 1809 14 view .LVU321
 1085 0068 CB80     		strh	r3, [r1, #6]	@ movhi
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;		/* Terminate SFN string by a \0 */
 1086              		.loc 1 1811 2 is_stmt 1 view .LVU322
 1087              		.loc 1 1811 5 is_stmt 0 view .LVU323
 1088 006a 0023     		movs	r3, #0
 1089 006c 1370     		strb	r3, [r2]
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 
1813:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fno->lfname) {
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0; p = fno->lfname;
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->sect && fno->lfsize && dp->lfn_idx != 0xFFFF) {	/* Get LFN if available */
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfn = dp->lfn;
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = *lfn++) != 0) {		/* Get an LFN character */
1819:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!w) { i = 0; break; }	/* No LFN if it could not be converted */
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100)	/* Put 1st byte if it is a DBC (always false on SBCS cfg) */
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 					p[i++] = (TCHAR)(w >> 8);
1824:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= fno->lfsize - 1) { i = 0; break; }	/* No LFN if buffer overflow */
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 				p[i++] = (TCHAR)w;
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[i] = 0;	/* Terminate LFN string by a \0 */
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1831:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1832:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1090              		.loc 1 1832 1 view .LVU324
 1091 006e 30BC     		pop	{r4, r5}
 1092              	.LCFI13:
 1093              		.cfi_restore 5
 1094              		.cfi_restore 4
 1095              		.cfi_def_cfa_offset 0
 1096              	.LVL104:
 1097              		.loc 1 1832 1 view .LVU325
 1098 0070 7047     		bx	lr
 1099              	.LVL105:
 1100              	.L103:
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1101              		.loc 1 1811 2 is_stmt 1 view .LVU326
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1102              		.loc 1 1811 5 is_stmt 0 view .LVU327
 1103 0072 0023     		movs	r3, #0
 1104 0074 1370     		strb	r3, [r2]
 1105 0076 7047     		bx	lr
 1106              		.cfi_endproc
 1107              	.LFE92:
 1109              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
ARM GAS  /tmp/cciFFPmJ.s 			page 54


 1110              		.align	2
 1111              	.LC0:
 1112 0000 222A2B2C 		.ascii	"\"*+,:;<=>?[]|\177\000"
 1112      3A3B3C3D 
 1112      3E3F5B5D 
 1112      7C7F00
 1113              		.section	.text.create_name,"ax",%progbits
 1114              		.align	1
 1115              		.syntax unified
 1116              		.thumb
 1117              		.thumb_func
 1118              		.fpu softvfp
 1120              	create_name:
 1121              	.LVL106:
 1122              	.LFB93:
1833:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 
1837:Middlewares/Third_Party/FatFs/src/ff.c **** 
1838:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1839:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
1840:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
1842:Middlewares/Third_Party/FatFs/src/ff.c **** static
1843:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
1844:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** )
1846:Middlewares/Third_Party/FatFs/src/ff.c **** {
1847:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1848:Middlewares/Third_Party/FatFs/src/ff.c **** 
1849:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1850:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
1851:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr))		/* Get DBC 2nd byte if needed */
1853:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
1854:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
1856:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1857:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
1859:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
1861:Middlewares/Third_Party/FatFs/src/ff.c **** }
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** static
1865:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* Return value: 0:mismatched, 1:matched */
1866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
1867:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
1870:Middlewares/Third_Party/FatFs/src/ff.c **** )
1871:Middlewares/Third_Party/FatFs/src/ff.c **** {
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
1873:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
1874:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
ARM GAS  /tmp/cciFFPmJ.s 			page 55


1875:Middlewares/Third_Party/FatFs/src/ff.c **** 
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
1888:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
1892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1893:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
1896:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!pc) return 1;		/* Branch matched? (matched at end of both strings) */
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
1902:Middlewares/Third_Party/FatFs/src/ff.c **** }
1903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 
1907:Middlewares/Third_Party/FatFs/src/ff.c **** 
1908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a segment and create the object name in directory form           */
1910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1911:Middlewares/Third_Party/FatFs/src/ff.c **** 
1912:Middlewares/Third_Party/FatFs/src/ff.c **** static
1913:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
1916:Middlewares/Third_Party/FatFs/src/ff.c **** )
1917:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1123              		.loc 1 1917 1 is_stmt 1 view -0
 1124              		.cfi_startproc
 1125              		@ args = 0, pretend = 0, frame = 0
 1126              		@ frame_needed = 0, uses_anonymous_args = 0
 1127              		.loc 1 1917 1 is_stmt 0 view .LVU329
 1128 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1129              	.LCFI14:
 1130              		.cfi_def_cfa_offset 40
 1131              		.cfi_offset 3, -40
 1132              		.cfi_offset 4, -36
 1133              		.cfi_offset 5, -32
 1134              		.cfi_offset 6, -28
 1135              		.cfi_offset 7, -24
 1136              		.cfi_offset 8, -20
ARM GAS  /tmp/cciFFPmJ.s 			page 56


 1137              		.cfi_offset 9, -16
 1138              		.cfi_offset 10, -12
 1139              		.cfi_offset 11, -8
 1140              		.cfi_offset 14, -4
 1141 0004 8946     		mov	r9, r1
1918:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1919:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
1920:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
1923:Middlewares/Third_Party/FatFs/src/ff.c **** 
1924:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
1925:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn = dp->lfn;
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = di = 0;
1928:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1929:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ' || w == '/' || w == '\\') break;	/* Break on end of segment */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN)				/* Reject too long name */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
1933:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
1938:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b))
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;	/* Reject invalid sequence */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1942:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) /* Reject illegal characters for LFN */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
1949:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') || /* Is this a dot entry? */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
1959:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Strip trailing spaces and dots */
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!di) return FR_INVALID_NAME;	/* Reject nul string */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** 
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
ARM GAS  /tmp/cciFFPmJ.s 			page 57


1970:Middlewares/Third_Party/FatFs/src/ff.c **** 
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
1973:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
1974:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
1975:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** 	b = i = 0; ni = 8;
1978:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
1981:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
1999:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2001:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* DBC (always false at SBCS cfg) */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2020:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2023:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2024:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2025:Middlewares/Third_Party/FatFs/src/ff.c **** 
2026:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with deleted mark, re
ARM GAS  /tmp/cciFFPmJ.s 			page 58


2027:Middlewares/Third_Party/FatFs/src/ff.c **** 
2028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03)	/* Create LFN entry when there are composite capital
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 		cf |= NS_LFN;
2031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2032:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 
2041:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, c, d, *sfn;
 1142              		.loc 1 2042 2 is_stmt 1 view .LVU330
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
 1143              		.loc 1 2043 2 view .LVU331
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
 1144              		.loc 1 2044 2 view .LVU332
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2047:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
 1145              		.loc 1 2047 2 view .LVU333
 1146              		.loc 1 2047 9 is_stmt 0 view .LVU334
 1147 0006 0C68     		ldr	r4, [r1]
 1148              	.LVL107:
 1149              		.loc 1 2047 2 view .LVU335
 1150 0008 00E0     		b	.L109
 1151              	.L110:
 1152              		.loc 1 2047 48 is_stmt 1 discriminator 5 view .LVU336
 1153              		.loc 1 2047 43 discriminator 5 view .LVU337
 1154              		.loc 1 2047 44 is_stmt 0 discriminator 5 view .LVU338
 1155 000a 0134     		adds	r4, r4, #1
 1156              	.LVL108:
 1157              	.L109:
 1158              		.loc 1 2047 18 is_stmt 1 discriminator 1 view .LVU339
 1159 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1160              		.loc 1 2047 2 is_stmt 0 discriminator 1 view .LVU340
 1161 000e 2F2B     		cmp	r3, #47
 1162 0010 FBD0     		beq	.L110
 1163              		.loc 1 2047 28 discriminator 4 view .LVU341
 1164 0012 5C2B     		cmp	r3, #92
 1165 0014 F9D0     		beq	.L110
2048:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn = dp->fn;
 1166              		.loc 1 2048 2 is_stmt 1 view .LVU342
 1167              		.loc 1 2048 6 is_stmt 0 view .LVU343
 1168 0016 D0F818A2 		ldr	r10, [r0, #536]
 1169              	.LVL109:
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 1170              		.loc 1 2049 2 is_stmt 1 view .LVU344
 1171 001a 0B22     		movs	r2, #11
 1172 001c 2021     		movs	r1, #32
 1173              	.LVL110:
 1174              		.loc 1 2049 2 is_stmt 0 view .LVU345
 1175 001e 5046     		mov	r0, r10
ARM GAS  /tmp/cciFFPmJ.s 			page 59


 1176              	.LVL111:
 1177              		.loc 1 2049 2 view .LVU346
 1178 0020 FFF7FEFF 		bl	mem_set
 1179              	.LVL112:
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = b = 0; ni = 8;
 1180              		.loc 1 2050 2 is_stmt 1 view .LVU347
 1181              		.loc 1 2050 18 view .LVU348
 1182              		.loc 1 2050 9 is_stmt 0 view .LVU349
 1183 0024 0026     		movs	r6, #0
 1184              		.loc 1 2050 5 view .LVU350
 1185 0026 3346     		mov	r3, r6
 1186              		.loc 1 2050 21 view .LVU351
 1187 0028 4FF00808 		mov	r8, #8
 1188              		.loc 1 2050 13 view .LVU352
 1189 002c 3746     		mov	r7, r6
 1190 002e 19E0     		b	.L111
 1191              	.LVL113:
 1192              	.L132:
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2052:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2054:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2056:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2059:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = &p[si];									/* Return pointer to the next segment */
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of path */
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1193              		.loc 1 2069 4 is_stmt 1 view .LVU353
 1194              		.loc 1 2069 11 view .LVU354
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1195              		.loc 1 2070 4 view .LVU355
 1196              		.loc 1 2070 6 is_stmt 0 view .LVU356
 1197 0030 BF00     		lsls	r7, r7, #2
 1198              	.LVL114:
 1199              		.loc 1 2070 6 view .LVU357
 1200 0032 FFB2     		uxtb	r7, r7
 1201              	.LVL115:
 1202              		.loc 1 2070 13 is_stmt 1 view .LVU358
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1203              		.loc 1 2069 6 is_stmt 0 view .LVU359
 1204 0034 4646     		mov	r6, r8
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1205              		.loc 1 2069 14 view .LVU360
 1206 0036 4FF00B08 		mov	r8, #11
 1207              		.loc 1 2070 4 view .LVU361
 1208 003a 12E0     		b	.L116
 1209              	.LVL116:
ARM GAS  /tmp/cciFFPmJ.s 			page 60


 1210              	.L114:
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
 1211              		.loc 1 2072 3 is_stmt 1 view .LVU362
 1212              		.loc 1 2072 6 is_stmt 0 view .LVU363
 1213 003c 15F0800F 		tst	r5, #128
 1214 0040 25D1     		bne	.L131
 1215              	.L117:
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 			b |= 3;						/* Eliminate NT flag */
2074:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2076:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2077:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII cfg) */
2079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2080:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
 1216              		.loc 1 2082 3 is_stmt 1 view .LVU364
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2084:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1)	/* Reject invalid DBC */
2085:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2086:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2088:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c))	/* Reject illegal chrs for SFN */
 1217              		.loc 1 2089 4 view .LVU365
 1218              		.loc 1 2089 8 is_stmt 0 view .LVU366
 1219 0042 2946     		mov	r1, r5
 1220 0044 3148     		ldr	r0, .L137
 1221 0046 FFF7FEFF 		bl	chk_chr
 1222              	.LVL117:
 1223              		.loc 1 2089 7 view .LVU367
 1224 004a 0028     		cmp	r0, #0
 1225 004c 5AD1     		bne	.L127
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
 1226              		.loc 1 2091 4 is_stmt 1 view .LVU368
 1227              		.loc 1 2091 8 is_stmt 0 view .LVU369
 1228 004e A5F14103 		sub	r3, r5, #65
 1229 0052 DBB2     		uxtb	r3, r3
 1230              		.loc 1 2091 7 view .LVU370
 1231 0054 192B     		cmp	r3, #25
 1232 0056 20D8     		bhi	.L118
2092:Middlewares/Third_Party/FatFs/src/ff.c **** 				b |= 2;
 1233              		.loc 1 2092 5 is_stmt 1 view .LVU371
 1234              		.loc 1 2092 7 is_stmt 0 view .LVU372
 1235 0058 47F00207 		orr	r7, r7, #2
 1236              	.LVL118:
 1237              	.L119:
2093:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(c)) {		/* ASCII small capital? */
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1238              		.loc 1 2098 4 is_stmt 1 view .LVU373
ARM GAS  /tmp/cciFFPmJ.s 			page 61


 1239              		.loc 1 2098 13 is_stmt 0 view .LVU374
 1240 005c 0AF80650 		strb	r5, [r10, r6]
 1241              		.loc 1 2098 9 view .LVU375
 1242 0060 0136     		adds	r6, r6, #1
 1243              	.LVL119:
 1244              	.L116:
 1245              		.loc 1 2098 9 view .LVU376
 1246 0062 5B46     		mov	r3, fp
 1247              	.LVL120:
 1248              	.L111:
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
 1249              		.loc 1 2064 2 is_stmt 1 view .LVU377
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1250              		.loc 1 2065 3 view .LVU378
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1251              		.loc 1 2065 17 is_stmt 0 view .LVU379
 1252 0064 03F1010B 		add	fp, r3, #1
 1253              	.LVL121:
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1254              		.loc 1 2065 5 view .LVU380
 1255 0068 E55C     		ldrb	r5, [r4, r3]	@ zero_extendqisi2
 1256              	.LVL122:
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1257              		.loc 1 2066 3 is_stmt 1 view .LVU381
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1258              		.loc 1 2066 6 is_stmt 0 view .LVU382
 1259 006a 202D     		cmp	r5, #32
 1260 006c 1FD9     		bls	.L112
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1261              		.loc 1 2066 16 discriminator 1 view .LVU383
 1262 006e 2F2D     		cmp	r5, #47
 1263 0070 1DD0     		beq	.L112
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1264              		.loc 1 2066 28 discriminator 2 view .LVU384
 1265 0072 5C2D     		cmp	r5, #92
 1266 0074 1BD0     		beq	.L112
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1267              		.loc 1 2067 3 is_stmt 1 view .LVU385
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1268              		.loc 1 2067 6 is_stmt 0 view .LVU386
 1269 0076 2E2D     		cmp	r5, #46
 1270 0078 01D0     		beq	.L113
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1271              		.loc 1 2067 16 discriminator 1 view .LVU387
 1272 007a B045     		cmp	r8, r6
 1273 007c DED8     		bhi	.L114
 1274              	.L113:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1275              		.loc 1 2068 4 is_stmt 1 view .LVU388
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1276              		.loc 1 2068 7 is_stmt 0 view .LVU389
 1277 007e B8F1080F 		cmp	r8, #8
 1278 0082 3DD1     		bne	.L125
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1279              		.loc 1 2068 16 discriminator 2 view .LVU390
 1280 0084 2E2D     		cmp	r5, #46
 1281 0086 D3D0     		beq	.L132
ARM GAS  /tmp/cciFFPmJ.s 			page 62


2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1282              		.loc 1 2068 36 view .LVU391
 1283 0088 0620     		movs	r0, #6
 1284              	.LVL123:
 1285              	.L115:
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!i) return FR_INVALID_NAME;		/* Reject nul string */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = c;		/* Store NT flag, File name is created */
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2115:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1286              		.loc 1 2115 1 view .LVU392
 1287 008a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1288              	.LVL124:
 1289              	.L131:
2073:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1290              		.loc 1 2073 4 is_stmt 1 view .LVU393
2073:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1291              		.loc 1 2073 6 is_stmt 0 view .LVU394
 1292 008e 47F00307 		orr	r7, r7, #3
 1293              	.LVL125:
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1294              		.loc 1 2075 4 is_stmt 1 view .LVU395
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1295              		.loc 1 2075 16 is_stmt 0 view .LVU396
 1296 0092 803D     		subs	r5, r5, #128
 1297              	.LVL126:
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1298              		.loc 1 2075 6 view .LVU397
 1299 0094 1E4B     		ldr	r3, .L137+4
 1300 0096 5D5D     		ldrb	r5, [r3, r5]	@ zero_extendqisi2
 1301              	.LVL127:
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1302              		.loc 1 2075 6 view .LVU398
 1303 0098 D3E7     		b	.L117
 1304              	.L118:
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1305              		.loc 1 2094 5 is_stmt 1 view .LVU399
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1306              		.loc 1 2094 9 is_stmt 0 view .LVU400
 1307 009a A5F16103 		sub	r3, r5, #97
 1308 009e DBB2     		uxtb	r3, r3
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1309              		.loc 1 2094 8 view .LVU401
 1310 00a0 192B     		cmp	r3, #25
 1311 00a2 DBD8     		bhi	.L119
ARM GAS  /tmp/cciFFPmJ.s 			page 63


2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1312              		.loc 1 2095 6 is_stmt 1 view .LVU402
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1313              		.loc 1 2095 8 is_stmt 0 view .LVU403
 1314 00a4 47F00107 		orr	r7, r7, #1
 1315              	.LVL128:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1316              		.loc 1 2095 14 is_stmt 1 view .LVU404
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1317              		.loc 1 2095 16 is_stmt 0 view .LVU405
 1318 00a8 203D     		subs	r5, r5, #32
 1319              	.LVL129:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1320              		.loc 1 2095 16 view .LVU406
 1321 00aa EDB2     		uxtb	r5, r5
 1322              	.LVL130:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1323              		.loc 1 2095 16 view .LVU407
 1324 00ac D6E7     		b	.L119
 1325              	.L112:
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1326              		.loc 1 2101 2 is_stmt 1 view .LVU408
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1327              		.loc 1 2101 10 is_stmt 0 view .LVU409
 1328 00ae 5C44     		add	r4, r4, fp
 1329              	.LVL131:
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1330              		.loc 1 2101 8 view .LVU410
 1331 00b0 C9F80040 		str	r4, [r9]
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1332              		.loc 1 2102 2 is_stmt 1 view .LVU411
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1333              		.loc 1 2102 4 is_stmt 0 view .LVU412
 1334 00b4 202D     		cmp	r5, #32
 1335 00b6 14D8     		bhi	.L128
 1336 00b8 0423     		movs	r3, #4
 1337              	.L120:
 1338              	.LVL132:
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1339              		.loc 1 2104 2 is_stmt 1 discriminator 4 view .LVU413
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1340              		.loc 1 2104 5 is_stmt 0 discriminator 4 view .LVU414
 1341 00ba 2EB3     		cbz	r6, .L129
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1342              		.loc 1 2105 2 is_stmt 1 view .LVU415
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1343              		.loc 1 2105 9 is_stmt 0 view .LVU416
 1344 00bc 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1345              		.loc 1 2105 5 view .LVU417
 1346 00c0 E52A     		cmp	r2, #229
 1347 00c2 10D0     		beq	.L133
 1348              	.L121:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1349              		.loc 1 2107 2 is_stmt 1 view .LVU418
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1350              		.loc 1 2107 5 is_stmt 0 view .LVU419
ARM GAS  /tmp/cciFFPmJ.s 			page 64


 1351 00c4 B8F1080F 		cmp	r8, #8
 1352 00c8 11D0     		beq	.L134
 1353              	.L122:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1354              		.loc 1 2108 2 is_stmt 1 view .LVU420
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1355              		.loc 1 2108 5 is_stmt 0 view .LVU421
 1356 00ca 07F00302 		and	r2, r7, #3
 1357 00ce 012A     		cmp	r2, #1
 1358 00d0 10D0     		beq	.L135
 1359              	.L123:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1360              		.loc 1 2109 2 is_stmt 1 view .LVU422
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1361              		.loc 1 2109 5 is_stmt 0 view .LVU423
 1362 00d2 07F00C07 		and	r7, r7, #12
 1363              	.LVL133:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1364              		.loc 1 2109 5 view .LVU424
 1365 00d6 042F     		cmp	r7, #4
 1366 00d8 0FD0     		beq	.L136
 1367              	.L124:
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1368              		.loc 1 2111 2 is_stmt 1 view .LVU425
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1369              		.loc 1 2111 14 is_stmt 0 view .LVU426
 1370 00da 8AF80B30 		strb	r3, [r10, #11]
2113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1371              		.loc 1 2113 2 is_stmt 1 view .LVU427
2113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1372              		.loc 1 2113 9 is_stmt 0 view .LVU428
 1373 00de 0020     		movs	r0, #0
 1374 00e0 D3E7     		b	.L115
 1375              	.LVL134:
 1376              	.L128:
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1377              		.loc 1 2102 4 view .LVU429
 1378 00e2 0023     		movs	r3, #0
 1379 00e4 E9E7     		b	.L120
 1380              	.LVL135:
 1381              	.L133:
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1382              		.loc 1 2105 22 is_stmt 1 discriminator 1 view .LVU430
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1383              		.loc 1 2105 29 is_stmt 0 discriminator 1 view .LVU431
 1384 00e6 0522     		movs	r2, #5
 1385 00e8 8AF80020 		strb	r2, [r10]
 1386 00ec EAE7     		b	.L121
 1387              	.L134:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1388              		.loc 1 2107 15 is_stmt 1 discriminator 1 view .LVU432
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1389              		.loc 1 2107 17 is_stmt 0 discriminator 1 view .LVU433
 1390 00ee BF00     		lsls	r7, r7, #2
 1391              	.LVL136:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1392              		.loc 1 2107 17 discriminator 1 view .LVU434
ARM GAS  /tmp/cciFFPmJ.s 			page 65


 1393 00f0 FFB2     		uxtb	r7, r7
 1394              	.LVL137:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1395              		.loc 1 2107 17 discriminator 1 view .LVU435
 1396 00f2 EAE7     		b	.L122
 1397              	.L135:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1398              		.loc 1 2108 26 is_stmt 1 discriminator 1 view .LVU436
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1399              		.loc 1 2108 28 is_stmt 0 discriminator 1 view .LVU437
 1400 00f4 43F01003 		orr	r3, r3, #16
 1401              	.LVL138:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1402              		.loc 1 2108 28 discriminator 1 view .LVU438
 1403 00f8 EBE7     		b	.L123
 1404              	.LVL139:
 1405              	.L136:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1406              		.loc 1 2109 26 is_stmt 1 discriminator 1 view .LVU439
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1407              		.loc 1 2109 28 is_stmt 0 discriminator 1 view .LVU440
 1408 00fa 43F00803 		orr	r3, r3, #8
 1409              	.LVL140:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1410              		.loc 1 2109 28 discriminator 1 view .LVU441
 1411 00fe ECE7     		b	.L124
 1412              	.LVL141:
 1413              	.L125:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1414              		.loc 1 2068 36 view .LVU442
 1415 0100 0620     		movs	r0, #6
 1416 0102 C2E7     		b	.L115
 1417              	.L127:
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
 1418              		.loc 1 2090 12 view .LVU443
 1419 0104 0620     		movs	r0, #6
 1420 0106 C0E7     		b	.L115
 1421              	.LVL142:
 1422              	.L129:
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1423              		.loc 1 2104 17 view .LVU444
 1424 0108 0620     		movs	r0, #6
 1425 010a BEE7     		b	.L115
 1426              	.L138:
 1427              		.align	2
 1428              	.L137:
 1429 010c 00000000 		.word	.LC0
 1430 0110 00000000 		.word	.LANCHOR1
 1431              		.cfi_endproc
 1432              	.LFE93:
 1434              		.section	.text.get_ldnumber,"ax",%progbits
 1435              		.align	1
 1436              		.syntax unified
 1437              		.thumb
 1438              		.thumb_func
 1439              		.fpu softvfp
 1441              	get_ldnumber:
ARM GAS  /tmp/cciFFPmJ.s 			page 66


 1442              	.LVL143:
 1443              	.LFB95:
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 
2118:Middlewares/Third_Party/FatFs/src/ff.c **** 
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2121:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** static
2125:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2126:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2127:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** )
2129:Middlewares/Third_Party/FatFs/src/ff.c **** {
2130:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2131:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, ns;
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 
2134:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\') {	/* There is a heading separator */
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;	dp->sclust = 0;				/* Strip it and start from the root directory */
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* No heading separator */
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sclust = dp->fs->cdir;			/* Start from the current directory */
2139:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\')		/* Strip heading separator if exist */
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
2144:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sclust = 0; dp->dir = 0;	/* it is the root directory and stay there */
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;					/* Ended at the root directroy. Function completed. */
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2165:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
ARM GAS  /tmp/cciFFPmJ.s 			page 67


2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->sclust = ld_clust(dp->fs, dir);
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** }
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 
2182:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2184:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 
2186:Middlewares/Third_Party/FatFs/src/ff.c **** static
2187:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2189:Middlewares/Third_Party/FatFs/src/ff.c **** )
2190:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1444              		.loc 1 2190 1 is_stmt 1 view -0
 1445              		.cfi_startproc
 1446              		@ args = 0, pretend = 0, frame = 0
 1447              		@ frame_needed = 0, uses_anonymous_args = 0
 1448              		@ link register save eliminated.
 1449              		.loc 1 2190 1 is_stmt 0 view .LVU446
 1450 0000 0146     		mov	r1, r0
2191:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1451              		.loc 1 2191 2 is_stmt 1 view .LVU447
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1452              		.loc 1 2192 2 view .LVU448
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1453              		.loc 1 2193 2 view .LVU449
 1454              	.LVL144:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const str[] = {_VOLUME_STRS};
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** 
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1455              		.loc 1 2202 2 view .LVU450
 1456              		.loc 1 2202 6 is_stmt 0 view .LVU451
 1457 0002 0068     		ldr	r0, [r0]
 1458              	.LVL145:
 1459              		.loc 1 2202 5 view .LVU452
 1460 0004 08B1     		cbz	r0, .L154
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1461              		.loc 1 2203 11 view .LVU453
 1462 0006 0246     		mov	r2, r0
 1463 0008 03E0     		b	.L140
 1464              	.L154:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1465              		.loc 1 2193 6 view .LVU454
 1466 000a 4FF0FF30 		mov	r0, #-1
ARM GAS  /tmp/cciFFPmJ.s 			page 68


 1467 000e 7047     		bx	lr
 1468              	.LVL146:
 1469              	.L143:
 1470              		.loc 1 2203 77 is_stmt 1 discriminator 4 view .LVU455
 1471              		.loc 1 2203 71 discriminator 4 view .LVU456
 1472              		.loc 1 2203 73 is_stmt 0 discriminator 4 view .LVU457
 1473 0010 0132     		adds	r2, r2, #1
 1474              	.LVL147:
 1475              	.L140:
 1476              		.loc 1 2203 20 is_stmt 1 discriminator 1 view .LVU458
 1477              		.loc 1 2203 26 is_stmt 0 discriminator 1 view .LVU459
 1478 0012 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1479              		.loc 1 2203 3 discriminator 1 view .LVU460
 1480 0014 202B     		cmp	r3, #32
 1481 0016 01D9     		bls	.L142
 1482              		.loc 1 2203 56 discriminator 3 view .LVU461
 1483 0018 3A2B     		cmp	r3, #58
 1484 001a F9D1     		bne	.L143
 1485              	.L142:
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1486              		.loc 1 2204 3 is_stmt 1 view .LVU462
 1487              		.loc 1 2204 6 is_stmt 0 view .LVU463
 1488 001c 3A2B     		cmp	r3, #58
 1489 001e 01D0     		beq	.L155
2205:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0'; 
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2209:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2212:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2213:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2217:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = str[i]; tp = *path;
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2219:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2223:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2228:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2230:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2231:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
2232:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2233:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1490              		.loc 1 2234 7 view .LVU464
 1491 0020 0020     		movs	r0, #0
 1492              	.LVL148:
ARM GAS  /tmp/cciFFPmJ.s 			page 69


2235:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2238:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1493              		.loc 1 2238 1 view .LVU465
 1494 0022 7047     		bx	lr
 1495              	.LVL149:
 1496              	.L155:
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1497              		.loc 1 2190 1 view .LVU466
 1498 0024 10B4     		push	{r4}
 1499              	.LCFI15:
 1500              		.cfi_def_cfa_offset 4
 1501              		.cfi_offset 4, -4
2205:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 1502              		.loc 1 2205 4 is_stmt 1 view .LVU467
 1503              	.LVL150:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1504              		.loc 1 2206 4 view .LVU468
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1505              		.loc 1 2206 11 is_stmt 0 view .LVU469
 1506 0026 0346     		mov	r3, r0
 1507              	.LVL151:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1508              		.loc 1 2206 8 view .LVU470
 1509 0028 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 1510              	.LVL152:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1511              		.loc 1 2206 14 view .LVU471
 1512 002c 3038     		subs	r0, r0, #48
 1513              	.LVL153:
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1514              		.loc 1 2207 4 is_stmt 1 view .LVU472
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1515              		.loc 1 2207 7 is_stmt 0 view .LVU473
 1516 002e 0928     		cmp	r0, #9
 1517 0030 08D8     		bhi	.L147
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1518              		.loc 1 2207 15 discriminator 1 view .LVU474
 1519 0032 9A42     		cmp	r2, r3
 1520 0034 02D0     		beq	.L156
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1521              		.loc 1 2193 6 view .LVU475
 1522 0036 4FF0FF30 		mov	r0, #-1
 1523              	.LVL154:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1524              		.loc 1 2193 6 view .LVU476
 1525 003a 05E0     		b	.L139
 1526              	.LVL155:
 1527              	.L156:
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1528              		.loc 1 2208 5 is_stmt 1 view .LVU477
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1529              		.loc 1 2208 8 is_stmt 0 view .LVU478
 1530 003c 30B9     		cbnz	r0, .L149
2209:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 1531              		.loc 1 2209 6 is_stmt 1 view .LVU479
ARM GAS  /tmp/cciFFPmJ.s 			page 70


 1532              	.LVL156:
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1533              		.loc 1 2210 6 view .LVU480
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1534              		.loc 1 2210 12 is_stmt 0 view .LVU481
 1535 003e 0132     		adds	r2, r2, #1
 1536              	.LVL157:
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1537              		.loc 1 2210 12 view .LVU482
 1538 0040 0A60     		str	r2, [r1]
 1539 0042 01E0     		b	.L139
 1540              	.LVL158:
 1541              	.L147:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1542              		.loc 1 2193 6 view .LVU483
 1543 0044 4FF0FF30 		mov	r0, #-1
 1544              	.LVL159:
 1545              	.L139:
 1546              		.loc 1 2238 1 view .LVU484
 1547 0048 10BC     		pop	{r4}
 1548              	.LCFI16:
 1549              		.cfi_remember_state
 1550              		.cfi_restore 4
 1551              		.cfi_def_cfa_offset 0
 1552 004a 7047     		bx	lr
 1553              	.LVL160:
 1554              	.L149:
 1555              	.LCFI17:
 1556              		.cfi_restore_state
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1557              		.loc 1 2193 6 view .LVU485
 1558 004c 4FF0FF30 		mov	r0, #-1
 1559              	.LVL161:
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1560              		.loc 1 2229 4 is_stmt 1 view .LVU486
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1561              		.loc 1 2229 11 is_stmt 0 view .LVU487
 1562 0050 FAE7     		b	.L139
 1563              		.cfi_endproc
 1564              	.LFE95:
 1566              		.section	.text.sync_window,"ax",%progbits
 1567              		.align	1
 1568              		.syntax unified
 1569              		.thumb
 1570              		.thumb_func
 1571              		.fpu softvfp
 1573              	sync_window:
 1574              	.LVL162:
 1575              	.LFB74:
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1576              		.loc 1 776 1 is_stmt 1 view -0
 1577              		.cfi_startproc
 1578              		@ args = 0, pretend = 0, frame = 0
 1579              		@ frame_needed = 0, uses_anonymous_args = 0
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1580              		.loc 1 776 1 is_stmt 0 view .LVU489
 1581 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  /tmp/cciFFPmJ.s 			page 71


 1582              	.LCFI18:
 1583              		.cfi_def_cfa_offset 24
 1584              		.cfi_offset 4, -24
 1585              		.cfi_offset 5, -20
 1586              		.cfi_offset 6, -16
 1587              		.cfi_offset 7, -12
 1588              		.cfi_offset 8, -8
 1589              		.cfi_offset 14, -4
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 1590              		.loc 1 777 2 is_stmt 1 view .LVU490
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1591              		.loc 1 778 2 view .LVU491
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1592              		.loc 1 779 2 view .LVU492
 1593              	.LVL163:
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1594              		.loc 1 782 2 view .LVU493
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1595              		.loc 1 782 8 is_stmt 0 view .LVU494
 1596 0004 90F80452 		ldrb	r5, [r0, #516]	@ zero_extendqisi2
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1597              		.loc 1 782 5 view .LVU495
 1598 0008 15B9     		cbnz	r5, .L163
 1599              	.LVL164:
 1600              	.L158:
 796:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1601              		.loc 1 796 2 is_stmt 1 view .LVU496
 797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1602              		.loc 1 797 1 is_stmt 0 view .LVU497
 1603 000a 2846     		mov	r0, r5
 1604 000c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1605              	.LVL165:
 1606              	.L163:
 797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1607              		.loc 1 797 1 view .LVU498
 1608 0010 0446     		mov	r4, r0
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 1609              		.loc 1 783 3 is_stmt 1 view .LVU499
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 1610              		.loc 1 783 9 is_stmt 0 view .LVU500
 1611 0012 D0F82C72 		ldr	r7, [r0, #556]
 1612              	.LVL166:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1613              		.loc 1 784 3 is_stmt 1 view .LVU501
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1614              		.loc 1 784 34 is_stmt 0 view .LVU502
 1615 0016 8046     		mov	r8, r0
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1616              		.loc 1 784 7 view .LVU503
 1617 0018 0123     		movs	r3, #1
 1618 001a 3A46     		mov	r2, r7
 1619 001c 0146     		mov	r1, r0
 1620 001e 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 1621              	.LVL167:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1622              		.loc 1 784 7 view .LVU504
 1623 0022 FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/cciFFPmJ.s 			page 72


 1624              	.LVL168:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1625              		.loc 1 784 6 view .LVU505
 1626 0026 0546     		mov	r5, r0
 1627 0028 C8B9     		cbnz	r0, .L161
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1628              		.loc 1 787 4 is_stmt 1 view .LVU506
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1629              		.loc 1 787 14 is_stmt 0 view .LVU507
 1630 002a 0023     		movs	r3, #0
 1631 002c 84F80432 		strb	r3, [r4, #516]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1632              		.loc 1 788 4 is_stmt 1 view .LVU508
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1633              		.loc 1 788 18 is_stmt 0 view .LVU509
 1634 0030 D4F82032 		ldr	r3, [r4, #544]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1635              		.loc 1 788 14 view .LVU510
 1636 0034 FB1A     		subs	r3, r7, r3
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1637              		.loc 1 788 32 view .LVU511
 1638 0036 D4F81822 		ldr	r2, [r4, #536]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1639              		.loc 1 788 7 view .LVU512
 1640 003a 9342     		cmp	r3, r2
 1641 003c E5D2     		bcs	.L158
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1642              		.loc 1 789 5 is_stmt 1 view .LVU513
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1643              		.loc 1 789 17 is_stmt 0 view .LVU514
 1644 003e 94F80362 		ldrb	r6, [r4, #515]	@ zero_extendqisi2
 1645              	.LVL169:
 1646              	.L159:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1647              		.loc 1 789 27 is_stmt 1 discriminator 1 view .LVU515
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1648              		.loc 1 789 5 is_stmt 0 discriminator 1 view .LVU516
 1649 0042 012E     		cmp	r6, #1
 1650 0044 E1D9     		bls	.L158
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1651              		.loc 1 790 6 is_stmt 1 discriminator 3 view .LVU517
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1652              		.loc 1 790 17 is_stmt 0 discriminator 3 view .LVU518
 1653 0046 D4F81832 		ldr	r3, [r4, #536]
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1654              		.loc 1 790 12 discriminator 3 view .LVU519
 1655 004a 1F44     		add	r7, r7, r3
 1656              	.LVL170:
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1657              		.loc 1 791 6 is_stmt 1 discriminator 3 view .LVU520
 1658 004c 0123     		movs	r3, #1
 1659 004e 3A46     		mov	r2, r7
 1660 0050 4146     		mov	r1, r8
 1661 0052 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 1662 0056 FFF7FEFF 		bl	disk_write
 1663              	.LVL171:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
ARM GAS  /tmp/cciFFPmJ.s 			page 73


 1664              		.loc 1 789 36 discriminator 3 view .LVU521
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1665              		.loc 1 789 38 is_stmt 0 discriminator 3 view .LVU522
 1666 005a 013E     		subs	r6, r6, #1
 1667              	.LVL172:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1668              		.loc 1 789 38 discriminator 3 view .LVU523
 1669 005c F1E7     		b	.L159
 1670              	.LVL173:
 1671              	.L161:
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1672              		.loc 1 785 8 view .LVU524
 1673 005e 0125     		movs	r5, #1
 1674 0060 D3E7     		b	.L158
 1675              		.cfi_endproc
 1676              	.LFE74:
 1678              		.section	.text.move_window,"ax",%progbits
 1679              		.align	1
 1680              		.syntax unified
 1681              		.thumb
 1682              		.thumb_func
 1683              		.fpu softvfp
 1685              	move_window:
 1686              	.LVL174:
 1687              	.LFB75:
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1688              		.loc 1 806 1 is_stmt 1 view -0
 1689              		.cfi_startproc
 1690              		@ args = 0, pretend = 0, frame = 0
 1691              		@ frame_needed = 0, uses_anonymous_args = 0
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1692              		.loc 1 806 1 is_stmt 0 view .LVU526
 1693 0000 70B5     		push	{r4, r5, r6, lr}
 1694              	.LCFI19:
 1695              		.cfi_def_cfa_offset 16
 1696              		.cfi_offset 4, -16
 1697              		.cfi_offset 5, -12
 1698              		.cfi_offset 6, -8
 1699              		.cfi_offset 14, -4
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1700              		.loc 1 807 2 is_stmt 1 view .LVU527
 1701              	.LVL175:
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1702              		.loc 1 810 2 view .LVU528
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1703              		.loc 1 810 18 is_stmt 0 view .LVU529
 1704 0002 D0F82C32 		ldr	r3, [r0, #556]
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1705              		.loc 1 810 5 view .LVU530
 1706 0006 8B42     		cmp	r3, r1
 1707 0008 02D1     		bne	.L170
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1708              		.loc 1 807 10 view .LVU531
 1709 000a 0026     		movs	r6, #0
 1710              	.LVL176:
 1711              	.L165:
 822:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/cciFFPmJ.s 			page 74


 1712              		.loc 1 822 2 is_stmt 1 view .LVU532
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1713              		.loc 1 823 1 is_stmt 0 view .LVU533
 1714 000c 3046     		mov	r0, r6
 1715 000e 70BD     		pop	{r4, r5, r6, pc}
 1716              	.LVL177:
 1717              	.L170:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1718              		.loc 1 823 1 view .LVU534
 1719 0010 0446     		mov	r4, r0
 1720 0012 0D46     		mov	r5, r1
 812:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1721              		.loc 1 812 3 is_stmt 1 view .LVU535
 812:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1722              		.loc 1 812 9 is_stmt 0 view .LVU536
 1723 0014 FFF7FEFF 		bl	sync_window
 1724              	.LVL178:
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 1725              		.loc 1 814 3 is_stmt 1 view .LVU537
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 1726              		.loc 1 814 6 is_stmt 0 view .LVU538
 1727 0018 0646     		mov	r6, r0
 1728 001a 0028     		cmp	r0, #0
 1729 001c F6D1     		bne	.L165
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1730              		.loc 1 815 4 is_stmt 1 view .LVU539
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1731              		.loc 1 815 8 is_stmt 0 view .LVU540
 1732 001e 0123     		movs	r3, #1
 1733 0020 2A46     		mov	r2, r5
 1734 0022 2146     		mov	r1, r4
 1735 0024 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 1736              	.LVL179:
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1737              		.loc 1 815 8 view .LVU541
 1738 0028 FFF7FEFF 		bl	disk_read
 1739              	.LVL180:
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1740              		.loc 1 815 7 view .LVU542
 1741 002c 10B1     		cbz	r0, .L166
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 1742              		.loc 1 817 9 view .LVU543
 1743 002e 0126     		movs	r6, #1
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 1744              		.loc 1 816 12 view .LVU544
 1745 0030 4FF0FF35 		mov	r5, #-1
 1746              	.LVL181:
 1747              	.L166:
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1748              		.loc 1 819 4 is_stmt 1 view .LVU545
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1749              		.loc 1 819 16 is_stmt 0 view .LVU546
 1750 0034 C4F82C52 		str	r5, [r4, #556]
 1751 0038 E8E7     		b	.L165
 1752              		.cfi_endproc
 1753              	.LFE75:
 1755              		.section	.text.check_fs,"ax",%progbits
ARM GAS  /tmp/cciFFPmJ.s 			page 75


 1756              		.align	1
 1757              		.syntax unified
 1758              		.thumb
 1759              		.thumb_func
 1760              		.fpu softvfp
 1762              	check_fs:
 1763              	.LVL182:
 1764              	.LFB96:
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 
2242:Middlewares/Third_Party/FatFs/src/ff.c **** 
2243:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2244:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2245:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2246:Middlewares/Third_Party/FatFs/src/ff.c **** 
2247:Middlewares/Third_Party/FatFs/src/ff.c **** static
2248:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT boor sector, 1:Valid boor sector but not FAT, 2:Not a boot sector, 3:Disk 
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to check if it is an FAT boot record or not */
2251:Middlewares/Third_Party/FatFs/src/ff.c **** )
2252:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1765              		.loc 1 2252 1 is_stmt 1 view -0
 1766              		.cfi_startproc
 1767              		@ args = 0, pretend = 0, frame = 0
 1768              		@ frame_needed = 0, uses_anonymous_args = 0
 1769              		.loc 1 2252 1 is_stmt 0 view .LVU548
 1770 0000 10B5     		push	{r4, lr}
 1771              	.LCFI20:
 1772              		.cfi_def_cfa_offset 8
 1773              		.cfi_offset 4, -8
 1774              		.cfi_offset 14, -4
 1775 0002 0446     		mov	r4, r0
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;	/* Invaidate window */
 1776              		.loc 1 2253 2 is_stmt 1 view .LVU549
 1777              		.loc 1 2253 12 is_stmt 0 view .LVU550
 1778 0004 0023     		movs	r3, #0
 1779 0006 80F80432 		strb	r3, [r0, #516]
 1780              		.loc 1 2253 17 is_stmt 1 view .LVU551
 1781              		.loc 1 2253 29 is_stmt 0 view .LVU552
 1782 000a 4FF0FF33 		mov	r3, #-1
 1783 000e C0F82C32 		str	r3, [r0, #556]
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK)			/* Load boot record */
 1784              		.loc 1 2254 2 is_stmt 1 view .LVU553
 1785              		.loc 1 2254 6 is_stmt 0 view .LVU554
 1786 0012 FFF7FEFF 		bl	move_window
 1787              	.LVL183:
 1788              		.loc 1 2254 5 view .LVU555
 1789 0016 98BB     		cbnz	r0, .L173
 1790 0018 0246     		mov	r2, r0
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 3;
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(&fs->win.d8[BS_55AA]) != 0xAA55)	/* Check boot record signature (always placed at offs
 1791              		.loc 1 2257 2 is_stmt 1 view .LVU556
 1792              		.loc 1 2257 6 is_stmt 0 view .LVU557
 1793 001a 94F8FF11 		ldrb	r1, [r4, #511]	@ zero_extendqisi2
 1794 001e 94F8FE31 		ldrb	r3, [r4, #510]	@ zero_extendqisi2
ARM GAS  /tmp/cciFFPmJ.s 			page 76


 1795 0022 43EA0123 		orr	r3, r3, r1, lsl #8
 1796 0026 1BB2     		sxth	r3, r3
 1797              		.loc 1 2257 5 view .LVU558
 1798 0028 1749     		ldr	r1, .L176
 1799 002a 8B42     		cmp	r3, r1
 1800 002c 2AD1     		bne	.L174
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 2;
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType]) & 0xFFFFFF) == 0x544146)		/* Check "FAT" string */
 1801              		.loc 1 2260 2 is_stmt 1 view .LVU559
 1802              		.loc 1 2260 7 is_stmt 0 view .LVU560
 1803 002e 94F83910 		ldrb	r1, [r4, #57]	@ zero_extendqisi2
 1804 0032 94F83830 		ldrb	r3, [r4, #56]	@ zero_extendqisi2
 1805 0036 1B04     		lsls	r3, r3, #16
 1806 0038 43EA0163 		orr	r3, r3, r1, lsl #24
 1807 003c 94F83710 		ldrb	r1, [r4, #55]	@ zero_extendqisi2
 1808 0040 43EA0123 		orr	r3, r3, r1, lsl #8
 1809 0044 94F83610 		ldrb	r1, [r4, #54]	@ zero_extendqisi2
 1810 0048 0B43     		orrs	r3, r3, r1
 1811              		.loc 1 2260 44 view .LVU561
 1812 004a 23F07F43 		bic	r3, r3, #-16777216
 1813              		.loc 1 2260 5 view .LVU562
 1814 004e 0F49     		ldr	r1, .L176+4
 1815 0050 8B42     		cmp	r3, r1
 1816 0052 13D0     		beq	.L172
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType32]) & 0xFFFFFF) == 0x544146)	/* Check "FAT" string */
 1817              		.loc 1 2262 2 is_stmt 1 view .LVU563
 1818              		.loc 1 2262 7 is_stmt 0 view .LVU564
 1819 0054 94F85510 		ldrb	r1, [r4, #85]	@ zero_extendqisi2
 1820 0058 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 1821 005c 1B04     		lsls	r3, r3, #16
 1822 005e 43EA0163 		orr	r3, r3, r1, lsl #24
 1823 0062 94F85310 		ldrb	r1, [r4, #83]	@ zero_extendqisi2
 1824 0066 43EA0123 		orr	r3, r3, r1, lsl #8
 1825 006a 94F85210 		ldrb	r1, [r4, #82]	@ zero_extendqisi2
 1826 006e 0B43     		orrs	r3, r3, r1
 1827              		.loc 1 2262 46 view .LVU565
 1828 0070 23F07F43 		bic	r3, r3, #-16777216
 1829              		.loc 1 2262 5 view .LVU566
 1830 0074 0549     		ldr	r1, .L176+4
 1831 0076 8B42     		cmp	r3, r1
 1832 0078 00D0     		beq	.L172
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
 1833              		.loc 1 2265 9 view .LVU567
 1834 007a 0122     		movs	r2, #1
 1835              	.L172:
2266:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1836              		.loc 1 2266 1 view .LVU568
 1837 007c 1046     		mov	r0, r2
 1838 007e 10BD     		pop	{r4, pc}
 1839              	.LVL184:
 1840              	.L173:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1841              		.loc 1 2255 10 view .LVU569
ARM GAS  /tmp/cciFFPmJ.s 			page 77


 1842 0080 0322     		movs	r2, #3
 1843 0082 FBE7     		b	.L172
 1844              	.L174:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1845              		.loc 1 2258 10 view .LVU570
 1846 0084 0222     		movs	r2, #2
 1847 0086 F9E7     		b	.L172
 1848              	.L177:
 1849              		.align	2
 1850              	.L176:
 1851 0088 55AAFFFF 		.word	-21931
 1852 008c 46415400 		.word	5521734
 1853              		.cfi_endproc
 1854              	.LFE96:
 1856              		.section	.text.validate,"ax",%progbits
 1857              		.align	1
 1858              		.syntax unified
 1859              		.thumb
 1860              		.thumb_func
 1861              		.fpu softvfp
 1863              	validate:
 1864              	.LVL185:
 1865              	.LFB98:
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 
2271:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2272:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2273:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 
2275:Middlewares/Third_Party/FatFs/src/ff.c **** static
2276:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE wmode			/* !=0: Check write protection for write access */
2280:Middlewares/Third_Party/FatFs/src/ff.c **** )
2281:Middlewares/Third_Party/FatFs/src/ff.c **** {
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
2286:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
2287:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
2288:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2289:Middlewares/Third_Party/FatFs/src/ff.c **** 
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number from the path name */
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
ARM GAS  /tmp/cciFFPmJ.s 			page 78


2301:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
2322:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS						/* Get sector size (multiple sector size cfg only) */
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
2325:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning, FDISK and SFD. */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
2333:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);						/* Partition number: 0:auto, 1-4:forced */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {								/* Find an FAT volume */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 3) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found. Following code initializes the file system object */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(fs->win.d8 + BPB_BytsPerSec) != SS(fs))	/* (BPB_BytsPerSec must be equal to the physic
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize = LD_WORD(fs->win.d8 + BPB_FATSz16);			/* Number of sectors per FAT */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fats = fs->win.d8[BPB_NumFATs];					/* Number of FAT copies */
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cciFFPmJ.s 			page 79


2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->csize = fs->win.d8[BPB_SecPerClus];				/* Number of sectors per cluster */
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_rootdir = LD_WORD(fs->win.d8 + BPB_RootEntCnt);	/* Number of root directory entries */
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2365:Middlewares/Third_Party/FatFs/src/ff.c **** 
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	tsect = LD_WORD(fs->win.d8 + BPB_TotSec16);			/* Number of sectors on the volume */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
2368:Middlewares/Third_Party/FatFs/src/ff.c **** 
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	nrsv = LD_WORD(fs->win.d8 + BPB_RsvdSecCnt);			/* Number of reserved sectors */
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the FAT sub type */
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZ_DIRE);	/* RSV + FAT + DIR */
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Boundaries and Limits */
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fatent = nclst + 2;							/* Number of FAT entries */
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
2390:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fs->n_rootdir)	return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must not be 0) */
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
2395:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs))	/* (BPB_FATSz must not be less than the size nee
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2398:Middlewares/Third_Party/FatFs/src/ff.c **** 
2399:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize cluster allocation information */
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->last_clust = fs->free_clust = 0xFFFFFFFF;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** 
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get fsinfo if available */
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsi_flag = 0x80;
2405:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo is 1 */
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0;
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
ARM GAS  /tmp/cciFFPmJ.s 			page 80


2415:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = LD_DWORD(fs->win.d8 + FSI_Free_Count);
2417:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2418:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->last_clust = LD_DWORD(fs->win.d8 + FSI_Nxt_Free);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2423:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2424:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;	/* FAT sub-type */
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
2427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;		/* Set current directory to root */
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK			/* Clear file lock semaphores */
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
2432:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2435:Middlewares/Third_Party/FatFs/src/ff.c **** }
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** 
2439:Middlewares/Third_Party/FatFs/src/ff.c **** 
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
2442:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2443:Middlewares/Third_Party/FatFs/src/ff.c **** 
2444:Middlewares/Third_Party/FatFs/src/ff.c **** static
2445:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* FR_OK(0): The object is valid, !=0: Invalid */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* obj		/* Pointer to the object FIL/DIR to check validity */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1866              		.loc 1 2448 1 is_stmt 1 view -0
 1867              		.cfi_startproc
 1868              		@ args = 0, pretend = 0, frame = 0
 1869              		@ frame_needed = 0, uses_anonymous_args = 0
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fil = (FIL*)obj;	/* Assuming offset of .fs and .id in the FIL/DIR structure is identical */
 1870              		.loc 1 2449 2 view .LVU572
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fil || !fil->fs || !fil->fs->fs_type || fil->fs->id != fil->id || (disk_status(fil->fs->drv) 
 1871              		.loc 1 2452 2 view .LVU573
 1872              		.loc 1 2452 5 is_stmt 0 view .LVU574
 1873 0000 B0B1     		cbz	r0, .L182
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fil = (FIL*)obj;	/* Assuming offset of .fs and .id in the FIL/DIR structure is identical */
 1874              		.loc 1 2448 1 discriminator 1 view .LVU575
 1875 0002 08B5     		push	{r3, lr}
 1876              	.LCFI21:
 1877              		.cfi_def_cfa_offset 8
 1878              		.cfi_offset 3, -8
 1879              		.cfi_offset 14, -4
 1880              		.loc 1 2452 18 discriminator 1 view .LVU576
 1881 0004 D0F80032 		ldr	r3, [r0, #512]
 1882              		.loc 1 2452 11 discriminator 1 view .LVU577
 1883 0008 43B1     		cbz	r3, .L179
ARM GAS  /tmp/cciFFPmJ.s 			page 81


 1884              		.loc 1 2452 34 discriminator 2 view .LVU578
 1885 000a 93F80012 		ldrb	r1, [r3, #512]	@ zero_extendqisi2
 1886              		.loc 1 2452 23 discriminator 2 view .LVU579
 1887 000e 29B1     		cbz	r1, .L179
 1888              		.loc 1 2452 54 discriminator 3 view .LVU580
 1889 0010 B3F80612 		ldrh	r1, [r3, #518]
 1890              		.loc 1 2452 65 discriminator 3 view .LVU581
 1891 0014 B0F80422 		ldrh	r2, [r0, #516]
 1892              		.loc 1 2452 44 discriminator 3 view .LVU582
 1893 0018 9142     		cmp	r1, r2
 1894 001a 01D0     		beq	.L186
 1895              	.LVL186:
 1896              	.L179:
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1897              		.loc 1 2453 3 is_stmt 1 view .LVU583
 1898              		.loc 1 2453 10 is_stmt 0 view .LVU584
 1899 001c 0920     		movs	r0, #9
 1900              	.L180:
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 
2455:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fil->fs);		/* Lock file system */
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1901              		.loc 1 2458 1 view .LVU585
 1902 001e 08BD     		pop	{r3, pc}
 1903              	.LVL187:
 1904              	.L186:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1905              		.loc 1 2452 74 discriminator 4 view .LVU586
 1906 0020 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 1907              	.LVL188:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1908              		.loc 1 2452 74 discriminator 4 view .LVU587
 1909 0024 FFF7FEFF 		bl	disk_status
 1910              	.LVL189:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1911              		.loc 1 2452 70 discriminator 4 view .LVU588
 1912 0028 10F00100 		ands	r0, r0, #1
 1913 002c F7D0     		beq	.L180
 1914 002e F5E7     		b	.L179
 1915              	.LVL190:
 1916              	.L182:
 1917              	.LCFI22:
 1918              		.cfi_def_cfa_offset 0
 1919              		.cfi_restore 3
 1920              		.cfi_restore 14
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1921              		.loc 1 2453 3 is_stmt 1 view .LVU589
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1922              		.loc 1 2453 10 is_stmt 0 view .LVU590
 1923 0030 0920     		movs	r0, #9
 1924              	.LVL191:
 1925              		.loc 1 2458 1 view .LVU591
 1926 0032 7047     		bx	lr
 1927              		.cfi_endproc
 1928              	.LFE98:
 1930              		.section	.text.find_volume,"ax",%progbits
ARM GAS  /tmp/cciFFPmJ.s 			page 82


 1931              		.align	1
 1932              		.syntax unified
 1933              		.thumb
 1934              		.thumb_func
 1935              		.fpu softvfp
 1937              	find_volume:
 1938              	.LVL192:
 1939              	.LFB97:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 1940              		.loc 1 2281 1 is_stmt 1 view -0
 1941              		.cfi_startproc
 1942              		@ args = 0, pretend = 0, frame = 16
 1943              		@ frame_needed = 0, uses_anonymous_args = 0
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 1944              		.loc 1 2281 1 is_stmt 0 view .LVU593
 1945 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1946              	.LCFI23:
 1947              		.cfi_def_cfa_offset 28
 1948              		.cfi_offset 4, -28
 1949              		.cfi_offset 5, -24
 1950              		.cfi_offset 6, -20
 1951              		.cfi_offset 7, -16
 1952              		.cfi_offset 8, -12
 1953              		.cfi_offset 9, -8
 1954              		.cfi_offset 14, -4
 1955 0004 85B0     		sub	sp, sp, #20
 1956              	.LCFI24:
 1957              		.cfi_def_cfa_offset 48
 1958 0006 0546     		mov	r5, r0
 1959 0008 1746     		mov	r7, r2
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 1960              		.loc 1 2282 2 is_stmt 1 view .LVU594
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 1961              		.loc 1 2283 2 view .LVU595
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
 1962              		.loc 1 2284 2 view .LVU596
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
 1963              		.loc 1 2285 2 view .LVU597
2286:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 1964              		.loc 1 2286 2 view .LVU598
2287:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1965              		.loc 1 2287 2 view .LVU599
2288:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1966              		.loc 1 2288 2 view .LVU600
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 1967              		.loc 1 2292 2 view .LVU601
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 1968              		.loc 1 2292 7 is_stmt 0 view .LVU602
 1969 000a 0023     		movs	r3, #0
 1970 000c 0360     		str	r3, [r0]
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1971              		.loc 1 2293 2 is_stmt 1 view .LVU603
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1972              		.loc 1 2293 8 is_stmt 0 view .LVU604
 1973 000e 0846     		mov	r0, r1
 1974              	.LVL193:
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
ARM GAS  /tmp/cciFFPmJ.s 			page 83


 1975              		.loc 1 2293 8 view .LVU605
 1976 0010 FFF7FEFF 		bl	get_ldnumber
 1977              	.LVL194:
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1978              		.loc 1 2294 2 is_stmt 1 view .LVU606
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1979              		.loc 1 2294 5 is_stmt 0 view .LVU607
 1980 0014 061E     		subs	r6, r0, #0
 1981 0016 C0F29981 		blt	.L205
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 1982              		.loc 1 2297 2 is_stmt 1 view .LVU608
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 1983              		.loc 1 2297 5 is_stmt 0 view .LVU609
 1984 001a D54B     		ldr	r3, .L234
 1985 001c 53F82640 		ldr	r4, [r3, r6, lsl #2]
 1986              	.LVL195:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1987              		.loc 1 2298 2 is_stmt 1 view .LVU610
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1988              		.loc 1 2298 5 is_stmt 0 view .LVU611
 1989 0020 002C     		cmp	r4, #0
 1990 0022 00F09881 		beq	.L206
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 1991              		.loc 1 2300 14 is_stmt 1 view .LVU612
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1992              		.loc 1 2301 2 view .LVU613
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1993              		.loc 1 2301 7 is_stmt 0 view .LVU614
 1994 0026 2C60     		str	r4, [r5]
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1995              		.loc 1 2303 2 is_stmt 1 view .LVU615
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1996              		.loc 1 2303 8 is_stmt 0 view .LVU616
 1997 0028 94F80032 		ldrb	r3, [r4, #512]	@ zero_extendqisi2
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1998              		.loc 1 2303 5 view .LVU617
 1999 002c 7BB1     		cbz	r3, .L189
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2000              		.loc 1 2304 3 is_stmt 1 view .LVU618
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2001              		.loc 1 2304 10 is_stmt 0 view .LVU619
 2002 002e 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 2003              	.LVL196:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2004              		.loc 1 2304 10 view .LVU620
 2005 0032 FFF7FEFF 		bl	disk_status
 2006              	.LVL197:
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 2007              		.loc 1 2305 3 is_stmt 1 view .LVU621
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 2008              		.loc 1 2305 6 is_stmt 0 view .LVU622
 2009 0036 10F00105 		ands	r5, r0, #1
 2010              	.LVL198:
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 2011              		.loc 1 2305 6 view .LVU623
 2012 003a 08D1     		bne	.L189
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
ARM GAS  /tmp/cciFFPmJ.s 			page 84


 2013              		.loc 1 2306 4 is_stmt 1 view .LVU624
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2014              		.loc 1 2306 7 is_stmt 0 view .LVU625
 2015 003c 002F     		cmp	r7, #0
 2016 003e 00F08681 		beq	.L188
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2017              		.loc 1 2306 31 discriminator 1 view .LVU626
 2018 0042 10F0040F 		tst	r0, #4
 2019 0046 00F08281 		beq	.L188
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
 2020              		.loc 1 2307 12 view .LVU627
 2021 004a 0A25     		movs	r5, #10
 2022 004c 7FE1     		b	.L188
 2023              	.LVL199:
 2024              	.L189:
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2025              		.loc 1 2315 2 is_stmt 1 view .LVU628
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2026              		.loc 1 2315 14 is_stmt 0 view .LVU629
 2027 004e 0023     		movs	r3, #0
 2028 0050 84F80032 		strb	r3, [r4, #512]
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2029              		.loc 1 2316 2 is_stmt 1 view .LVU630
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2030              		.loc 1 2316 12 is_stmt 0 view .LVU631
 2031 0054 F0B2     		uxtb	r0, r6
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2032              		.loc 1 2316 10 view .LVU632
 2033 0056 84F80102 		strb	r0, [r4, #513]
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
 2034              		.loc 1 2317 2 is_stmt 1 view .LVU633
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
 2035              		.loc 1 2317 9 is_stmt 0 view .LVU634
 2036 005a FFF7FEFF 		bl	disk_initialize
 2037              	.LVL200:
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2038              		.loc 1 2318 2 is_stmt 1 view .LVU635
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2039              		.loc 1 2318 5 is_stmt 0 view .LVU636
 2040 005e 10F0010F 		tst	r0, #1
 2041 0062 40F07A81 		bne	.L208
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2042              		.loc 1 2320 2 is_stmt 1 view .LVU637
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2043              		.loc 1 2320 5 is_stmt 0 view .LVU638
 2044 0066 1FB1     		cbz	r7, .L190
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2045              		.loc 1 2320 29 discriminator 1 view .LVU639
 2046 0068 10F0040F 		tst	r0, #4
 2047 006c 40F07781 		bne	.L209
 2048              	.L190:
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
 2049              		.loc 1 2327 2 is_stmt 1 view .LVU640
 2050              	.LVL201:
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 2051              		.loc 1 2328 2 view .LVU641
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
ARM GAS  /tmp/cciFFPmJ.s 			page 85


 2052              		.loc 1 2328 8 is_stmt 0 view .LVU642
 2053 0070 0021     		movs	r1, #0
 2054 0072 2046     		mov	r0, r4
 2055              	.LVL202:
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 2056              		.loc 1 2328 8 view .LVU643
 2057 0074 FFF7FEFF 		bl	check_fs
 2058              	.LVL203:
 2059 0078 0546     		mov	r5, r0
 2060              	.LVL204:
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 2061              		.loc 1 2329 2 is_stmt 1 view .LVU644
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 2062              		.loc 1 2329 5 is_stmt 0 view .LVU645
 2063 007a 0128     		cmp	r0, #1
 2064 007c 00F0D480 		beq	.L210
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
 2065              		.loc 1 2327 8 view .LVU646
 2066 0080 0027     		movs	r7, #0
 2067              	.LVL205:
 2068              	.L192:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2069              		.loc 1 2341 2 is_stmt 1 view .LVU647
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2070              		.loc 1 2341 5 is_stmt 0 view .LVU648
 2071 0082 032D     		cmp	r5, #3
 2072 0084 00F06D81 		beq	.L213
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2073              		.loc 1 2342 2 is_stmt 1 view .LVU649
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2074              		.loc 1 2342 5 is_stmt 0 view .LVU650
 2075 0088 002D     		cmp	r5, #0
 2076 008a 40F06C81 		bne	.L214
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2077              		.loc 1 2346 2 is_stmt 1 view .LVU651
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2078              		.loc 1 2346 6 is_stmt 0 view .LVU652
 2079 008e 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 2080 0090 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 2081 0092 43EA0223 		orr	r3, r3, r2, lsl #8
 2082 0096 1BB2     		sxth	r3, r3
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2083              		.loc 1 2346 5 view .LVU653
 2084 0098 B3F5007F 		cmp	r3, #512
 2085 009c 40F06581 		bne	.L215
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 2086              		.loc 1 2349 2 is_stmt 1 view .LVU654
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 2087              		.loc 1 2349 11 is_stmt 0 view .LVU655
 2088 00a0 E27D     		ldrb	r2, [r4, #23]	@ zero_extendqisi2
 2089 00a2 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 2090              	.LVL206:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2091              		.loc 1 2350 2 is_stmt 1 view .LVU656
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2092              		.loc 1 2350 5 is_stmt 0 view .LVU657
 2093 00a4 53EA0223 		orrs	r3, r3, r2, lsl #8
ARM GAS  /tmp/cciFFPmJ.s 			page 86


 2094              	.LVL207:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2095              		.loc 1 2350 5 view .LVU658
 2096 00a8 0DD1     		bne	.L197
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2097              		.loc 1 2350 15 is_stmt 1 discriminator 1 view .LVU659
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2098              		.loc 1 2350 24 is_stmt 0 discriminator 1 view .LVU660
 2099 00aa 94F82720 		ldrb	r2, [r4, #39]	@ zero_extendqisi2
 2100 00ae 94F82630 		ldrb	r3, [r4, #38]	@ zero_extendqisi2
 2101              	.LVL208:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2102              		.loc 1 2350 24 discriminator 1 view .LVU661
 2103 00b2 1B04     		lsls	r3, r3, #16
 2104 00b4 43EA0263 		orr	r3, r3, r2, lsl #24
 2105 00b8 94F82520 		ldrb	r2, [r4, #37]	@ zero_extendqisi2
 2106 00bc 43EA0223 		orr	r3, r3, r2, lsl #8
 2107 00c0 94F82420 		ldrb	r2, [r4, #36]	@ zero_extendqisi2
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2108              		.loc 1 2350 22 discriminator 1 view .LVU662
 2109 00c4 1343     		orrs	r3, r3, r2
 2110              	.LVL209:
 2111              	.L197:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2112              		.loc 1 2351 2 is_stmt 1 view .LVU663
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2113              		.loc 1 2351 12 is_stmt 0 view .LVU664
 2114 00c6 C4F81832 		str	r3, [r4, #536]
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2115              		.loc 1 2353 2 is_stmt 1 view .LVU665
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2116              		.loc 1 2353 25 is_stmt 0 view .LVU666
 2117 00ca 217C     		ldrb	r1, [r4, #16]	@ zero_extendqisi2
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2118              		.loc 1 2353 13 view .LVU667
 2119 00cc 84F80312 		strb	r1, [r4, #515]
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2120              		.loc 1 2354 2 is_stmt 1 view .LVU668
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2121              		.loc 1 2354 22 is_stmt 0 view .LVU669
 2122 00d0 4A1E     		subs	r2, r1, #1
 2123 00d2 D2B2     		uxtb	r2, r2
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2124              		.loc 1 2354 5 view .LVU670
 2125 00d4 012A     		cmp	r2, #1
 2126 00d6 00F25581 		bhi	.L216
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2127              		.loc 1 2356 2 is_stmt 1 view .LVU671
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2128              		.loc 1 2356 9 is_stmt 0 view .LVU672
 2129 00da 03FB01F1 		mul	r1, r3, r1
 2130              	.LVL210:
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2131              		.loc 1 2358 2 is_stmt 1 view .LVU673
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2132              		.loc 1 2358 24 is_stmt 0 view .LVU674
 2133 00de 607B     		ldrb	r0, [r4, #13]	@ zero_extendqisi2
ARM GAS  /tmp/cciFFPmJ.s 			page 87


2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2134              		.loc 1 2358 12 view .LVU675
 2135 00e0 84F80202 		strb	r0, [r4, #514]
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2136              		.loc 1 2359 2 is_stmt 1 view .LVU676
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2137              		.loc 1 2359 5 is_stmt 0 view .LVU677
 2138 00e4 0028     		cmp	r0, #0
 2139 00e6 00F04F81 		beq	.L217
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2140              		.loc 1 2359 44 discriminator 1 view .LVU678
 2141 00ea 421E     		subs	r2, r0, #1
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2142              		.loc 1 2359 17 discriminator 1 view .LVU679
 2143 00ec 1042     		tst	r0, r2
 2144 00ee 40F04D81 		bne	.L218
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2145              		.loc 1 2362 2 is_stmt 1 view .LVU680
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2146              		.loc 1 2362 18 is_stmt 0 view .LVU681
 2147 00f2 A27C     		ldrb	r2, [r4, #18]	@ zero_extendqisi2
 2148 00f4 667C     		ldrb	r6, [r4, #17]	@ zero_extendqisi2
 2149 00f6 46EA0226 		orr	r6, r6, r2, lsl #8
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2150              		.loc 1 2362 16 view .LVU682
 2151 00fa A4F80862 		strh	r6, [r4, #520]	@ movhi
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2152              		.loc 1 2363 2 is_stmt 1 view .LVU683
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2153              		.loc 1 2363 5 is_stmt 0 view .LVU684
 2154 00fe 16F00F0F 		tst	r6, #15
 2155 0102 40F04581 		bne	.L219
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 2156              		.loc 1 2366 2 is_stmt 1 view .LVU685
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 2157              		.loc 1 2366 10 is_stmt 0 view .LVU686
 2158 0106 94F814C0 		ldrb	ip, [r4, #20]	@ zero_extendqisi2
 2159 010a E27C     		ldrb	r2, [r4, #19]	@ zero_extendqisi2
 2160              	.LVL211:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2161              		.loc 1 2367 2 is_stmt 1 view .LVU687
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2162              		.loc 1 2367 5 is_stmt 0 view .LVU688
 2163 010c 52EA0C22 		orrs	r2, r2, ip, lsl #8
 2164              	.LVL212:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2165              		.loc 1 2367 5 view .LVU689
 2166 0110 0ED1     		bne	.L198
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2167              		.loc 1 2367 14 is_stmt 1 discriminator 1 view .LVU690
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2168              		.loc 1 2367 22 is_stmt 0 discriminator 1 view .LVU691
 2169 0112 94F823C0 		ldrb	ip, [r4, #35]	@ zero_extendqisi2
 2170 0116 94F82220 		ldrb	r2, [r4, #34]	@ zero_extendqisi2
 2171              	.LVL213:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2172              		.loc 1 2367 22 discriminator 1 view .LVU692
ARM GAS  /tmp/cciFFPmJ.s 			page 88


 2173 011a 1204     		lsls	r2, r2, #16
 2174 011c 42EA0C62 		orr	r2, r2, ip, lsl #24
 2175 0120 94F821C0 		ldrb	ip, [r4, #33]	@ zero_extendqisi2
 2176 0124 42EA0C22 		orr	r2, r2, ip, lsl #8
 2177 0128 94F820C0 		ldrb	ip, [r4, #32]	@ zero_extendqisi2
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2178              		.loc 1 2367 20 discriminator 1 view .LVU693
 2179 012c 42EA0C02 		orr	r2, r2, ip
 2180              	.LVL214:
 2181              	.L198:
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
 2182              		.loc 1 2369 2 is_stmt 1 view .LVU694
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
 2183              		.loc 1 2369 9 is_stmt 0 view .LVU695
 2184 0130 94F80FE0 		ldrb	lr, [r4, #15]	@ zero_extendqisi2
 2185 0134 94F80EC0 		ldrb	ip, [r4, #14]	@ zero_extendqisi2
 2186              	.LVL215:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2187              		.loc 1 2370 2 is_stmt 1 view .LVU696
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2188              		.loc 1 2370 5 is_stmt 0 view .LVU697
 2189 0138 5CEA0E2C 		orrs	ip, ip, lr, lsl #8
 2190              	.LVL216:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2191              		.loc 1 2370 5 view .LVU698
 2192 013c 00F02A81 		beq	.L220
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2193              		.loc 1 2373 2 is_stmt 1 view .LVU699
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2194              		.loc 1 2373 16 is_stmt 0 view .LVU700
 2195 0140 0CEB0109 		add	r9, ip, r1
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2196              		.loc 1 2373 9 view .LVU701
 2197 0144 09EB1619 		add	r9, r9, r6, lsr #4
 2198              	.LVL217:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2199              		.loc 1 2374 2 is_stmt 1 view .LVU702
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2200              		.loc 1 2374 5 is_stmt 0 view .LVU703
 2201 0148 4A45     		cmp	r2, r9
 2202 014a C0F02581 		bcc	.L221
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2203              		.loc 1 2375 2 is_stmt 1 view .LVU704
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2204              		.loc 1 2375 17 is_stmt 0 view .LVU705
 2205 014e A2EB0902 		sub	r2, r2, r9
 2206              	.LVL218:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2207              		.loc 1 2375 8 view .LVU706
 2208 0152 B2FBF0FE 		udiv	lr, r2, r0
 2209              	.LVL219:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2210              		.loc 1 2376 2 is_stmt 1 view .LVU707
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2211              		.loc 1 2376 5 is_stmt 0 view .LVU708
 2212 0156 8242     		cmp	r2, r0
 2213 0158 C0F02081 		bcc	.L222
ARM GAS  /tmp/cciFFPmJ.s 			page 89


2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
 2214              		.loc 1 2377 2 is_stmt 1 view .LVU709
 2215              	.LVL220:
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2216              		.loc 1 2378 2 view .LVU710
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2217              		.loc 1 2378 5 is_stmt 0 view .LVU711
 2218 015c 40F6F572 		movw	r2, #4085
 2219 0160 9645     		cmp	lr, r2
 2220 0162 7AD8     		bhi	.L223
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
 2221              		.loc 1 2377 6 view .LVU712
 2222 0164 4FF00108 		mov	r8, #1
 2223              	.L199:
 2224              	.LVL221:
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2225              		.loc 1 2379 2 is_stmt 1 view .LVU713
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2226              		.loc 1 2379 5 is_stmt 0 view .LVU714
 2227 0168 4FF6F572 		movw	r2, #65525
 2228 016c 9645     		cmp	lr, r2
 2229 016e 01D9     		bls	.L200
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2230              		.loc 1 2379 30 view .LVU715
 2231 0170 4FF00308 		mov	r8, #3
 2232              	.LVL222:
 2233              	.L200:
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2234              		.loc 1 2382 2 is_stmt 1 view .LVU716
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2235              		.loc 1 2382 23 is_stmt 0 view .LVU717
 2236 0174 0EF1020E 		add	lr, lr, #2
 2237              	.LVL223:
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2238              		.loc 1 2382 15 view .LVU718
 2239 0178 C4F814E2 		str	lr, [r4, #532]
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 2240              		.loc 1 2383 2 is_stmt 1 view .LVU719
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 2241              		.loc 1 2383 14 is_stmt 0 view .LVU720
 2242 017c C4F81C72 		str	r7, [r4, #540]
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2243              		.loc 1 2384 2 is_stmt 1 view .LVU721
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2244              		.loc 1 2384 22 is_stmt 0 view .LVU722
 2245 0180 0CEB0702 		add	r2, ip, r7
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2246              		.loc 1 2384 14 view .LVU723
 2247 0184 C4F82022 		str	r2, [r4, #544]
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2248              		.loc 1 2385 2 is_stmt 1 view .LVU724
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2249              		.loc 1 2385 23 is_stmt 0 view .LVU725
 2250 0188 07EB0900 		add	r0, r7, r9
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2251              		.loc 1 2385 15 view .LVU726
 2252 018c C4F82802 		str	r0, [r4, #552]
ARM GAS  /tmp/cciFFPmJ.s 			page 90


2386:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
 2253              		.loc 1 2386 2 is_stmt 1 view .LVU727
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
 2254              		.loc 1 2386 5 is_stmt 0 view .LVU728
 2255 0190 B8F1030F 		cmp	r8, #3
 2256 0194 64D0     		beq	.L229
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2257              		.loc 1 2391 3 is_stmt 1 view .LVU729
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2258              		.loc 1 2391 6 is_stmt 0 view .LVU730
 2259 0196 002E     		cmp	r6, #0
 2260 0198 00F00481 		beq	.L226
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2261              		.loc 1 2392 3 is_stmt 1 view .LVU731
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2262              		.loc 1 2392 29 is_stmt 0 view .LVU732
 2263 019c 1144     		add	r1, r1, r2
 2264              	.LVL224:
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2265              		.loc 1 2392 15 view .LVU733
 2266 019e C4F82412 		str	r1, [r4, #548]
2393:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 2267              		.loc 1 2393 3 is_stmt 1 view .LVU734
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2268              		.loc 1 2394 21 is_stmt 0 view .LVU735
 2269 01a2 B8F1020F 		cmp	r8, #2
 2270 01a6 71D0     		beq	.L230
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2271              		.loc 1 2394 36 discriminator 2 view .LVU736
 2272 01a8 0EEB4E01 		add	r1, lr, lr, lsl #1
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2273              		.loc 1 2394 60 discriminator 2 view .LVU737
 2274 01ac 0EF00102 		and	r2, lr, #1
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2275              		.loc 1 2394 21 discriminator 2 view .LVU738
 2276 01b0 02EB5102 		add	r2, r2, r1, lsr #1
 2277              	.L202:
 2278              	.LVL225:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2279              		.loc 1 2396 2 is_stmt 1 view .LVU739
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2280              		.loc 1 2396 26 is_stmt 0 view .LVU740
 2281 01b4 02F2FF12 		addw	r2, r2, #511
 2282              	.LVL226:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2283              		.loc 1 2396 5 view .LVU741
 2284 01b8 B3EB522F 		cmp	r3, r2, lsr #9
 2285 01bc C0F0F480 		bcc	.L227
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2286              		.loc 1 2401 2 is_stmt 1 view .LVU742
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2287              		.loc 1 2401 34 is_stmt 0 view .LVU743
 2288 01c0 4FF0FF33 		mov	r3, #-1
 2289              	.LVL227:
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2290              		.loc 1 2401 34 view .LVU744
 2291 01c4 C4F81032 		str	r3, [r4, #528]
ARM GAS  /tmp/cciFFPmJ.s 			page 91


2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2292              		.loc 1 2401 17 view .LVU745
 2293 01c8 C4F80C32 		str	r3, [r4, #524]
2404:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2294              		.loc 1 2404 2 is_stmt 1 view .LVU746
2404:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2295              		.loc 1 2404 15 is_stmt 0 view .LVU747
 2296 01cc 8023     		movs	r3, #128
 2297 01ce 84F80532 		strb	r3, [r4, #517]
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
 2298              		.loc 1 2406 2 is_stmt 1 view .LVU748
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
 2299              		.loc 1 2406 5 is_stmt 0 view .LVU749
 2300 01d2 B8F1030F 		cmp	r8, #3
 2301 01d6 5CD0     		beq	.L231
 2302              	.LVL228:
 2303              	.L204:
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 2304              		.loc 1 2425 2 is_stmt 1 view .LVU750
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 2305              		.loc 1 2425 14 is_stmt 0 view .LVU751
 2306 01d8 84F80082 		strb	r8, [r4, #512]
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2307              		.loc 1 2426 2 is_stmt 1 view .LVU752
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2308              		.loc 1 2426 11 is_stmt 0 view .LVU753
 2309 01dc 654A     		ldr	r2, .L234+4
 2310 01de 1388     		ldrh	r3, [r2]
 2311 01e0 0133     		adds	r3, r3, #1
 2312 01e2 9BB2     		uxth	r3, r3
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2313              		.loc 1 2426 9 view .LVU754
 2314 01e4 1380     		strh	r3, [r2]	@ movhi
 2315 01e6 A4F80632 		strh	r3, [r4, #518]	@ movhi
2431:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2316              		.loc 1 2431 2 is_stmt 1 view .LVU755
 2317 01ea 2046     		mov	r0, r4
 2318 01ec FFF7FEFF 		bl	clear_lock
 2319              	.LVL229:
2434:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2320              		.loc 1 2434 2 view .LVU756
2434:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2321              		.loc 1 2434 9 is_stmt 0 view .LVU757
 2322 01f0 ADE0     		b	.L188
 2323              	.LVL230:
 2324              	.L211:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2325              		.loc 1 2332 37 view .LVU758
 2326 01f2 0023     		movs	r3, #0
 2327              	.LVL231:
 2328              	.L193:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2329              		.loc 1 2332 10 discriminator 4 view .LVU759
 2330 01f4 04AA     		add	r2, sp, #16
 2331 01f6 02EB8102 		add	r2, r2, r1, lsl #2
 2332 01fa 42F8103C 		str	r3, [r2, #-16]
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
ARM GAS  /tmp/cciFFPmJ.s 			page 92


 2333              		.loc 1 2330 22 is_stmt 1 discriminator 4 view .LVU760
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2334              		.loc 1 2330 23 is_stmt 0 discriminator 4 view .LVU761
 2335 01fe 0131     		adds	r1, r1, #1
 2336              	.LVL232:
 2337              	.L191:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2338              		.loc 1 2330 15 is_stmt 1 discriminator 2 view .LVU762
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2339              		.loc 1 2330 3 is_stmt 0 discriminator 2 view .LVU763
 2340 0200 0329     		cmp	r1, #3
 2341 0202 13D8     		bhi	.L232
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2342              		.loc 1 2331 4 is_stmt 1 view .LVU764
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2343              		.loc 1 2331 36 is_stmt 0 view .LVU765
 2344 0204 0B01     		lsls	r3, r1, #4
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2345              		.loc 1 2331 32 view .LVU766
 2346 0206 03F5DF73 		add	r3, r3, #446
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2347              		.loc 1 2331 7 view .LVU767
 2348 020a 2344     		add	r3, r3, r4
 2349              	.LVL233:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2350              		.loc 1 2332 4 is_stmt 1 view .LVU768
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2351              		.loc 1 2332 14 is_stmt 0 view .LVU769
 2352 020c 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2353              		.loc 1 2332 37 view .LVU770
 2354 020e 002A     		cmp	r2, #0
 2355 0210 EFD0     		beq	.L211
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2356              		.loc 1 2332 20 discriminator 1 view .LVU771
 2357 0212 D87A     		ldrb	r0, [r3, #11]	@ zero_extendqisi2
 2358 0214 9A7A     		ldrb	r2, [r3, #10]	@ zero_extendqisi2
 2359 0216 1204     		lsls	r2, r2, #16
 2360 0218 42EA0062 		orr	r2, r2, r0, lsl #24
 2361 021c 587A     		ldrb	r0, [r3, #9]	@ zero_extendqisi2
 2362 021e 42EA0022 		orr	r2, r2, r0, lsl #8
 2363 0222 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2364              	.LVL234:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2365              		.loc 1 2332 37 discriminator 1 view .LVU772
 2366 0224 1343     		orrs	r3, r3, r2
 2367 0226 E5E7     		b	.L193
 2368              	.LVL235:
 2369              	.L210:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2370              		.loc 1 2330 10 view .LVU773
 2371 0228 0021     		movs	r1, #0
 2372 022a E9E7     		b	.L191
 2373              	.LVL236:
 2374              	.L232:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2375              		.loc 1 2330 10 view .LVU774
ARM GAS  /tmp/cciFFPmJ.s 			page 93


 2376 022c 0026     		movs	r6, #0
 2377              	.LVL237:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2378              		.loc 1 2330 10 view .LVU775
 2379 022e 0BE0     		b	.L196
 2380              	.LVL238:
 2381              	.L233:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2382              		.loc 1 2338 18 discriminator 1 view .LVU776
 2383 0230 3946     		mov	r1, r7
 2384 0232 2046     		mov	r0, r4
 2385 0234 FFF7FEFF 		bl	check_fs
 2386              	.LVL239:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2387              		.loc 1 2339 11 is_stmt 1 discriminator 1 view .LVU777
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2388              		.loc 1 2339 3 is_stmt 0 discriminator 1 view .LVU778
 2389 0238 0546     		mov	r5, r0
 2390 023a 0028     		cmp	r0, #0
 2391 023c 3FF421AF 		beq	.L192
 2392              	.LVL240:
 2393              	.L195:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2394              		.loc 1 2339 31 discriminator 1 view .LVU779
 2395 0240 0136     		adds	r6, r6, #1
 2396              	.LVL241:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2397              		.loc 1 2339 31 discriminator 1 view .LVU780
 2398 0242 032E     		cmp	r6, #3
 2399 0244 3FF61DAF 		bhi	.L192
 2400              	.LVL242:
 2401              	.L196:
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 2402              		.loc 1 2336 3 is_stmt 1 view .LVU781
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 2403              		.loc 1 2337 4 view .LVU782
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 2404              		.loc 1 2337 10 is_stmt 0 view .LVU783
 2405 0248 04AB     		add	r3, sp, #16
 2406 024a 03EB8603 		add	r3, r3, r6, lsl #2
 2407 024e 53F8107C 		ldr	r7, [r3, #-16]
 2408              	.LVL243:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2409              		.loc 1 2338 4 is_stmt 1 view .LVU784
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2410              		.loc 1 2338 8 is_stmt 0 view .LVU785
 2411 0252 002F     		cmp	r7, #0
 2412 0254 ECD1     		bne	.L233
 2413 0256 0225     		movs	r5, #2
 2414 0258 F2E7     		b	.L195
 2415              	.LVL244:
 2416              	.L223:
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2417              		.loc 1 2378 30 view .LVU786
 2418 025a 4FF00208 		mov	r8, #2
 2419 025e 83E7     		b	.L199
 2420              	.LVL245:
ARM GAS  /tmp/cciFFPmJ.s 			page 94


 2421              	.L229:
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2422              		.loc 1 2387 3 is_stmt 1 view .LVU787
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2423              		.loc 1 2387 6 is_stmt 0 view .LVU788
 2424 0260 002E     		cmp	r6, #0
 2425 0262 40F09D80 		bne	.L225
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2426              		.loc 1 2388 3 is_stmt 1 view .LVU789
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2427              		.loc 1 2388 17 is_stmt 0 view .LVU790
 2428 0266 94F82F10 		ldrb	r1, [r4, #47]	@ zero_extendqisi2
 2429              	.LVL246:
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2430              		.loc 1 2388 17 view .LVU791
 2431 026a 94F82E20 		ldrb	r2, [r4, #46]	@ zero_extendqisi2
 2432 026e 1204     		lsls	r2, r2, #16
 2433 0270 42EA0162 		orr	r2, r2, r1, lsl #24
 2434 0274 94F82D10 		ldrb	r1, [r4, #45]	@ zero_extendqisi2
 2435 0278 42EA0122 		orr	r2, r2, r1, lsl #8
 2436 027c 94F82C10 		ldrb	r1, [r4, #44]	@ zero_extendqisi2
 2437 0280 0A43     		orrs	r2, r2, r1
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2438              		.loc 1 2388 15 view .LVU792
 2439 0282 C4F82422 		str	r2, [r4, #548]
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2440              		.loc 1 2389 3 is_stmt 1 view .LVU793
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2441              		.loc 1 2389 10 is_stmt 0 view .LVU794
 2442 0286 4FEA8E02 		lsl	r2, lr, #2
 2443              	.LVL247:
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2444              		.loc 1 2389 10 view .LVU795
 2445 028a 93E7     		b	.L202
 2446              	.LVL248:
 2447              	.L230:
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2448              		.loc 1 2394 21 discriminator 1 view .LVU796
 2449 028c 4FEA4E02 		lsl	r2, lr, #1
 2450 0290 90E7     		b	.L202
 2451              	.LVL249:
 2452              	.L231:
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 2453              		.loc 1 2407 6 view .LVU797
 2454 0292 94F83120 		ldrb	r2, [r4, #49]	@ zero_extendqisi2
 2455              	.LVL250:
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 2456              		.loc 1 2407 6 view .LVU798
 2457 0296 94F83030 		ldrb	r3, [r4, #48]	@ zero_extendqisi2
 2458 029a 43EA0223 		orr	r3, r3, r2, lsl #8
 2459 029e 1BB2     		sxth	r3, r3
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 2460              		.loc 1 2407 3 view .LVU799
 2461 02a0 012B     		cmp	r3, #1
 2462 02a2 99D1     		bne	.L204
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
 2463              		.loc 1 2408 6 view .LVU800
ARM GAS  /tmp/cciFFPmJ.s 			page 95


 2464 02a4 791C     		adds	r1, r7, #1
 2465 02a6 2046     		mov	r0, r4
 2466 02a8 FFF7FEFF 		bl	move_window
 2467              	.LVL251:
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
 2468              		.loc 1 2408 3 view .LVU801
 2469 02ac 0028     		cmp	r0, #0
 2470 02ae 93D1     		bne	.L204
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2471              		.loc 1 2410 3 is_stmt 1 view .LVU802
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2472              		.loc 1 2410 16 is_stmt 0 view .LVU803
 2473 02b0 0023     		movs	r3, #0
 2474 02b2 84F80532 		strb	r3, [r4, #517]
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2475              		.loc 1 2411 3 is_stmt 1 view .LVU804
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2476              		.loc 1 2411 7 is_stmt 0 view .LVU805
 2477 02b6 94F8FF21 		ldrb	r2, [r4, #511]	@ zero_extendqisi2
 2478 02ba 94F8FE31 		ldrb	r3, [r4, #510]	@ zero_extendqisi2
 2479 02be 43EA0223 		orr	r3, r3, r2, lsl #8
 2480 02c2 1BB2     		sxth	r3, r3
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2481              		.loc 1 2411 6 view .LVU806
 2482 02c4 2C4A     		ldr	r2, .L234+8
 2483 02c6 9342     		cmp	r3, r2
 2484 02c8 86D1     		bne	.L204
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
 2485              		.loc 1 2412 7 view .LVU807
 2486 02ca E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 2487 02cc A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 2488 02ce 1B04     		lsls	r3, r3, #16
 2489 02d0 43EA0263 		orr	r3, r3, r2, lsl #24
 2490 02d4 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 2491 02d6 43EA0223 		orr	r3, r3, r2, lsl #8
 2492 02da 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 2493 02dc 1343     		orrs	r3, r3, r2
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
 2494              		.loc 1 2412 4 view .LVU808
 2495 02de 274A     		ldr	r2, .L234+12
 2496 02e0 9342     		cmp	r3, r2
 2497 02e2 7FF479AF 		bne	.L204
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2498              		.loc 1 2413 7 view .LVU809
 2499 02e6 94F8E721 		ldrb	r2, [r4, #487]	@ zero_extendqisi2
 2500 02ea 94F8E631 		ldrb	r3, [r4, #486]	@ zero_extendqisi2
 2501 02ee 1B04     		lsls	r3, r3, #16
 2502 02f0 43EA0263 		orr	r3, r3, r2, lsl #24
 2503 02f4 94F8E521 		ldrb	r2, [r4, #485]	@ zero_extendqisi2
 2504 02f8 43EA0223 		orr	r3, r3, r2, lsl #8
 2505 02fc 94F8E421 		ldrb	r2, [r4, #484]	@ zero_extendqisi2
 2506 0300 1343     		orrs	r3, r3, r2
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2507              		.loc 1 2413 4 view .LVU810
 2508 0302 1F4A     		ldr	r2, .L234+16
 2509 0304 9342     		cmp	r3, r2
 2510 0306 7FF467AF 		bne	.L204
ARM GAS  /tmp/cciFFPmJ.s 			page 96


2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2511              		.loc 1 2416 4 is_stmt 1 view .LVU811
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2512              		.loc 1 2416 21 is_stmt 0 view .LVU812
 2513 030a 94F8EB21 		ldrb	r2, [r4, #491]	@ zero_extendqisi2
 2514 030e 94F8EA31 		ldrb	r3, [r4, #490]	@ zero_extendqisi2
 2515 0312 1B04     		lsls	r3, r3, #16
 2516 0314 43EA0263 		orr	r3, r3, r2, lsl #24
 2517 0318 94F8E921 		ldrb	r2, [r4, #489]	@ zero_extendqisi2
 2518 031c 43EA0223 		orr	r3, r3, r2, lsl #8
 2519 0320 94F8E821 		ldrb	r2, [r4, #488]	@ zero_extendqisi2
 2520 0324 1343     		orrs	r3, r3, r2
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2521              		.loc 1 2416 19 view .LVU813
 2522 0326 C4F81032 		str	r3, [r4, #528]
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2523              		.loc 1 2419 4 is_stmt 1 view .LVU814
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2524              		.loc 1 2419 21 is_stmt 0 view .LVU815
 2525 032a 94F8EF21 		ldrb	r2, [r4, #495]	@ zero_extendqisi2
 2526 032e 94F8EE31 		ldrb	r3, [r4, #494]	@ zero_extendqisi2
 2527 0332 1B04     		lsls	r3, r3, #16
 2528 0334 43EA0263 		orr	r3, r3, r2, lsl #24
 2529 0338 94F8ED21 		ldrb	r2, [r4, #493]	@ zero_extendqisi2
 2530 033c 43EA0223 		orr	r3, r3, r2, lsl #8
 2531 0340 94F8EC21 		ldrb	r2, [r4, #492]	@ zero_extendqisi2
 2532 0344 1343     		orrs	r3, r3, r2
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2533              		.loc 1 2419 19 view .LVU816
 2534 0346 C4F80C32 		str	r3, [r4, #524]
 2535 034a 45E7     		b	.L204
 2536              	.LVL252:
 2537              	.L205:
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2538              		.loc 1 2294 22 view .LVU817
 2539 034c 0B25     		movs	r5, #11
 2540              	.LVL253:
 2541              	.L188:
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2542              		.loc 1 2435 1 view .LVU818
 2543 034e 2846     		mov	r0, r5
 2544 0350 05B0     		add	sp, sp, #20
 2545              	.LCFI25:
 2546              		.cfi_remember_state
 2547              		.cfi_def_cfa_offset 28
 2548              		@ sp needed
 2549 0352 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2550              	.LVL254:
 2551              	.L206:
 2552              	.LCFI26:
 2553              		.cfi_restore_state
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2554              		.loc 1 2298 18 view .LVU819
 2555 0356 0C25     		movs	r5, #12
 2556              	.LVL255:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2557              		.loc 1 2298 18 view .LVU820
ARM GAS  /tmp/cciFFPmJ.s 			page 97


 2558 0358 F9E7     		b	.L188
 2559              	.LVL256:
 2560              	.L208:
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
 2561              		.loc 1 2319 10 view .LVU821
 2562 035a 0325     		movs	r5, #3
 2563 035c F7E7     		b	.L188
 2564              	.L209:
2321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS						/* Get sector size (multiple sector size cfg only) */
 2565              		.loc 1 2321 10 view .LVU822
 2566 035e 0A25     		movs	r5, #10
 2567 0360 F5E7     		b	.L188
 2568              	.LVL257:
 2569              	.L213:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2570              		.loc 1 2341 23 view .LVU823
 2571 0362 0125     		movs	r5, #1
 2572              	.LVL258:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2573              		.loc 1 2341 23 view .LVU824
 2574 0364 F3E7     		b	.L188
 2575              	.LVL259:
 2576              	.L214:
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2577              		.loc 1 2342 18 view .LVU825
 2578 0366 0D25     		movs	r5, #13
 2579              	.LVL260:
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2580              		.loc 1 2342 18 view .LVU826
 2581 0368 F1E7     		b	.L188
 2582              	.LVL261:
 2583              	.L215:
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2584              		.loc 1 2347 10 view .LVU827
 2585 036a 0D25     		movs	r5, #13
 2586              	.LVL262:
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2587              		.loc 1 2347 10 view .LVU828
 2588 036c EFE7     		b	.L188
 2589              	.L235:
 2590 036e 00BF     		.align	2
 2591              	.L234:
 2592 0370 00000000 		.word	.LANCHOR2
 2593 0374 00000000 		.word	.LANCHOR3
 2594 0378 55AAFFFF 		.word	-21931
 2595 037c 52526141 		.word	1096897106
 2596 0380 72724161 		.word	1631679090
 2597              	.LVL263:
 2598              	.L216:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
 2599              		.loc 1 2355 10 view .LVU829
 2600 0384 0D25     		movs	r5, #13
 2601              	.LVL264:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
 2602              		.loc 1 2355 10 view .LVU830
 2603 0386 E2E7     		b	.L188
 2604              	.LVL265:
ARM GAS  /tmp/cciFFPmJ.s 			page 98


 2605              	.L217:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2606              		.loc 1 2360 10 view .LVU831
 2607 0388 0D25     		movs	r5, #13
 2608              	.LVL266:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2609              		.loc 1 2360 10 view .LVU832
 2610 038a E0E7     		b	.L188
 2611              	.LVL267:
 2612              	.L218:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2613              		.loc 1 2360 10 view .LVU833
 2614 038c 0D25     		movs	r5, #13
 2615              	.LVL268:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2616              		.loc 1 2360 10 view .LVU834
 2617 038e DEE7     		b	.L188
 2618              	.LVL269:
 2619              	.L219:
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2620              		.loc 1 2364 10 view .LVU835
 2621 0390 0D25     		movs	r5, #13
 2622              	.LVL270:
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2623              		.loc 1 2364 10 view .LVU836
 2624 0392 DCE7     		b	.L188
 2625              	.LVL271:
 2626              	.L220:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2627              		.loc 1 2370 20 view .LVU837
 2628 0394 0D25     		movs	r5, #13
 2629              	.LVL272:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2630              		.loc 1 2370 20 view .LVU838
 2631 0396 DAE7     		b	.L188
 2632              	.LVL273:
 2633              	.L221:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2634              		.loc 1 2374 29 view .LVU839
 2635 0398 0D25     		movs	r5, #13
 2636              	.LVL274:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2637              		.loc 1 2374 29 view .LVU840
 2638 039a D8E7     		b	.L188
 2639              	.LVL275:
 2640              	.L222:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2641              		.loc 1 2376 21 view .LVU841
 2642 039c 0D25     		movs	r5, #13
 2643              	.LVL276:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2644              		.loc 1 2376 21 view .LVU842
 2645 039e D6E7     		b	.L188
 2646              	.LVL277:
 2647              	.L225:
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2648              		.loc 1 2387 29 view .LVU843
ARM GAS  /tmp/cciFFPmJ.s 			page 99


 2649 03a0 0D25     		movs	r5, #13
 2650 03a2 D4E7     		b	.L188
 2651              	.L226:
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2652              		.loc 1 2391 30 view .LVU844
 2653 03a4 0D25     		movs	r5, #13
 2654 03a6 D2E7     		b	.L188
 2655              	.LVL278:
 2656              	.L227:
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2657              		.loc 1 2397 10 view .LVU845
 2658 03a8 0D25     		movs	r5, #13
 2659 03aa D0E7     		b	.L188
 2660              		.cfi_endproc
 2661              	.LFE97:
 2663              		.section	.text.sync_fs,"ax",%progbits
 2664              		.align	1
 2665              		.syntax unified
 2666              		.thumb
 2667              		.thumb_func
 2668              		.fpu softvfp
 2670              	sync_fs:
 2671              	.LVL279:
 2672              	.LFB76:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 2673              		.loc 1 836 1 is_stmt 1 view -0
 2674              		.cfi_startproc
 2675              		@ args = 0, pretend = 0, frame = 0
 2676              		@ frame_needed = 0, uses_anonymous_args = 0
 836:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 2677              		.loc 1 836 1 is_stmt 0 view .LVU847
 2678 0000 38B5     		push	{r3, r4, r5, lr}
 2679              	.LCFI27:
 2680              		.cfi_def_cfa_offset 16
 2681              		.cfi_offset 3, -16
 2682              		.cfi_offset 4, -12
 2683              		.cfi_offset 5, -8
 2684              		.cfi_offset 14, -4
 2685 0002 0446     		mov	r4, r0
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2686              		.loc 1 837 2 is_stmt 1 view .LVU848
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2687              		.loc 1 840 2 view .LVU849
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2688              		.loc 1 840 8 is_stmt 0 view .LVU850
 2689 0004 FFF7FEFF 		bl	sync_window
 2690              	.LVL280:
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 2691              		.loc 1 841 2 is_stmt 1 view .LVU851
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 2692              		.loc 1 841 5 is_stmt 0 view .LVU852
 2693 0008 0546     		mov	r5, r0
 2694 000a 58B9     		cbnz	r0, .L237
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2695              		.loc 1 843 3 is_stmt 1 view .LVU853
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2696              		.loc 1 843 9 is_stmt 0 view .LVU854
ARM GAS  /tmp/cciFFPmJ.s 			page 100


 2697 000c 94F80032 		ldrb	r3, [r4, #512]	@ zero_extendqisi2
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2698              		.loc 1 843 6 view .LVU855
 2699 0010 032B     		cmp	r3, #3
 2700 0012 09D0     		beq	.L241
 2701              	.LVL281:
 2702              	.L238:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2703              		.loc 1 857 3 is_stmt 1 view .LVU856
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2704              		.loc 1 857 7 is_stmt 0 view .LVU857
 2705 0014 0022     		movs	r2, #0
 2706 0016 1146     		mov	r1, r2
 2707 0018 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 2708 001c FFF7FEFF 		bl	disk_ioctl
 2709              	.LVL282:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2710              		.loc 1 857 6 view .LVU858
 2711 0020 00B1     		cbz	r0, .L237
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2712              		.loc 1 858 8 view .LVU859
 2713 0022 0125     		movs	r5, #1
 2714              	.L237:
 2715              	.LVL283:
 861:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2716              		.loc 1 861 2 is_stmt 1 view .LVU860
 862:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2717              		.loc 1 862 1 is_stmt 0 view .LVU861
 2718 0024 2846     		mov	r0, r5
 2719 0026 38BD     		pop	{r3, r4, r5, pc}
 2720              	.LVL284:
 2721              	.L241:
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2722              		.loc 1 843 36 discriminator 1 view .LVU862
 2723 0028 94F80532 		ldrb	r3, [r4, #517]	@ zero_extendqisi2
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2724              		.loc 1 843 31 discriminator 1 view .LVU863
 2725 002c 012B     		cmp	r3, #1
 2726 002e F1D1     		bne	.L238
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 2727              		.loc 1 845 4 is_stmt 1 view .LVU864
 2728 0030 4FF40072 		mov	r2, #512
 2729 0034 0021     		movs	r1, #0
 2730 0036 2046     		mov	r0, r4
 2731              	.LVL285:
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 2732              		.loc 1 845 4 is_stmt 0 view .LVU865
 2733 0038 FFF7FEFF 		bl	mem_set
 2734              	.LVL286:
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 2735              		.loc 1 846 4 is_stmt 1 view .LVU866
 2736 003c 5523     		movs	r3, #85
 2737 003e 84F8FE31 		strb	r3, [r4, #510]
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 2738              		.loc 1 846 4 view .LVU867
 2739 0042 AA23     		movs	r3, #170
 2740 0044 84F8FF31 		strb	r3, [r4, #511]
ARM GAS  /tmp/cciFFPmJ.s 			page 101


 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2741              		.loc 1 847 4 view .LVU868
 2742 0048 5223     		movs	r3, #82
 2743 004a 2370     		strb	r3, [r4]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2744              		.loc 1 847 4 view .LVU869
 2745 004c 6370     		strb	r3, [r4, #1]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2746              		.loc 1 847 4 view .LVU870
 2747 004e 6123     		movs	r3, #97
 2748 0050 A370     		strb	r3, [r4, #2]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2749              		.loc 1 847 4 view .LVU871
 2750 0052 4122     		movs	r2, #65
 2751 0054 E270     		strb	r2, [r4, #3]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2752              		.loc 1 848 4 view .LVU872
 2753 0056 7221     		movs	r1, #114
 2754 0058 84F8E411 		strb	r1, [r4, #484]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2755              		.loc 1 848 4 view .LVU873
 2756 005c 84F8E511 		strb	r1, [r4, #485]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2757              		.loc 1 848 4 view .LVU874
 2758 0060 84F8E621 		strb	r2, [r4, #486]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2759              		.loc 1 848 4 view .LVU875
 2760 0064 84F8E731 		strb	r3, [r4, #487]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2761              		.loc 1 849 4 view .LVU876
 2762 0068 D4F81032 		ldr	r3, [r4, #528]
 2763 006c 84F8E831 		strb	r3, [r4, #488]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2764              		.loc 1 849 4 view .LVU877
 2765 0070 C3F30722 		ubfx	r2, r3, #8, #8
 2766 0074 84F8E921 		strb	r2, [r4, #489]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2767              		.loc 1 849 4 view .LVU878
 2768 0078 C3F30742 		ubfx	r2, r3, #16, #8
 2769 007c 84F8EA21 		strb	r2, [r4, #490]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2770              		.loc 1 849 4 view .LVU879
 2771 0080 1B0E     		lsrs	r3, r3, #24
 2772 0082 84F8EB31 		strb	r3, [r4, #491]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2773              		.loc 1 850 4 view .LVU880
 2774 0086 D4F80C32 		ldr	r3, [r4, #524]
 2775 008a 84F8EC31 		strb	r3, [r4, #492]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2776              		.loc 1 850 4 view .LVU881
 2777 008e C3F30722 		ubfx	r2, r3, #8, #8
 2778 0092 84F8ED21 		strb	r2, [r4, #493]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2779              		.loc 1 850 4 view .LVU882
 2780 0096 C3F30742 		ubfx	r2, r3, #16, #8
 2781 009a 84F8EE21 		strb	r2, [r4, #494]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
ARM GAS  /tmp/cciFFPmJ.s 			page 102


 2782              		.loc 1 850 4 view .LVU883
 2783 009e 1B0E     		lsrs	r3, r3, #24
 2784 00a0 84F8EF31 		strb	r3, [r4, #495]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2785              		.loc 1 852 4 view .LVU884
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2786              		.loc 1 852 20 is_stmt 0 view .LVU885
 2787 00a4 D4F81C22 		ldr	r2, [r4, #540]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2788              		.loc 1 852 30 view .LVU886
 2789 00a8 0132     		adds	r2, r2, #1
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2790              		.loc 1 852 16 view .LVU887
 2791 00aa C4F82C22 		str	r2, [r4, #556]
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 2792              		.loc 1 853 4 is_stmt 1 view .LVU888
 2793 00ae 0123     		movs	r3, #1
 2794 00b0 2146     		mov	r1, r4
 2795 00b2 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 2796 00b6 FFF7FEFF 		bl	disk_write
 2797              	.LVL287:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2798              		.loc 1 854 4 view .LVU889
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2799              		.loc 1 854 17 is_stmt 0 view .LVU890
 2800 00ba 0023     		movs	r3, #0
 2801 00bc 84F80532 		strb	r3, [r4, #517]
 2802 00c0 A8E7     		b	.L238
 2803              		.cfi_endproc
 2804              	.LFE76:
 2806              		.section	.text.clust2sect,"ax",%progbits
 2807              		.align	1
 2808              		.global	clust2sect
 2809              		.syntax unified
 2810              		.thumb
 2811              		.thumb_func
 2812              		.fpu softvfp
 2814              	clust2sect:
 2815              	.LVL288:
 2816              	.LFB77:
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 2817              		.loc 1 877 1 is_stmt 1 view -0
 2818              		.cfi_startproc
 2819              		@ args = 0, pretend = 0, frame = 0
 2820              		@ frame_needed = 0, uses_anonymous_args = 0
 2821              		@ link register save eliminated.
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 2822              		.loc 1 878 2 view .LVU892
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 2823              		.loc 1 878 7 is_stmt 0 view .LVU893
 2824 0000 0239     		subs	r1, r1, #2
 2825              	.LVL289:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2826              		.loc 1 879 2 is_stmt 1 view .LVU894
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2827              		.loc 1 879 16 is_stmt 0 view .LVU895
 2828 0002 D0F81432 		ldr	r3, [r0, #532]
ARM GAS  /tmp/cciFFPmJ.s 			page 103


 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2829              		.loc 1 879 27 view .LVU896
 2830 0006 023B     		subs	r3, r3, #2
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2831              		.loc 1 879 5 view .LVU897
 2832 0008 8B42     		cmp	r3, r1
 2833 000a 06D9     		bls	.L244
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2834              		.loc 1 880 2 is_stmt 1 view .LVU898
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2835              		.loc 1 880 18 is_stmt 0 view .LVU899
 2836 000c 90F80232 		ldrb	r3, [r0, #514]	@ zero_extendqisi2
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2837              		.loc 1 880 30 view .LVU900
 2838 0010 D0F82802 		ldr	r0, [r0, #552]
 2839              	.LVL290:
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2840              		.loc 1 880 26 view .LVU901
 2841 0014 01FB0300 		mla	r0, r1, r3, r0
 2842 0018 7047     		bx	lr
 2843              	.LVL291:
 2844              	.L244:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2845              		.loc 1 879 39 view .LVU902
 2846 001a 0020     		movs	r0, #0
 2847              	.LVL292:
 881:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2848              		.loc 1 881 1 view .LVU903
 2849 001c 7047     		bx	lr
 2850              		.cfi_endproc
 2851              	.LFE77:
 2853              		.section	.text.get_fat,"ax",%progbits
 2854              		.align	1
 2855              		.global	get_fat
 2856              		.syntax unified
 2857              		.thumb
 2858              		.thumb_func
 2859              		.fpu softvfp
 2861              	get_fat:
 2862              	.LVL293:
 2863              	.LFB78:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 2864              		.loc 1 895 1 is_stmt 1 view -0
 2865              		.cfi_startproc
 2866              		@ args = 0, pretend = 0, frame = 0
 2867              		@ frame_needed = 0, uses_anonymous_args = 0
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 2868              		.loc 1 896 2 view .LVU905
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 2869              		.loc 1 897 2 view .LVU906
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2870              		.loc 1 898 2 view .LVU907
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2871              		.loc 1 901 2 view .LVU908
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2872              		.loc 1 901 5 is_stmt 0 view .LVU909
 2873 0000 0129     		cmp	r1, #1
ARM GAS  /tmp/cciFFPmJ.s 			page 104


 2874 0002 5ED9     		bls	.L250
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 2875              		.loc 1 895 1 discriminator 1 view .LVU910
 2876 0004 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2877              	.LCFI28:
 2878              		.cfi_def_cfa_offset 24
 2879              		.cfi_offset 3, -24
 2880              		.cfi_offset 4, -20
 2881              		.cfi_offset 5, -16
 2882              		.cfi_offset 6, -12
 2883              		.cfi_offset 7, -8
 2884              		.cfi_offset 14, -4
 2885 0006 0546     		mov	r5, r0
 2886 0008 0C46     		mov	r4, r1
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2887              		.loc 1 901 28 discriminator 1 view .LVU911
 2888 000a D0F81432 		ldr	r3, [r0, #532]
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2889              		.loc 1 901 15 discriminator 1 view .LVU912
 2890 000e 8B42     		cmp	r3, r1
 2891 0010 59D9     		bls	.L251
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2892              		.loc 1 905 3 is_stmt 1 view .LVU913
 2893              	.LVL294:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2894              		.loc 1 907 3 view .LVU914
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2895              		.loc 1 907 13 is_stmt 0 view .LVU915
 2896 0012 90F80032 		ldrb	r3, [r0, #512]	@ zero_extendqisi2
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2897              		.loc 1 907 3 view .LVU916
 2898 0016 022B     		cmp	r3, #2
 2899 0018 2BD0     		beq	.L247
 2900 001a 032B     		cmp	r3, #3
 2901 001c 39D0     		beq	.L248
 2902 001e 012B     		cmp	r3, #1
 2903 0020 01D0     		beq	.L261
 2904 0022 0120     		movs	r0, #1
 2905              	.LVL295:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2906              		.loc 1 907 3 view .LVU917
 2907 0024 50E0     		b	.L245
 2908              	.LVL296:
 2909              	.L261:
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2910              		.loc 1 909 4 is_stmt 1 view .LVU918
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2911              		.loc 1 909 21 view .LVU919
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2912              		.loc 1 909 24 is_stmt 0 view .LVU920
 2913 0026 01EB5106 		add	r6, r1, r1, lsr #1
 2914              	.LVL297:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2915              		.loc 1 910 4 is_stmt 1 view .LVU921
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2916              		.loc 1 910 26 is_stmt 0 view .LVU922
 2917 002a D0F82012 		ldr	r1, [r0, #544]
ARM GAS  /tmp/cciFFPmJ.s 			page 105


 2918              	.LVL298:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2919              		.loc 1 910 8 view .LVU923
 2920 002e 01EB5621 		add	r1, r1, r6, lsr #9
 2921 0032 FFF7FEFF 		bl	move_window
 2922              	.LVL299:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2923              		.loc 1 910 7 view .LVU924
 2924 0036 10B1     		cbz	r0, .L262
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2925              		.loc 1 905 7 view .LVU925
 2926 0038 4FF0FF30 		mov	r0, #-1
 2927 003c 44E0     		b	.L245
 2928              	.L262:
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2929              		.loc 1 911 4 is_stmt 1 view .LVU926
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2930              		.loc 1 911 22 is_stmt 0 view .LVU927
 2931 003e 771C     		adds	r7, r6, #1
 2932              	.LVL300:
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2933              		.loc 1 911 25 view .LVU928
 2934 0040 C6F30806 		ubfx	r6, r6, #0, #9
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2935              		.loc 1 911 19 view .LVU929
 2936 0044 AE5D     		ldrb	r6, [r5, r6]	@ zero_extendqisi2
 2937              	.LVL301:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2938              		.loc 1 912 4 is_stmt 1 view .LVU930
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2939              		.loc 1 912 26 is_stmt 0 view .LVU931
 2940 0046 D5F82012 		ldr	r1, [r5, #544]
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2941              		.loc 1 912 8 view .LVU932
 2942 004a 01EB5721 		add	r1, r1, r7, lsr #9
 2943 004e 2846     		mov	r0, r5
 2944 0050 FFF7FEFF 		bl	move_window
 2945              	.LVL302:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2946              		.loc 1 912 7 view .LVU933
 2947 0054 0028     		cmp	r0, #0
 2948 0056 38D1     		bne	.L254
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2949              		.loc 1 913 4 is_stmt 1 view .LVU934
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2950              		.loc 1 913 24 is_stmt 0 view .LVU935
 2951 0058 C7F30807 		ubfx	r7, r7, #0, #9
 2952              	.LVL303:
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2953              		.loc 1 913 20 view .LVU936
 2954 005c E85D     		ldrb	r0, [r5, r7]	@ zero_extendqisi2
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2955              		.loc 1 913 7 view .LVU937
 2956 005e 46EA0020 		orr	r0, r6, r0, lsl #8
 2957              	.LVL304:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2958              		.loc 1 914 4 is_stmt 1 view .LVU938
ARM GAS  /tmp/cciFFPmJ.s 			page 106


 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2959              		.loc 1 914 29 is_stmt 0 view .LVU939
 2960 0062 14F0010F 		tst	r4, #1
 2961 0066 01D0     		beq	.L249
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2962              		.loc 1 914 29 discriminator 1 view .LVU940
 2963 0068 0009     		lsrs	r0, r0, #4
 2964              	.LVL305:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2965              		.loc 1 914 29 discriminator 1 view .LVU941
 2966 006a 2DE0     		b	.L245
 2967              	.LVL306:
 2968              	.L249:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2969              		.loc 1 914 29 discriminator 2 view .LVU942
 2970 006c C0F30B00 		ubfx	r0, r0, #0, #12
 2971              	.LVL307:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2972              		.loc 1 914 29 discriminator 2 view .LVU943
 2973 0070 2AE0     		b	.L245
 2974              	.LVL308:
 2975              	.L247:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2976              		.loc 1 918 4 is_stmt 1 view .LVU944
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2977              		.loc 1 918 26 is_stmt 0 view .LVU945
 2978 0072 D0F82012 		ldr	r1, [r0, #544]
 2979              	.LVL309:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2980              		.loc 1 918 8 view .LVU946
 2981 0076 01EB1421 		add	r1, r1, r4, lsr #8
 2982 007a FFF7FEFF 		bl	move_window
 2983              	.LVL310:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2984              		.loc 1 918 7 view .LVU947
 2985 007e 38BB     		cbnz	r0, .L255
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2986              		.loc 1 919 4 is_stmt 1 view .LVU948
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2987              		.loc 1 919 25 is_stmt 0 view .LVU949
 2988 0080 6400     		lsls	r4, r4, #1
 2989              	.LVL311:
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2990              		.loc 1 919 29 view .LVU950
 2991 0082 04F4FF74 		and	r4, r4, #510
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2992              		.loc 1 919 6 view .LVU951
 2993 0086 2B19     		adds	r3, r5, r4
 2994              	.LVL312:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2995              		.loc 1 920 4 is_stmt 1 view .LVU952
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2996              		.loc 1 920 10 is_stmt 0 view .LVU953
 2997 0088 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2998              	.LVL313:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2999              		.loc 1 920 10 view .LVU954
ARM GAS  /tmp/cciFFPmJ.s 			page 107


 3000 008a 285D     		ldrb	r0, [r5, r4]	@ zero_extendqisi2
 3001 008c 40EA0320 		orr	r0, r0, r3, lsl #8
 3002              	.LVL314:
 921:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3003              		.loc 1 921 4 is_stmt 1 view .LVU955
 3004 0090 1AE0     		b	.L245
 3005              	.LVL315:
 3006              	.L248:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3007              		.loc 1 924 4 view .LVU956
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3008              		.loc 1 924 26 is_stmt 0 view .LVU957
 3009 0092 D0F82012 		ldr	r1, [r0, #544]
 3010              	.LVL316:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3011              		.loc 1 924 8 view .LVU958
 3012 0096 01EBD411 		add	r1, r1, r4, lsr #7
 3013 009a FFF7FEFF 		bl	move_window
 3014              	.LVL317:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3015              		.loc 1 924 7 view .LVU959
 3016 009e D0B9     		cbnz	r0, .L256
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3017              		.loc 1 925 4 is_stmt 1 view .LVU960
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3018              		.loc 1 925 25 is_stmt 0 view .LVU961
 3019 00a0 A400     		lsls	r4, r4, #2
 3020              	.LVL318:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3021              		.loc 1 925 29 view .LVU962
 3022 00a2 04F4FE74 		and	r4, r4, #508
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3023              		.loc 1 925 6 view .LVU963
 3024 00a6 2B19     		adds	r3, r5, r4
 3025              	.LVL319:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3026              		.loc 1 926 4 is_stmt 1 view .LVU964
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3027              		.loc 1 926 10 is_stmt 0 view .LVU965
 3028 00a8 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 3029 00aa 9878     		ldrb	r0, [r3, #2]	@ zero_extendqisi2
 3030 00ac 0004     		lsls	r0, r0, #16
 3031 00ae 40EA0260 		orr	r0, r0, r2, lsl #24
 3032 00b2 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3033              	.LVL320:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3034              		.loc 1 926 10 view .LVU966
 3035 00b4 40EA0320 		orr	r0, r0, r3, lsl #8
 3036 00b8 2B5D     		ldrb	r3, [r5, r4]	@ zero_extendqisi2
 3037 00ba 1843     		orrs	r0, r0, r3
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3038              		.loc 1 926 8 view .LVU967
 3039 00bc 20F07040 		bic	r0, r0, #-268435456
 3040              	.LVL321:
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3041              		.loc 1 927 4 is_stmt 1 view .LVU968
 3042 00c0 02E0     		b	.L245
ARM GAS  /tmp/cciFFPmJ.s 			page 108


 3043              	.LVL322:
 3044              	.L250:
 3045              	.LCFI29:
 3046              		.cfi_def_cfa_offset 0
 3047              		.cfi_restore 3
 3048              		.cfi_restore 4
 3049              		.cfi_restore 5
 3050              		.cfi_restore 6
 3051              		.cfi_restore 7
 3052              		.cfi_restore 14
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3053              		.loc 1 902 7 is_stmt 0 view .LVU969
 3054 00c2 0120     		movs	r0, #1
 3055              	.LVL323:
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3056              		.loc 1 935 1 view .LVU970
 3057 00c4 7047     		bx	lr
 3058              	.LVL324:
 3059              	.L251:
 3060              	.LCFI30:
 3061              		.cfi_def_cfa_offset 24
 3062              		.cfi_offset 3, -24
 3063              		.cfi_offset 4, -20
 3064              		.cfi_offset 5, -16
 3065              		.cfi_offset 6, -12
 3066              		.cfi_offset 7, -8
 3067              		.cfi_offset 14, -4
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3068              		.loc 1 902 7 view .LVU971
 3069 00c6 0120     		movs	r0, #1
 3070              	.LVL325:
 3071              	.L245:
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3072              		.loc 1 935 1 view .LVU972
 3073 00c8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3074              	.LVL326:
 3075              	.L254:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3076              		.loc 1 905 7 view .LVU973
 3077 00ca 4FF0FF30 		mov	r0, #-1
 3078 00ce FBE7     		b	.L245
 3079              	.LVL327:
 3080              	.L255:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3081              		.loc 1 905 7 view .LVU974
 3082 00d0 4FF0FF30 		mov	r0, #-1
 3083 00d4 F8E7     		b	.L245
 3084              	.L256:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3085              		.loc 1 905 7 view .LVU975
 3086 00d6 4FF0FF30 		mov	r0, #-1
 934:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3087              		.loc 1 934 2 is_stmt 1 view .LVU976
 934:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3088              		.loc 1 934 9 is_stmt 0 view .LVU977
 3089 00da F5E7     		b	.L245
 3090              		.cfi_endproc
ARM GAS  /tmp/cciFFPmJ.s 			page 109


 3091              	.LFE78:
 3093              		.section	.text.dir_sdi,"ax",%progbits
 3094              		.align	1
 3095              		.syntax unified
 3096              		.thumb
 3097              		.thumb_func
 3098              		.fpu softvfp
 3100              	dir_sdi:
 3101              	.LVL328:
 3102              	.LFB83:
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 3103              		.loc 1 1157 1 is_stmt 1 view -0
 3104              		.cfi_startproc
 3105              		@ args = 0, pretend = 0, frame = 0
 3106              		@ frame_needed = 0, uses_anonymous_args = 0
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 3107              		.loc 1 1157 1 is_stmt 0 view .LVU979
 3108 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3109              	.LCFI31:
 3110              		.cfi_def_cfa_offset 24
 3111              		.cfi_offset 3, -24
 3112              		.cfi_offset 4, -20
 3113              		.cfi_offset 5, -16
 3114              		.cfi_offset 6, -12
 3115              		.cfi_offset 7, -8
 3116              		.cfi_offset 14, -4
 3117 0002 0746     		mov	r7, r0
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ic;
 3118              		.loc 1 1158 2 is_stmt 1 view .LVU980
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3119              		.loc 1 1159 2 view .LVU981
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
 3120              		.loc 1 1162 2 view .LVU982
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
 3121              		.loc 1 1162 12 is_stmt 0 view .LVU983
 3122 0004 A0F80612 		strh	r1, [r0, #518]	@ movhi
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 3123              		.loc 1 1163 2 is_stmt 1 view .LVU984
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 3124              		.loc 1 1163 7 is_stmt 0 view .LVU985
 3125 0008 D0F80842 		ldr	r4, [r0, #520]
 3126              	.LVL329:
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3127              		.loc 1 1164 2 is_stmt 1 view .LVU986
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3128              		.loc 1 1164 5 is_stmt 0 view .LVU987
 3129 000c 012C     		cmp	r4, #1
 3130 000e 46D0     		beq	.L270
 3131 0010 0E46     		mov	r6, r1
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3132              		.loc 1 1164 29 discriminator 1 view .LVU988
 3133 0012 D0F80032 		ldr	r3, [r0, #512]
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3134              		.loc 1 1164 33 discriminator 1 view .LVU989
 3135 0016 D3F81422 		ldr	r2, [r3, #532]
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3136              		.loc 1 1164 16 discriminator 1 view .LVU990
ARM GAS  /tmp/cciFFPmJ.s 			page 110


 3137 001a A242     		cmp	r2, r4
 3138 001c 41D9     		bls	.L271
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3139              		.loc 1 1166 2 is_stmt 1 view .LVU991
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3140              		.loc 1 1166 5 is_stmt 0 view .LVU992
 3141 001e 1CB9     		cbnz	r4, .L265
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3142              		.loc 1 1166 21 discriminator 1 view .LVU993
 3143 0020 93F80022 		ldrb	r2, [r3, #512]	@ zero_extendqisi2
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3144              		.loc 1 1166 12 discriminator 1 view .LVU994
 3145 0024 032A     		cmp	r2, #3
 3146 0026 17D0     		beq	.L278
 3147              	.L265:
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
 3148              		.loc 1 1169 2 is_stmt 1 view .LVU995
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
 3149              		.loc 1 1169 5 is_stmt 0 view .LVU996
 3150 0028 CCB9     		cbnz	r4, .L266
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3151              		.loc 1 1170 3 is_stmt 1 view .LVU997
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3152              		.loc 1 1170 20 is_stmt 0 view .LVU998
 3153 002a B3F80822 		ldrh	r2, [r3, #520]
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3154              		.loc 1 1170 6 view .LVU999
 3155 002e B242     		cmp	r2, r6
 3156 0030 39D9     		bls	.L272
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3157              		.loc 1 1172 3 is_stmt 1 view .LVU1000
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3158              		.loc 1 1172 8 is_stmt 0 view .LVU1001
 3159 0032 D3F82402 		ldr	r0, [r3, #548]
 3160              	.LVL330:
 3161              	.L267:
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
 3162              		.loc 1 1185 2 is_stmt 1 view .LVU1002
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
 3163              		.loc 1 1185 12 is_stmt 0 view .LVU1003
 3164 0036 C7F80C42 		str	r4, [r7, #524]
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3165              		.loc 1 1186 2 is_stmt 1 view .LVU1004
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3166              		.loc 1 1186 5 is_stmt 0 view .LVU1005
 3167 003a D0B3     		cbz	r0, .L276
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3168              		.loc 1 1187 2 is_stmt 1 view .LVU1006
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3169              		.loc 1 1187 18 is_stmt 0 view .LVU1007
 3170 003c 00EB1610 		add	r0, r0, r6, lsr #4
 3171              	.LVL331:
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3172              		.loc 1 1187 11 view .LVU1008
 3173 0040 C7F81002 		str	r0, [r7, #528]
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3174              		.loc 1 1188 2 is_stmt 1 view .LVU1009
ARM GAS  /tmp/cciFFPmJ.s 			page 111


1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3175              		.loc 1 1188 14 is_stmt 0 view .LVU1010
 3176 0044 D7F80032 		ldr	r3, [r7, #512]
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3177              		.loc 1 1188 34 view .LVU1011
 3178 0048 06F00F01 		and	r1, r6, #15
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3179              		.loc 1 1188 27 view .LVU1012
 3180 004c 03EB4111 		add	r1, r3, r1, lsl #5
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3181              		.loc 1 1188 10 view .LVU1013
 3182 0050 C7F81412 		str	r1, [r7, #532]
1190:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3183              		.loc 1 1190 2 is_stmt 1 view .LVU1014
1190:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3184              		.loc 1 1190 9 is_stmt 0 view .LVU1015
 3185 0054 0020     		movs	r0, #0
 3186              	.LVL332:
 3187              	.L264:
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3188              		.loc 1 1191 1 view .LVU1016
 3189 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3190              	.LVL333:
 3191              	.L278:
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3192              		.loc 1 1167 3 is_stmt 1 view .LVU1017
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3193              		.loc 1 1167 8 is_stmt 0 view .LVU1018
 3194 0058 D3F82442 		ldr	r4, [r3, #548]
 3195              	.LVL334:
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3196              		.loc 1 1167 8 view .LVU1019
 3197 005c E4E7     		b	.L265
 3198              	.L266:
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3199              		.loc 1 1175 3 is_stmt 1 view .LVU1020
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3200              		.loc 1 1175 37 is_stmt 0 view .LVU1021
 3201 005e 93F80252 		ldrb	r5, [r3, #514]	@ zero_extendqisi2
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3202              		.loc 1 1175 6 view .LVU1022
 3203 0062 2D01     		lsls	r5, r5, #4
 3204              	.LVL335:
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 3205              		.loc 1 1176 3 is_stmt 1 view .LVU1023
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 3206              		.loc 1 1176 9 is_stmt 0 view .LVU1024
 3207 0064 00E0     		b	.L268
 3208              	.LVL336:
 3209              	.L280:
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3210              		.loc 1 1181 4 is_stmt 1 view .LVU1025
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3211              		.loc 1 1181 8 is_stmt 0 view .LVU1026
 3212 0066 761B     		subs	r6, r6, r5
 3213              	.LVL337:
 3214              	.L268:
ARM GAS  /tmp/cciFFPmJ.s 			page 112


1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 3215              		.loc 1 1176 9 is_stmt 1 view .LVU1027
 3216 0068 AE42     		cmp	r6, r5
 3217 006a 12D3     		bcc	.L279
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3218              		.loc 1 1177 4 view .LVU1028
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3219              		.loc 1 1177 11 is_stmt 0 view .LVU1029
 3220 006c 2146     		mov	r1, r4
 3221 006e D7F80002 		ldr	r0, [r7, #512]
 3222 0072 FFF7FEFF 		bl	get_fat
 3223              	.LVL338:
 3224 0076 0446     		mov	r4, r0
 3225              	.LVL339:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3226              		.loc 1 1178 4 is_stmt 1 view .LVU1030
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3227              		.loc 1 1178 7 is_stmt 0 view .LVU1031
 3228 0078 B0F1FF3F 		cmp	r0, #-1
 3229 007c 15D0     		beq	.L273
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3230              		.loc 1 1179 4 is_stmt 1 view .LVU1032
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3231              		.loc 1 1179 7 is_stmt 0 view .LVU1033
 3232 007e 0128     		cmp	r0, #1
 3233 0080 15D9     		bls	.L274
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3234              		.loc 1 1179 30 discriminator 1 view .LVU1034
 3235 0082 D7F80032 		ldr	r3, [r7, #512]
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3236              		.loc 1 1179 34 discriminator 1 view .LVU1035
 3237 0086 D3F81432 		ldr	r3, [r3, #532]
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3238              		.loc 1 1179 17 discriminator 1 view .LVU1036
 3239 008a 8342     		cmp	r3, r0
 3240 008c EBD8     		bhi	.L280
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3241              		.loc 1 1180 12 view .LVU1037
 3242 008e 0220     		movs	r0, #2
 3243              	.LVL340:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3244              		.loc 1 1180 12 view .LVU1038
 3245 0090 E1E7     		b	.L264
 3246              	.L279:
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3247              		.loc 1 1183 3 is_stmt 1 view .LVU1039
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3248              		.loc 1 1183 10 is_stmt 0 view .LVU1040
 3249 0092 2146     		mov	r1, r4
 3250 0094 D7F80002 		ldr	r0, [r7, #512]
 3251 0098 FFF7FEFF 		bl	clust2sect
 3252              	.LVL341:
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3253              		.loc 1 1183 10 view .LVU1041
 3254 009c CBE7     		b	.L267
 3255              	.LVL342:
 3256              	.L270:
ARM GAS  /tmp/cciFFPmJ.s 			page 113


1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3257              		.loc 1 1165 10 view .LVU1042
 3258 009e 0220     		movs	r0, #2
 3259              	.LVL343:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3260              		.loc 1 1165 10 view .LVU1043
 3261 00a0 D9E7     		b	.L264
 3262              	.LVL344:
 3263              	.L271:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3264              		.loc 1 1165 10 view .LVU1044
 3265 00a2 0220     		movs	r0, #2
 3266              	.LVL345:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3267              		.loc 1 1165 10 view .LVU1045
 3268 00a4 D7E7     		b	.L264
 3269              	.LVL346:
 3270              	.L272:
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
 3271              		.loc 1 1171 11 view .LVU1046
 3272 00a6 0220     		movs	r0, #2
 3273              	.LVL347:
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
 3274              		.loc 1 1171 11 view .LVU1047
 3275 00a8 D5E7     		b	.L264
 3276              	.LVL348:
 3277              	.L273:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3278              		.loc 1 1178 35 view .LVU1048
 3279 00aa 0120     		movs	r0, #1
 3280              	.LVL349:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3281              		.loc 1 1178 35 view .LVU1049
 3282 00ac D3E7     		b	.L264
 3283              	.LVL350:
 3284              	.L274:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3285              		.loc 1 1180 12 view .LVU1050
 3286 00ae 0220     		movs	r0, #2
 3287              	.LVL351:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3288              		.loc 1 1180 12 view .LVU1051
 3289 00b0 D1E7     		b	.L264
 3290              	.LVL352:
 3291              	.L276:
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3292              		.loc 1 1186 20 view .LVU1052
 3293 00b2 0220     		movs	r0, #2
 3294              	.LVL353:
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3295              		.loc 1 1186 20 view .LVU1053
 3296 00b4 CFE7     		b	.L264
 3297              		.cfi_endproc
 3298              	.LFE83:
 3300              		.section	.text.dir_remove,"ax",%progbits
 3301              		.align	1
 3302              		.syntax unified
ARM GAS  /tmp/cciFFPmJ.s 			page 114


 3303              		.thumb
 3304              		.thumb_func
 3305              		.fpu softvfp
 3307              	dir_remove:
 3308              	.LVL354:
 3309              	.LFB91:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3310              		.loc 1 1729 1 is_stmt 1 view -0
 3311              		.cfi_startproc
 3312              		@ args = 0, pretend = 0, frame = 0
 3313              		@ frame_needed = 0, uses_anonymous_args = 0
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3314              		.loc 1 1729 1 is_stmt 0 view .LVU1055
 3315 0000 38B5     		push	{r3, r4, r5, lr}
 3316              	.LCFI32:
 3317              		.cfi_def_cfa_offset 16
 3318              		.cfi_offset 3, -16
 3319              		.cfi_offset 4, -12
 3320              		.cfi_offset 5, -8
 3321              		.cfi_offset 14, -4
 3322 0002 0446     		mov	r4, r0
1730:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 3323              		.loc 1 1730 2 is_stmt 1 view .LVU1056
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3324              		.loc 1 1750 2 view .LVU1057
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3325              		.loc 1 1750 8 is_stmt 0 view .LVU1058
 3326 0004 B0F80612 		ldrh	r1, [r0, #518]
 3327 0008 FFF7FEFF 		bl	dir_sdi
 3328              	.LVL355:
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 3329              		.loc 1 1751 2 is_stmt 1 view .LVU1059
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 3330              		.loc 1 1751 5 is_stmt 0 view .LVU1060
 3331 000c 0546     		mov	r5, r0
 3332 000e 08B1     		cbz	r0, .L284
 3333              	.LVL356:
 3334              	.L282:
1761:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3335              		.loc 1 1761 2 is_stmt 1 view .LVU1061
1762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3336              		.loc 1 1762 1 is_stmt 0 view .LVU1062
 3337 0010 2846     		mov	r0, r5
 3338 0012 38BD     		pop	{r3, r4, r5, pc}
 3339              	.LVL357:
 3340              	.L284:
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3341              		.loc 1 1752 3 is_stmt 1 view .LVU1063
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3342              		.loc 1 1752 9 is_stmt 0 view .LVU1064
 3343 0014 D4F81012 		ldr	r1, [r4, #528]
 3344 0018 D4F80002 		ldr	r0, [r4, #512]
 3345              	.LVL358:
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3346              		.loc 1 1752 9 view .LVU1065
 3347 001c FFF7FEFF 		bl	move_window
 3348              	.LVL359:
ARM GAS  /tmp/cciFFPmJ.s 			page 115


1753:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
 3349              		.loc 1 1753 3 is_stmt 1 view .LVU1066
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
 3350              		.loc 1 1753 6 is_stmt 0 view .LVU1067
 3351 0020 0546     		mov	r5, r0
 3352 0022 0028     		cmp	r0, #0
 3353 0024 F4D1     		bne	.L282
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3354              		.loc 1 1754 4 is_stmt 1 view .LVU1068
 3355 0026 2022     		movs	r2, #32
 3356 0028 0021     		movs	r1, #0
 3357 002a D4F81402 		ldr	r0, [r4, #532]
 3358              	.LVL360:
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3359              		.loc 1 1754 4 is_stmt 0 view .LVU1069
 3360 002e FFF7FEFF 		bl	mem_set
 3361              	.LVL361:
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3362              		.loc 1 1755 4 is_stmt 1 view .LVU1070
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3363              		.loc 1 1755 7 is_stmt 0 view .LVU1071
 3364 0032 D4F81432 		ldr	r3, [r4, #532]
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3365              		.loc 1 1755 13 view .LVU1072
 3366 0036 E522     		movs	r2, #229
 3367 0038 1A70     		strb	r2, [r3]
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3368              		.loc 1 1756 4 is_stmt 1 view .LVU1073
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3369              		.loc 1 1756 6 is_stmt 0 view .LVU1074
 3370 003a D4F80032 		ldr	r3, [r4, #512]
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3371              		.loc 1 1756 18 view .LVU1075
 3372 003e 0122     		movs	r2, #1
 3373 0040 83F80422 		strb	r2, [r3, #516]
 3374 0044 E4E7     		b	.L282
 3375              		.cfi_endproc
 3376              	.LFE91:
 3378              		.section	.text.put_fat,"ax",%progbits
 3379              		.align	1
 3380              		.global	put_fat
 3381              		.syntax unified
 3382              		.thumb
 3383              		.thumb_func
 3384              		.fpu softvfp
 3386              	put_fat:
 3387              	.LVL362:
 3388              	.LFB79:
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3389              		.loc 1 951 1 is_stmt 1 view -0
 3390              		.cfi_startproc
 3391              		@ args = 0, pretend = 0, frame = 0
 3392              		@ frame_needed = 0, uses_anonymous_args = 0
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 3393              		.loc 1 952 2 view .LVU1077
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3394              		.loc 1 953 2 view .LVU1078
ARM GAS  /tmp/cciFFPmJ.s 			page 116


 954:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3395              		.loc 1 954 2 view .LVU1079
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3396              		.loc 1 957 2 view .LVU1080
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3397              		.loc 1 957 5 is_stmt 0 view .LVU1081
 3398 0000 0129     		cmp	r1, #1
 3399 0002 40F28580 		bls	.L293
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3400              		.loc 1 951 1 discriminator 1 view .LVU1082
 3401 0006 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3402              	.LCFI33:
 3403              		.cfi_def_cfa_offset 24
 3404              		.cfi_offset 4, -24
 3405              		.cfi_offset 5, -20
 3406              		.cfi_offset 6, -16
 3407              		.cfi_offset 7, -12
 3408              		.cfi_offset 8, -8
 3409              		.cfi_offset 14, -4
 3410 000a 0546     		mov	r5, r0
 3411 000c 0C46     		mov	r4, r1
 3412 000e 1646     		mov	r6, r2
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3413              		.loc 1 957 28 discriminator 1 view .LVU1083
 3414 0010 D0F81432 		ldr	r3, [r0, #532]
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3415              		.loc 1 957 15 discriminator 1 view .LVU1084
 3416 0014 8B42     		cmp	r3, r1
 3417 0016 7DD9     		bls	.L294
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3418              		.loc 1 961 3 is_stmt 1 view .LVU1085
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3419              		.loc 1 961 13 is_stmt 0 view .LVU1086
 3420 0018 90F80032 		ldrb	r3, [r0, #512]	@ zero_extendqisi2
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3421              		.loc 1 961 3 view .LVU1087
 3422 001c 022B     		cmp	r3, #2
 3423 001e 42D0     		beq	.L287
 3424 0020 032B     		cmp	r3, #3
 3425 0022 54D0     		beq	.L288
 3426 0024 012B     		cmp	r3, #1
 3427 0026 02D0     		beq	.L300
 3428 0028 0220     		movs	r0, #2
 3429              	.LVL363:
 3430              	.L286:
 998:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3431              		.loc 1 998 2 is_stmt 1 view .LVU1088
 999:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3432              		.loc 1 999 1 is_stmt 0 view .LVU1089
 3433 002a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3434              	.LVL364:
 3435              	.L300:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3436              		.loc 1 963 4 is_stmt 1 view .LVU1090
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3437              		.loc 1 963 21 view .LVU1091
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
ARM GAS  /tmp/cciFFPmJ.s 			page 117


 3438              		.loc 1 963 24 is_stmt 0 view .LVU1092
 3439 002e 01EB5107 		add	r7, r1, r1, lsr #1
 3440              	.LVL365:
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3441              		.loc 1 964 4 is_stmt 1 view .LVU1093
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3442              		.loc 1 964 28 is_stmt 0 view .LVU1094
 3443 0032 D0F82012 		ldr	r1, [r0, #544]
 3444              	.LVL366:
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3445              		.loc 1 964 10 view .LVU1095
 3446 0036 01EB5721 		add	r1, r1, r7, lsr #9
 3447 003a FFF7FEFF 		bl	move_window
 3448              	.LVL367:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 3449              		.loc 1 965 4 is_stmt 1 view .LVU1096
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 3450              		.loc 1 965 7 is_stmt 0 view .LVU1097
 3451 003e 0028     		cmp	r0, #0
 3452 0040 F3D1     		bne	.L286
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3453              		.loc 1 966 4 is_stmt 1 view .LVU1098
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3454              		.loc 1 966 22 is_stmt 0 view .LVU1099
 3455 0042 07F10108 		add	r8, r7, #1
 3456              	.LVL368:
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3457              		.loc 1 966 25 view .LVU1100
 3458 0046 C7F30807 		ubfx	r7, r7, #0, #9
 3459              	.LVL369:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3460              		.loc 1 967 4 is_stmt 1 view .LVU1101
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3461              		.loc 1 967 7 is_stmt 0 view .LVU1102
 3462 004a 14F00104 		ands	r4, r4, #1
 3463              	.LVL370:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3464              		.loc 1 967 7 view .LVU1103
 3465 004e 1FD0     		beq	.L289
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3466              		.loc 1 967 24 discriminator 1 view .LVU1104
 3467 0050 EB57     		ldrsb	r3, [r5, r7]
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3468              		.loc 1 967 27 discriminator 1 view .LVU1105
 3469 0052 03F00F03 		and	r3, r3, #15
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3470              		.loc 1 967 48 discriminator 1 view .LVU1106
 3471 0056 3201     		lsls	r2, r6, #4
 3472 0058 02F47F62 		and	r2, r2, #4080
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3473              		.loc 1 967 35 discriminator 1 view .LVU1107
 3474 005c 1343     		orrs	r3, r3, r2
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3475              		.loc 1 967 7 discriminator 1 view .LVU1108
 3476 005e DBB2     		uxtb	r3, r3
 3477              	.L290:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
ARM GAS  /tmp/cciFFPmJ.s 			page 118


 3478              		.loc 1 967 7 discriminator 4 view .LVU1109
 3479 0060 EB55     		strb	r3, [r5, r7]
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3480              		.loc 1 968 4 is_stmt 1 discriminator 4 view .LVU1110
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3481              		.loc 1 968 14 is_stmt 0 discriminator 4 view .LVU1111
 3482 0062 0123     		movs	r3, #1
 3483 0064 85F80432 		strb	r3, [r5, #516]
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3484              		.loc 1 969 4 is_stmt 1 discriminator 4 view .LVU1112
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3485              		.loc 1 969 28 is_stmt 0 discriminator 4 view .LVU1113
 3486 0068 D5F82012 		ldr	r1, [r5, #544]
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3487              		.loc 1 969 10 discriminator 4 view .LVU1114
 3488 006c 01EB5821 		add	r1, r1, r8, lsr #9
 3489 0070 2846     		mov	r0, r5
 3490              	.LVL371:
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3491              		.loc 1 969 10 discriminator 4 view .LVU1115
 3492 0072 FFF7FEFF 		bl	move_window
 3493              	.LVL372:
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 3494              		.loc 1 970 4 is_stmt 1 discriminator 4 view .LVU1116
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 3495              		.loc 1 970 7 is_stmt 0 discriminator 4 view .LVU1117
 3496 0076 0028     		cmp	r0, #0
 3497 0078 D7D1     		bne	.L286
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3498              		.loc 1 971 4 is_stmt 1 view .LVU1118
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3499              		.loc 1 971 23 is_stmt 0 view .LVU1119
 3500 007a C8F30808 		ubfx	r8, r8, #0, #9
 3501              	.LVL373:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3502              		.loc 1 972 4 is_stmt 1 view .LVU1120
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3503              		.loc 1 972 7 is_stmt 0 view .LVU1121
 3504 007e 4CB1     		cbz	r4, .L291
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3505              		.loc 1 972 7 discriminator 1 view .LVU1122
 3506 0080 C6F30712 		ubfx	r2, r6, #4, #8
 3507              	.LVL374:
 3508              	.L292:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3509              		.loc 1 972 7 discriminator 4 view .LVU1123
 3510 0084 05F80820 		strb	r2, [r5, r8]
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3511              		.loc 1 973 4 is_stmt 1 discriminator 4 view .LVU1124
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3512              		.loc 1 973 14 is_stmt 0 discriminator 4 view .LVU1125
 3513 0088 0123     		movs	r3, #1
 3514 008a 85F80432 		strb	r3, [r5, #516]
 974:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3515              		.loc 1 974 4 is_stmt 1 discriminator 4 view .LVU1126
 3516 008e CCE7     		b	.L286
 3517              	.LVL375:
ARM GAS  /tmp/cciFFPmJ.s 			page 119


 3518              	.L289:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3519              		.loc 1 967 7 is_stmt 0 discriminator 2 view .LVU1127
 3520 0090 F3B2     		uxtb	r3, r6
 3521 0092 E5E7     		b	.L290
 3522              	.LVL376:
 3523              	.L291:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3524              		.loc 1 972 43 discriminator 2 view .LVU1128
 3525 0094 15F90820 		ldrsb	r2, [r5, r8]
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3526              		.loc 1 972 46 discriminator 2 view .LVU1129
 3527 0098 22F00F02 		bic	r2, r2, #15
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3528              		.loc 1 972 74 discriminator 2 view .LVU1130
 3529 009c C6F30326 		ubfx	r6, r6, #8, #4
 3530              	.LVL377:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3531              		.loc 1 972 54 discriminator 2 view .LVU1131
 3532 00a0 3243     		orrs	r2, r2, r6
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3533              		.loc 1 972 7 discriminator 2 view .LVU1132
 3534 00a2 D2B2     		uxtb	r2, r2
 3535 00a4 EEE7     		b	.L292
 3536              	.LVL378:
 3537              	.L287:
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3538              		.loc 1 977 4 is_stmt 1 view .LVU1133
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3539              		.loc 1 977 28 is_stmt 0 view .LVU1134
 3540 00a6 D0F82012 		ldr	r1, [r0, #544]
 3541              	.LVL379:
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3542              		.loc 1 977 10 view .LVU1135
 3543 00aa 01EB1421 		add	r1, r1, r4, lsr #8
 3544 00ae FFF7FEFF 		bl	move_window
 3545              	.LVL380:
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3546              		.loc 1 978 4 is_stmt 1 view .LVU1136
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3547              		.loc 1 978 7 is_stmt 0 view .LVU1137
 3548 00b2 0028     		cmp	r0, #0
 3549 00b4 B9D1     		bne	.L286
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3550              		.loc 1 979 4 is_stmt 1 view .LVU1138
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3551              		.loc 1 979 25 is_stmt 0 view .LVU1139
 3552 00b6 6400     		lsls	r4, r4, #1
 3553              	.LVL381:
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3554              		.loc 1 979 29 view .LVU1140
 3555 00b8 04F4FF74 		and	r4, r4, #510
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3556              		.loc 1 979 6 view .LVU1141
 3557 00bc 2B19     		adds	r3, r5, r4
 3558              	.LVL382:
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
ARM GAS  /tmp/cciFFPmJ.s 			page 120


 3559              		.loc 1 980 4 is_stmt 1 view .LVU1142
 3560 00be 2E55     		strb	r6, [r5, r4]
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3561              		.loc 1 980 4 view .LVU1143
 3562 00c0 C6F30722 		ubfx	r2, r6, #8, #8
 3563 00c4 5A70     		strb	r2, [r3, #1]
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3564              		.loc 1 981 4 view .LVU1144
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3565              		.loc 1 981 14 is_stmt 0 view .LVU1145
 3566 00c6 0123     		movs	r3, #1
 3567              	.LVL383:
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3568              		.loc 1 981 14 view .LVU1146
 3569 00c8 85F80432 		strb	r3, [r5, #516]
 982:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3570              		.loc 1 982 4 is_stmt 1 view .LVU1147
 3571 00cc ADE7     		b	.L286
 3572              	.LVL384:
 3573              	.L288:
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3574              		.loc 1 985 4 view .LVU1148
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3575              		.loc 1 985 28 is_stmt 0 view .LVU1149
 3576 00ce D0F82012 		ldr	r1, [r0, #544]
 3577              	.LVL385:
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3578              		.loc 1 985 10 view .LVU1150
 3579 00d2 01EBD411 		add	r1, r1, r4, lsr #7
 3580 00d6 FFF7FEFF 		bl	move_window
 3581              	.LVL386:
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3582              		.loc 1 986 4 is_stmt 1 view .LVU1151
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3583              		.loc 1 986 7 is_stmt 0 view .LVU1152
 3584 00da 0028     		cmp	r0, #0
 3585 00dc A5D1     		bne	.L286
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3586              		.loc 1 987 4 is_stmt 1 view .LVU1153
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3587              		.loc 1 987 25 is_stmt 0 view .LVU1154
 3588 00de A400     		lsls	r4, r4, #2
 3589              	.LVL387:
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3590              		.loc 1 987 29 view .LVU1155
 3591 00e0 04F4FE74 		and	r4, r4, #508
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3592              		.loc 1 987 6 view .LVU1156
 3593 00e4 2919     		adds	r1, r5, r4
 3594              	.LVL388:
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3595              		.loc 1 988 4 is_stmt 1 view .LVU1157
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3596              		.loc 1 988 11 is_stmt 0 view .LVU1158
 3597 00e6 CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 3598 00e8 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 3599 00ea 1B04     		lsls	r3, r3, #16
ARM GAS  /tmp/cciFFPmJ.s 			page 121


 3600 00ec 43EA0263 		orr	r3, r3, r2, lsl #24
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3601              		.loc 1 988 23 view .LVU1159
 3602 00f0 03F07043 		and	r3, r3, #-268435456
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3603              		.loc 1 988 8 view .LVU1160
 3604 00f4 3343     		orrs	r3, r3, r6
 3605              	.LVL389:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3606              		.loc 1 989 4 is_stmt 1 view .LVU1161
 3607 00f6 2E55     		strb	r6, [r5, r4]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3608              		.loc 1 989 4 view .LVU1162
 3609 00f8 C6F30722 		ubfx	r2, r6, #8, #8
 3610 00fc 4A70     		strb	r2, [r1, #1]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3611              		.loc 1 989 4 view .LVU1163
 3612 00fe C6F30742 		ubfx	r2, r6, #16, #8
 3613 0102 8A70     		strb	r2, [r1, #2]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3614              		.loc 1 989 4 view .LVU1164
 3615 0104 1B0E     		lsrs	r3, r3, #24
 3616              	.LVL390:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3617              		.loc 1 989 4 is_stmt 0 view .LVU1165
 3618 0106 CB70     		strb	r3, [r1, #3]
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3619              		.loc 1 990 4 is_stmt 1 view .LVU1166
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3620              		.loc 1 990 14 is_stmt 0 view .LVU1167
 3621 0108 0123     		movs	r3, #1
 3622 010a 85F80432 		strb	r3, [r5, #516]
 991:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3623              		.loc 1 991 4 is_stmt 1 view .LVU1168
 3624 010e 8CE7     		b	.L286
 3625              	.LVL391:
 3626              	.L293:
 3627              	.LCFI34:
 3628              		.cfi_def_cfa_offset 0
 3629              		.cfi_restore 4
 3630              		.cfi_restore 5
 3631              		.cfi_restore 6
 3632              		.cfi_restore 7
 3633              		.cfi_restore 8
 3634              		.cfi_restore 14
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3635              		.loc 1 958 7 is_stmt 0 view .LVU1169
 3636 0110 0220     		movs	r0, #2
 3637              	.LVL392:
 998:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3638              		.loc 1 998 2 is_stmt 1 view .LVU1170
 999:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3639              		.loc 1 999 1 is_stmt 0 view .LVU1171
 3640 0112 7047     		bx	lr
 3641              	.LVL393:
 3642              	.L294:
 3643              	.LCFI35:
ARM GAS  /tmp/cciFFPmJ.s 			page 122


 3644              		.cfi_def_cfa_offset 24
 3645              		.cfi_offset 4, -24
 3646              		.cfi_offset 5, -20
 3647              		.cfi_offset 6, -16
 3648              		.cfi_offset 7, -12
 3649              		.cfi_offset 8, -8
 3650              		.cfi_offset 14, -4
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3651              		.loc 1 958 7 view .LVU1172
 3652 0114 0220     		movs	r0, #2
 3653              	.LVL394:
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3654              		.loc 1 958 7 view .LVU1173
 3655 0116 88E7     		b	.L286
 3656              		.cfi_endproc
 3657              	.LFE79:
 3659              		.section	.text.create_chain,"ax",%progbits
 3660              		.align	1
 3661              		.syntax unified
 3662              		.thumb
 3663              		.thumb_func
 3664              		.fpu softvfp
 3666              	create_chain:
 3667              	.LVL395:
 3668              	.LFB81:
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3669              		.loc 1 1067 1 is_stmt 1 view -0
 3670              		.cfi_startproc
 3671              		@ args = 0, pretend = 0, frame = 0
 3672              		@ frame_needed = 0, uses_anonymous_args = 0
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3673              		.loc 1 1067 1 is_stmt 0 view .LVU1175
 3674 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3675              	.LCFI36:
 3676              		.cfi_def_cfa_offset 24
 3677              		.cfi_offset 3, -24
 3678              		.cfi_offset 4, -20
 3679              		.cfi_offset 5, -16
 3680              		.cfi_offset 6, -12
 3681              		.cfi_offset 7, -8
 3682              		.cfi_offset 14, -4
 3683 0002 0546     		mov	r5, r0
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3684              		.loc 1 1068 2 is_stmt 1 view .LVU1176
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3685              		.loc 1 1069 2 view .LVU1177
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
 3686              		.loc 1 1072 2 view .LVU1178
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
 3687              		.loc 1 1072 5 is_stmt 0 view .LVU1179
 3688 0004 0F46     		mov	r7, r1
 3689 0006 41B9     		cbnz	r1, .L302
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 3690              		.loc 1 1073 3 is_stmt 1 view .LVU1180
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 3691              		.loc 1 1073 7 is_stmt 0 view .LVU1181
 3692 0008 D0F80C62 		ldr	r6, [r0, #524]
ARM GAS  /tmp/cciFFPmJ.s 			page 123


 3693              	.LVL396:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3694              		.loc 1 1074 3 is_stmt 1 view .LVU1182
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3695              		.loc 1 1074 6 is_stmt 0 view .LVU1183
 3696 000c 9EB1     		cbz	r6, .L310
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3697              		.loc 1 1074 24 discriminator 2 view .LVU1184
 3698 000e D0F81432 		ldr	r3, [r0, #532]
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3699              		.loc 1 1074 12 discriminator 2 view .LVU1185
 3700 0012 B342     		cmp	r3, r6
 3701 0014 10D8     		bhi	.L303
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3702              		.loc 1 1074 40 view .LVU1186
 3703 0016 0126     		movs	r6, #1
 3704              	.LVL397:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3705              		.loc 1 1074 40 view .LVU1187
 3706 0018 0EE0     		b	.L303
 3707              	.LVL398:
 3708              	.L302:
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3709              		.loc 1 1077 3 is_stmt 1 view .LVU1188
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3710              		.loc 1 1077 8 is_stmt 0 view .LVU1189
 3711 001a FFF7FEFF 		bl	get_fat
 3712              	.LVL399:
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3713              		.loc 1 1077 8 view .LVU1190
 3714 001e 0346     		mov	r3, r0
 3715              	.LVL400:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3716              		.loc 1 1078 3 is_stmt 1 view .LVU1191
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3717              		.loc 1 1078 6 is_stmt 0 view .LVU1192
 3718 0020 0128     		cmp	r0, #1
 3719 0022 4BD9     		bls	.L312
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3720              		.loc 1 1079 3 is_stmt 1 view .LVU1193
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3721              		.loc 1 1079 6 is_stmt 0 view .LVU1194
 3722 0024 B0F1FF3F 		cmp	r0, #-1
 3723 0028 4DD0     		beq	.L301
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3724              		.loc 1 1080 3 is_stmt 1 view .LVU1195
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3725              		.loc 1 1080 14 is_stmt 0 view .LVU1196
 3726 002a D5F81422 		ldr	r2, [r5, #532]
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3727              		.loc 1 1080 6 view .LVU1197
 3728 002e 8242     		cmp	r2, r0
 3729 0030 49D8     		bhi	.L301
1081:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3730              		.loc 1 1081 7 view .LVU1198
 3731 0032 3E46     		mov	r6, r7
 3732 0034 00E0     		b	.L303
ARM GAS  /tmp/cciFFPmJ.s 			page 124


 3733              	.LVL401:
 3734              	.L310:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3735              		.loc 1 1074 40 view .LVU1199
 3736 0036 0126     		movs	r6, #1
 3737              	.LVL402:
 3738              	.L303:
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 3739              		.loc 1 1084 2 is_stmt 1 view .LVU1200
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 3740              		.loc 1 1084 6 is_stmt 0 view .LVU1201
 3741 0038 3446     		mov	r4, r6
 3742 003a 0CE0     		b	.L307
 3743              	.LVL403:
 3744              	.L305:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
 3745              		.loc 1 1091 3 is_stmt 1 view .LVU1202
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
 3746              		.loc 1 1091 8 is_stmt 0 view .LVU1203
 3747 003c 2146     		mov	r1, r4
 3748 003e 2846     		mov	r0, r5
 3749 0040 FFF7FEFF 		bl	get_fat
 3750              	.LVL404:
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 3751              		.loc 1 1092 3 is_stmt 1 view .LVU1204
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 3752              		.loc 1 1092 6 is_stmt 0 view .LVU1205
 3753 0044 0346     		mov	r3, r0
 3754 0046 78B1     		cbz	r0, .L306
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 3755              		.loc 1 1093 3 is_stmt 1 view .LVU1206
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 3756              		.loc 1 1093 6 is_stmt 0 view .LVU1207
 3757 0048 B0F1FF3F 		cmp	r0, #-1
 3758 004c 3BD0     		beq	.L301
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 3759              		.loc 1 1093 24 discriminator 1 view .LVU1208
 3760 004e 0128     		cmp	r0, #1
 3761 0050 39D0     		beq	.L301
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3762              		.loc 1 1095 3 is_stmt 1 view .LVU1209
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3763              		.loc 1 1095 6 is_stmt 0 view .LVU1210
 3764 0052 B442     		cmp	r4, r6
 3765 0054 36D0     		beq	.L318
 3766              	.LVL405:
 3767              	.L307:
1085:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
 3768              		.loc 1 1085 2 is_stmt 1 view .LVU1211
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 3769              		.loc 1 1086 3 view .LVU1212
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 3770              		.loc 1 1086 6 is_stmt 0 view .LVU1213
 3771 0056 0134     		adds	r4, r4, #1
 3772              	.LVL406:
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 3773              		.loc 1 1087 3 is_stmt 1 view .LVU1214
ARM GAS  /tmp/cciFFPmJ.s 			page 125


1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 3774              		.loc 1 1087 16 is_stmt 0 view .LVU1215
 3775 0058 D5F81432 		ldr	r3, [r5, #532]
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 3776              		.loc 1 1087 6 view .LVU1216
 3777 005c A342     		cmp	r3, r4
 3778 005e EDD8     		bhi	.L305
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
 3779              		.loc 1 1088 4 is_stmt 1 view .LVU1217
 3780              	.LVL407:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3781              		.loc 1 1089 4 view .LVU1218
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3782              		.loc 1 1089 7 is_stmt 0 view .LVU1219
 3783 0060 012E     		cmp	r6, #1
 3784 0062 2DD9     		bls	.L313
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
 3785              		.loc 1 1088 8 view .LVU1220
 3786 0064 0224     		movs	r4, #2
 3787 0066 E9E7     		b	.L305
 3788              	.LVL408:
 3789              	.L306:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 3790              		.loc 1 1098 2 is_stmt 1 view .LVU1221
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 3791              		.loc 1 1098 8 is_stmt 0 view .LVU1222
 3792 0068 6FF07042 		mvn	r2, #-268435456
 3793 006c 2146     		mov	r1, r4
 3794 006e 2846     		mov	r0, r5
 3795              	.LVL409:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 3796              		.loc 1 1098 8 view .LVU1223
 3797 0070 FFF7FEFF 		bl	put_fat
 3798              	.LVL410:
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 3799              		.loc 1 1099 2 is_stmt 1 view .LVU1224
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 3800              		.loc 1 1099 5 is_stmt 0 view .LVU1225
 3801 0074 0346     		mov	r3, r0
 3802 0076 00B9     		cbnz	r0, .L308
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 3803              		.loc 1 1099 19 discriminator 1 view .LVU1226
 3804 0078 97B9     		cbnz	r7, .L319
 3805              	.LVL411:
 3806              	.L308:
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
 3807              		.loc 1 1102 2 is_stmt 1 view .LVU1227
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
 3808              		.loc 1 1102 5 is_stmt 0 view .LVU1228
 3809 007a C3B9     		cbnz	r3, .L309
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 3810              		.loc 1 1103 3 is_stmt 1 view .LVU1229
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 3811              		.loc 1 1103 18 is_stmt 0 view .LVU1230
 3812 007c C5F80C42 		str	r4, [r5, #524]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 3813              		.loc 1 1104 3 is_stmt 1 view .LVU1231
ARM GAS  /tmp/cciFFPmJ.s 			page 126


1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 3814              		.loc 1 1104 9 is_stmt 0 view .LVU1232
 3815 0080 D5F81032 		ldr	r3, [r5, #528]
 3816              	.LVL412:
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 3817              		.loc 1 1104 6 view .LVU1233
 3818 0084 B3F1FF3F 		cmp	r3, #-1
 3819 0088 1FD0     		beq	.L315
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3820              		.loc 1 1105 4 is_stmt 1 view .LVU1234
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3821              		.loc 1 1105 18 is_stmt 0 view .LVU1235
 3822 008a 013B     		subs	r3, r3, #1
 3823 008c C5F81032 		str	r3, [r5, #528]
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3824              		.loc 1 1106 4 is_stmt 1 view .LVU1236
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3825              		.loc 1 1106 17 is_stmt 0 view .LVU1237
 3826 0090 95F80532 		ldrb	r3, [r5, #517]	@ zero_extendqisi2
 3827 0094 43F00103 		orr	r3, r3, #1
 3828 0098 85F80532 		strb	r3, [r5, #517]
 3829 009c 2346     		mov	r3, r4
 3830 009e 12E0     		b	.L301
 3831              	.LVL413:
 3832              	.L319:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3833              		.loc 1 1100 3 is_stmt 1 view .LVU1238
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3834              		.loc 1 1100 9 is_stmt 0 view .LVU1239
 3835 00a0 2246     		mov	r2, r4
 3836 00a2 3946     		mov	r1, r7
 3837 00a4 2846     		mov	r0, r5
 3838              	.LVL414:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3839              		.loc 1 1100 9 view .LVU1240
 3840 00a6 FFF7FEFF 		bl	put_fat
 3841              	.LVL415:
 3842 00aa 0346     		mov	r3, r0
 3843              	.LVL416:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3844              		.loc 1 1100 9 view .LVU1241
 3845 00ac E5E7     		b	.L308
 3846              	.L309:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3847              		.loc 1 1109 3 is_stmt 1 view .LVU1242
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3848              		.loc 1 1109 43 is_stmt 0 view .LVU1243
 3849 00ae 012B     		cmp	r3, #1
 3850 00b0 01D0     		beq	.L320
 3851 00b2 0123     		movs	r3, #1
 3852              	.LVL417:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3853              		.loc 1 1109 43 view .LVU1244
 3854 00b4 07E0     		b	.L301
 3855              	.LVL418:
 3856              	.L320:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cciFFPmJ.s 			page 127


 3857              		.loc 1 1109 43 view .LVU1245
 3858 00b6 4FF0FF33 		mov	r3, #-1
 3859              	.LVL419:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3860              		.loc 1 1109 43 view .LVU1246
 3861 00ba 04E0     		b	.L301
 3862              	.LVL420:
 3863              	.L312:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3864              		.loc 1 1078 22 view .LVU1247
 3865 00bc 0123     		movs	r3, #1
 3866 00be 02E0     		b	.L301
 3867              	.LVL421:
 3868              	.L313:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3869              		.loc 1 1089 26 view .LVU1248
 3870 00c0 0023     		movs	r3, #0
 3871 00c2 00E0     		b	.L301
 3872              	.LVL422:
 3873              	.L318:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3874              		.loc 1 1095 26 view .LVU1249
 3875 00c4 0023     		movs	r3, #0
 3876              	.LVL423:
 3877              	.L301:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3878              		.loc 1 1113 1 view .LVU1250
 3879 00c6 1846     		mov	r0, r3
 3880 00c8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3881              	.LVL424:
 3882              	.L315:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3883              		.loc 1 1113 1 view .LVU1251
 3884 00ca 2346     		mov	r3, r4
 3885 00cc FBE7     		b	.L301
 3886              		.cfi_endproc
 3887              	.LFE81:
 3889              		.section	.text.dir_next,"ax",%progbits
 3890              		.align	1
 3891              		.syntax unified
 3892              		.thumb
 3893              		.thumb_func
 3894              		.fpu softvfp
 3896              	dir_next:
 3897              	.LVL425:
 3898              	.LFB84:
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
 3899              		.loc 1 1205 1 is_stmt 1 view -0
 3900              		.cfi_startproc
 3901              		@ args = 0, pretend = 0, frame = 0
 3902              		@ frame_needed = 0, uses_anonymous_args = 0
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
 3903              		.loc 1 1205 1 is_stmt 0 view .LVU1253
 3904 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 3905              	.LCFI37:
 3906              		.cfi_def_cfa_offset 32
 3907              		.cfi_offset 3, -32
ARM GAS  /tmp/cciFFPmJ.s 			page 128


 3908              		.cfi_offset 4, -28
 3909              		.cfi_offset 5, -24
 3910              		.cfi_offset 6, -20
 3911              		.cfi_offset 7, -16
 3912              		.cfi_offset 8, -12
 3913              		.cfi_offset 9, -8
 3914              		.cfi_offset 14, -4
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 3915              		.loc 1 1206 2 is_stmt 1 view .LVU1254
1207:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3916              		.loc 1 1207 2 view .LVU1255
1209:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 3917              		.loc 1 1209 2 view .LVU1256
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 3918              		.loc 1 1213 2 view .LVU1257
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 3919              		.loc 1 1213 8 is_stmt 0 view .LVU1258
 3920 0004 B0F80652 		ldrh	r5, [r0, #518]
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 3921              		.loc 1 1213 16 view .LVU1259
 3922 0008 6B1C     		adds	r3, r5, #1
 3923              	.LVL426:
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3924              		.loc 1 1214 2 is_stmt 1 view .LVU1260
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3925              		.loc 1 1214 10 is_stmt 0 view .LVU1261
 3926 000a 9AB2     		uxth	r2, r3
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3927              		.loc 1 1214 5 view .LVU1262
 3928 000c 002A     		cmp	r2, #0
 3929 000e 00F08380 		beq	.L328
 3930 0012 0446     		mov	r4, r0
 3931 0014 0F46     		mov	r7, r1
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3932              		.loc 1 1214 26 discriminator 1 view .LVU1263
 3933 0016 D0F81022 		ldr	r2, [r0, #528]
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3934              		.loc 1 1214 20 discriminator 1 view .LVU1264
 3935 001a 002A     		cmp	r2, #0
 3936 001c 7ED0     		beq	.L329
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 3937              		.loc 1 1217 2 is_stmt 1 view .LVU1265
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 3938              		.loc 1 1217 5 is_stmt 0 view .LVU1266
 3939 001e 13F00F06 		ands	r6, r3, #15
 3940 0022 0BD1     		bne	.L323
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3941              		.loc 1 1218 3 is_stmt 1 view .LVU1267
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3942              		.loc 1 1218 11 is_stmt 0 view .LVU1268
 3943 0024 0132     		adds	r2, r2, #1
 3944 0026 C0F81022 		str	r2, [r0, #528]
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 3945              		.loc 1 1220 3 is_stmt 1 view .LVU1269
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 3946              		.loc 1 1220 10 is_stmt 0 view .LVU1270
 3947 002a D0F80C12 		ldr	r1, [r0, #524]
ARM GAS  /tmp/cciFFPmJ.s 			page 129


 3948              	.LVL427:
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 3949              		.loc 1 1220 6 view .LVU1271
 3950 002e 89B9     		cbnz	r1, .L324
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 3951              		.loc 1 1221 4 is_stmt 1 view .LVU1272
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 3952              		.loc 1 1221 15 is_stmt 0 view .LVU1273
 3953 0030 D0F80022 		ldr	r2, [r0, #512]
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 3954              		.loc 1 1221 19 view .LVU1274
 3955 0034 B2F80822 		ldrh	r2, [r2, #520]
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 3956              		.loc 1 1221 7 view .LVU1275
 3957 0038 9A42     		cmp	r2, r3
 3958 003a 71D9     		bls	.L340
 3959              	.LVL428:
 3960              	.L323:
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 3961              		.loc 1 1257 2 is_stmt 1 view .LVU1276
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 3962              		.loc 1 1257 14 is_stmt 0 view .LVU1277
 3963 003c 0135     		adds	r5, r5, #1
 3964              	.LVL429:
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 3965              		.loc 1 1257 12 view .LVU1278
 3966 003e A4F80652 		strh	r5, [r4, #518]	@ movhi
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3967              		.loc 1 1258 2 is_stmt 1 view .LVU1279
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3968              		.loc 1 1258 14 is_stmt 0 view .LVU1280
 3969 0042 D4F80032 		ldr	r3, [r4, #512]
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3970              		.loc 1 1258 27 view .LVU1281
 3971 0046 03EB4613 		add	r3, r3, r6, lsl #5
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3972              		.loc 1 1258 10 view .LVU1282
 3973 004a C4F81432 		str	r3, [r4, #532]
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3974              		.loc 1 1260 2 is_stmt 1 view .LVU1283
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3975              		.loc 1 1260 9 is_stmt 0 view .LVU1284
 3976 004e 0020     		movs	r0, #0
 3977              	.LVL430:
 3978              	.L322:
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3979              		.loc 1 1261 1 view .LVU1285
 3980 0050 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 3981              	.LVL431:
 3982              	.L324:
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 3983              		.loc 1 1225 4 is_stmt 1 view .LVU1286
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 3984              		.loc 1 1225 43 is_stmt 0 view .LVU1287
 3985 0054 D0F80002 		ldr	r0, [r0, #512]
 3986              	.LVL432:
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
ARM GAS  /tmp/cciFFPmJ.s 			page 130


 3987              		.loc 1 1225 47 view .LVU1288
 3988 0058 90F80222 		ldrb	r2, [r0, #514]	@ zero_extendqisi2
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 3989              		.loc 1 1225 55 view .LVU1289
 3990 005c 013A     		subs	r2, r2, #1
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 3991              		.loc 1 1225 7 view .LVU1290
 3992 005e 12EA1318 		ands	r8, r2, r3, lsr #4
 3993 0062 EBD1     		bne	.L323
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 3994              		.loc 1 1226 5 is_stmt 1 view .LVU1291
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 3995              		.loc 1 1226 12 is_stmt 0 view .LVU1292
 3996 0064 FFF7FEFF 		bl	get_fat
 3997              	.LVL433:
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 3998              		.loc 1 1226 12 view .LVU1293
 3999 0068 8146     		mov	r9, r0
 4000              	.LVL434:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4001              		.loc 1 1227 5 is_stmt 1 view .LVU1294
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4002              		.loc 1 1227 8 is_stmt 0 view .LVU1295
 4003 006a 0128     		cmp	r0, #1
 4004 006c 5AD9     		bls	.L331
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4005              		.loc 1 1228 5 is_stmt 1 view .LVU1296
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4006              		.loc 1 1228 8 is_stmt 0 view .LVU1297
 4007 006e B0F1FF3F 		cmp	r0, #-1
 4008 0072 59D0     		beq	.L332
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4009              		.loc 1 1229 5 is_stmt 1 view .LVU1298
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4010              		.loc 1 1229 19 is_stmt 0 view .LVU1299
 4011 0074 D4F80002 		ldr	r0, [r4, #512]
 4012              	.LVL435:
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4013              		.loc 1 1229 23 view .LVU1300
 4014 0078 D0F81432 		ldr	r3, [r0, #532]
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4015              		.loc 1 1229 8 view .LVU1301
 4016 007c 4B45     		cmp	r3, r9
 4017 007e 41D8     		bhi	.L325
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 4018              		.loc 1 1231 6 is_stmt 1 view .LVU1302
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 4019              		.loc 1 1231 9 is_stmt 0 view .LVU1303
 4020 0080 002F     		cmp	r7, #0
 4021 0082 53D0     		beq	.L333
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4022              		.loc 1 1232 6 is_stmt 1 view .LVU1304
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4023              		.loc 1 1232 13 is_stmt 0 view .LVU1305
 4024 0084 D4F80C12 		ldr	r1, [r4, #524]
 4025 0088 FFF7FEFF 		bl	create_chain
 4026              	.LVL436:
ARM GAS  /tmp/cciFFPmJ.s 			page 131


1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4027              		.loc 1 1233 6 is_stmt 1 view .LVU1306
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4028              		.loc 1 1233 9 is_stmt 0 view .LVU1307
 4029 008c 8146     		mov	r9, r0
 4030 008e 0028     		cmp	r0, #0
 4031 0090 4ED0     		beq	.L334
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4032              		.loc 1 1234 6 is_stmt 1 view .LVU1308
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4033              		.loc 1 1234 9 is_stmt 0 view .LVU1309
 4034 0092 0128     		cmp	r0, #1
 4035 0094 4ED0     		beq	.L335
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4036              		.loc 1 1235 6 is_stmt 1 view .LVU1310
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4037              		.loc 1 1235 9 is_stmt 0 view .LVU1311
 4038 0096 B0F1FF3F 		cmp	r0, #-1
 4039 009a 4DD0     		beq	.L336
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4040              		.loc 1 1237 6 is_stmt 1 view .LVU1312
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4041              		.loc 1 1237 10 is_stmt 0 view .LVU1313
 4042 009c D4F80002 		ldr	r0, [r4, #512]
 4043              	.LVL437:
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4044              		.loc 1 1237 10 view .LVU1314
 4045 00a0 FFF7FEFF 		bl	sync_window
 4046              	.LVL438:
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4047              		.loc 1 1237 9 view .LVU1315
 4048 00a4 08B1     		cbz	r0, .L341
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4049              		.loc 1 1237 38 view .LVU1316
 4050 00a6 0120     		movs	r0, #1
 4051 00a8 D2E7     		b	.L322
 4052              	.L341:
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 4053              		.loc 1 1238 6 is_stmt 1 view .LVU1317
 4054 00aa 4FF40072 		mov	r2, #512
 4055 00ae 0021     		movs	r1, #0
 4056 00b0 D4F80002 		ldr	r0, [r4, #512]
 4057 00b4 FFF7FEFF 		bl	mem_set
 4058              	.LVL439:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4059              		.loc 1 1239 6 view .LVU1318
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4060              		.loc 1 1239 24 is_stmt 0 view .LVU1319
 4061 00b8 D4F80072 		ldr	r7, [r4, #512]
 4062              	.LVL440:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4063              		.loc 1 1239 24 view .LVU1320
 4064 00bc 4946     		mov	r1, r9
 4065 00be 3846     		mov	r0, r7
 4066 00c0 FFF7FEFF 		bl	clust2sect
 4067              	.LVL441:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
ARM GAS  /tmp/cciFFPmJ.s 			page 132


 4068              		.loc 1 1239 22 view .LVU1321
 4069 00c4 C7F82C02 		str	r0, [r7, #556]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4070              		.loc 1 1240 6 is_stmt 1 view .LVU1322
 4071              	.LVL442:
 4072              	.L326:
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4073              		.loc 1 1240 18 discriminator 1 view .LVU1323
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4074              		.loc 1 1240 24 is_stmt 0 discriminator 1 view .LVU1324
 4075 00c8 D4F80032 		ldr	r3, [r4, #512]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4076              		.loc 1 1240 28 discriminator 1 view .LVU1325
 4077 00cc 93F80222 		ldrb	r2, [r3, #514]	@ zero_extendqisi2
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4078              		.loc 1 1240 6 discriminator 1 view .LVU1326
 4079 00d0 4245     		cmp	r2, r8
 4080 00d2 11D9     		bls	.L342
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
 4081              		.loc 1 1241 7 is_stmt 1 view .LVU1327
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
 4082              		.loc 1 1241 21 is_stmt 0 view .LVU1328
 4083 00d4 0122     		movs	r2, #1
 4084 00d6 83F80422 		strb	r2, [r3, #516]
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4085              		.loc 1 1242 7 is_stmt 1 view .LVU1329
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4086              		.loc 1 1242 11 is_stmt 0 view .LVU1330
 4087 00da D4F80002 		ldr	r0, [r4, #512]
 4088 00de FFF7FEFF 		bl	sync_window
 4089              	.LVL443:
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4090              		.loc 1 1242 10 view .LVU1331
 4091 00e2 58BB     		cbnz	r0, .L338
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4092              		.loc 1 1243 7 is_stmt 1 discriminator 2 view .LVU1332
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4093              		.loc 1 1243 9 is_stmt 0 discriminator 2 view .LVU1333
 4094 00e4 D4F80022 		ldr	r2, [r4, #512]
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4095              		.loc 1 1243 13 discriminator 2 view .LVU1334
 4096 00e8 D2F82C32 		ldr	r3, [r2, #556]
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4097              		.loc 1 1243 22 discriminator 2 view .LVU1335
 4098 00ec 0133     		adds	r3, r3, #1
 4099 00ee C2F82C32 		str	r3, [r2, #556]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4100              		.loc 1 1240 37 is_stmt 1 discriminator 2 view .LVU1336
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4101              		.loc 1 1240 38 is_stmt 0 discriminator 2 view .LVU1337
 4102 00f2 08F10108 		add	r8, r8, #1
 4103              	.LVL444:
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4104              		.loc 1 1240 38 discriminator 2 view .LVU1338
 4105 00f6 E7E7     		b	.L326
 4106              	.L342:
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/cciFFPmJ.s 			page 133


 4107              		.loc 1 1245 6 is_stmt 1 view .LVU1339
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4108              		.loc 1 1245 22 is_stmt 0 view .LVU1340
 4109 00f8 D3F82C22 		ldr	r2, [r3, #556]
 4110 00fc A2EB0802 		sub	r2, r2, r8
 4111 0100 C3F82C22 		str	r2, [r3, #556]
 4112              	.LVL445:
 4113              	.L325:
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
 4114              		.loc 1 1251 5 is_stmt 1 view .LVU1341
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
 4115              		.loc 1 1251 15 is_stmt 0 view .LVU1342
 4116 0104 C4F80C92 		str	r9, [r4, #524]
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4117              		.loc 1 1252 5 is_stmt 1 view .LVU1343
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4118              		.loc 1 1252 16 is_stmt 0 view .LVU1344
 4119 0108 4946     		mov	r1, r9
 4120 010a D4F80002 		ldr	r0, [r4, #512]
 4121 010e FFF7FEFF 		bl	clust2sect
 4122              	.LVL446:
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4123              		.loc 1 1252 14 view .LVU1345
 4124 0112 C4F81002 		str	r0, [r4, #528]
 4125 0116 91E7     		b	.L323
 4126              	.LVL447:
 4127              	.L328:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4128              		.loc 1 1215 10 view .LVU1346
 4129 0118 0420     		movs	r0, #4
 4130              	.LVL448:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4131              		.loc 1 1215 10 view .LVU1347
 4132 011a 99E7     		b	.L322
 4133              	.LVL449:
 4134              	.L329:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4135              		.loc 1 1215 10 view .LVU1348
 4136 011c 0420     		movs	r0, #4
 4137              	.LVL450:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4138              		.loc 1 1215 10 view .LVU1349
 4139 011e 97E7     		b	.L322
 4140              	.LVL451:
 4141              	.L340:
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4142              		.loc 1 1222 12 view .LVU1350
 4143 0120 0420     		movs	r0, #4
 4144              	.LVL452:
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4145              		.loc 1 1222 12 view .LVU1351
 4146 0122 95E7     		b	.L322
 4147              	.LVL453:
 4148              	.L331:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4149              		.loc 1 1227 27 view .LVU1352
 4150 0124 0220     		movs	r0, #2
ARM GAS  /tmp/cciFFPmJ.s 			page 134


 4151              	.LVL454:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4152              		.loc 1 1227 27 view .LVU1353
 4153 0126 93E7     		b	.L322
 4154              	.LVL455:
 4155              	.L332:
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4156              		.loc 1 1228 36 view .LVU1354
 4157 0128 0120     		movs	r0, #1
 4158              	.LVL456:
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4159              		.loc 1 1228 36 view .LVU1355
 4160 012a 91E7     		b	.L322
 4161              	.L333:
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 4162              		.loc 1 1231 27 view .LVU1356
 4163 012c 0420     		movs	r0, #4
 4164 012e 8FE7     		b	.L322
 4165              	.LVL457:
 4166              	.L334:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4167              		.loc 1 1233 28 view .LVU1357
 4168 0130 0720     		movs	r0, #7
 4169              	.LVL458:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4170              		.loc 1 1233 28 view .LVU1358
 4171 0132 8DE7     		b	.L322
 4172              	.LVL459:
 4173              	.L335:
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4174              		.loc 1 1234 28 view .LVU1359
 4175 0134 0220     		movs	r0, #2
 4176              	.LVL460:
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4177              		.loc 1 1234 28 view .LVU1360
 4178 0136 8BE7     		b	.L322
 4179              	.LVL461:
 4180              	.L336:
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4181              		.loc 1 1235 37 view .LVU1361
 4182 0138 0120     		movs	r0, #1
 4183              	.LVL462:
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4184              		.loc 1 1235 37 view .LVU1362
 4185 013a 89E7     		b	.L322
 4186              	.LVL463:
 4187              	.L338:
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4188              		.loc 1 1242 39 view .LVU1363
 4189 013c 0120     		movs	r0, #1
 4190 013e 87E7     		b	.L322
 4191              		.cfi_endproc
 4192              	.LFE84:
 4194              		.section	.text.dir_find,"ax",%progbits
 4195              		.align	1
 4196              		.syntax unified
 4197              		.thumb
ARM GAS  /tmp/cciFFPmJ.s 			page 135


 4198              		.thumb_func
 4199              		.fpu softvfp
 4201              	dir_find:
 4202              	.LVL464:
 4203              	.LFB88:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4204              		.loc 1 1531 1 is_stmt 1 view -0
 4205              		.cfi_startproc
 4206              		@ args = 0, pretend = 0, frame = 0
 4207              		@ frame_needed = 0, uses_anonymous_args = 0
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4208              		.loc 1 1531 1 is_stmt 0 view .LVU1365
 4209 0000 38B5     		push	{r3, r4, r5, lr}
 4210              	.LCFI38:
 4211              		.cfi_def_cfa_offset 16
 4212              		.cfi_offset 3, -16
 4213              		.cfi_offset 4, -12
 4214              		.cfi_offset 5, -8
 4215              		.cfi_offset 14, -4
 4216 0002 0446     		mov	r4, r0
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, *dir;
 4217              		.loc 1 1532 2 is_stmt 1 view .LVU1366
1533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4218              		.loc 1 1533 2 view .LVU1367
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4219              		.loc 1 1538 2 view .LVU1368
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4220              		.loc 1 1538 8 is_stmt 0 view .LVU1369
 4221 0004 0021     		movs	r1, #0
 4222 0006 FFF7FEFF 		bl	dir_sdi
 4223              	.LVL465:
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4224              		.loc 1 1539 2 is_stmt 1 view .LVU1370
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4225              		.loc 1 1539 5 is_stmt 0 view .LVU1371
 4226 000a 0546     		mov	r5, r0
 4227 000c 40B1     		cbz	r0, .L346
 4228              	.LVL466:
 4229              	.L344:
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4230              		.loc 1 1579 1 view .LVU1372
 4231 000e 2846     		mov	r0, r5
 4232 0010 38BD     		pop	{r3, r4, r5, pc}
 4233              	.LVL467:
 4234              	.L345:
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4235              		.loc 1 1575 3 is_stmt 1 view .LVU1373
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4236              		.loc 1 1575 9 is_stmt 0 view .LVU1374
 4237 0012 0021     		movs	r1, #0
 4238 0014 2046     		mov	r0, r4
 4239 0016 FFF7FEFF 		bl	dir_next
 4240              	.LVL468:
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4241              		.loc 1 1576 10 is_stmt 1 view .LVU1375
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4242              		.loc 1 1576 2 is_stmt 0 view .LVU1376
ARM GAS  /tmp/cciFFPmJ.s 			page 136


 4243 001a 0546     		mov	r5, r0
 4244 001c 0028     		cmp	r0, #0
 4245 001e F6D1     		bne	.L344
 4246              	.L346:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4247              		.loc 1 1544 2 is_stmt 1 view .LVU1377
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4248              		.loc 1 1545 3 view .LVU1378
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4249              		.loc 1 1545 9 is_stmt 0 view .LVU1379
 4250 0020 D4F81012 		ldr	r1, [r4, #528]
 4251 0024 D4F80002 		ldr	r0, [r4, #512]
 4252              	.LVL469:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4253              		.loc 1 1545 9 view .LVU1380
 4254 0028 FFF7FEFF 		bl	move_window
 4255              	.LVL470:
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4256              		.loc 1 1546 3 is_stmt 1 view .LVU1381
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4257              		.loc 1 1546 6 is_stmt 0 view .LVU1382
 4258 002c 0546     		mov	r5, r0
 4259 002e 0028     		cmp	r0, #0
 4260 0030 EDD1     		bne	.L344
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4261              		.loc 1 1547 3 is_stmt 1 view .LVU1383
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4262              		.loc 1 1547 7 is_stmt 0 view .LVU1384
 4263 0032 D4F81402 		ldr	r0, [r4, #532]
 4264              	.LVL471:
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4265              		.loc 1 1548 3 is_stmt 1 view .LVU1385
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4266              		.loc 1 1548 5 is_stmt 0 view .LVU1386
 4267 0036 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 4268              	.LVL472:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4269              		.loc 1 1549 3 is_stmt 1 view .LVU1387
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4270              		.loc 1 1549 6 is_stmt 0 view .LVU1388
 4271 0038 5BB1     		cbz	r3, .L347
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4272              		.loc 1 1572 3 is_stmt 1 view .LVU1389
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4273              		.loc 1 1572 12 is_stmt 0 view .LVU1390
 4274 003a C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
 4275              	.LVL473:
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4276              		.loc 1 1572 6 view .LVU1391
 4277 003c 13F0080F 		tst	r3, #8
 4278 0040 E7D1     		bne	.L345
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4279              		.loc 1 1572 37 discriminator 1 view .LVU1392
 4280 0042 0B22     		movs	r2, #11
 4281 0044 D4F81812 		ldr	r1, [r4, #536]
 4282 0048 FFF7FEFF 		bl	mem_cmp
 4283              	.LVL474:
ARM GAS  /tmp/cciFFPmJ.s 			page 137


1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4284              		.loc 1 1572 33 discriminator 1 view .LVU1393
 4285 004c 0028     		cmp	r0, #0
 4286 004e E0D1     		bne	.L345
 4287 0050 DDE7     		b	.L344
 4288              	.LVL475:
 4289              	.L347:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4290              		.loc 1 1549 21 view .LVU1394
 4291 0052 0425     		movs	r5, #4
 4292 0054 DBE7     		b	.L344
 4293              		.cfi_endproc
 4294              	.LFE88:
 4296              		.section	.text.follow_path,"ax",%progbits
 4297              		.align	1
 4298              		.syntax unified
 4299              		.thumb
 4300              		.thumb_func
 4301              		.fpu softvfp
 4303              	follow_path:
 4304              	.LVL476:
 4305              	.LFB94:
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4306              		.loc 1 2129 1 is_stmt 1 view -0
 4307              		.cfi_startproc
 4308              		@ args = 0, pretend = 0, frame = 8
 4309              		@ frame_needed = 0, uses_anonymous_args = 0
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4310              		.loc 1 2129 1 is_stmt 0 view .LVU1396
 4311 0000 10B5     		push	{r4, lr}
 4312              	.LCFI39:
 4313              		.cfi_def_cfa_offset 8
 4314              		.cfi_offset 4, -8
 4315              		.cfi_offset 14, -4
 4316 0002 82B0     		sub	sp, sp, #8
 4317              	.LCFI40:
 4318              		.cfi_def_cfa_offset 16
 4319 0004 0446     		mov	r4, r0
 4320 0006 0191     		str	r1, [sp, #4]
2130:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, ns;
 4321              		.loc 1 2130 2 is_stmt 1 view .LVU1397
2131:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4322              		.loc 1 2131 2 view .LVU1398
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4323              		.loc 1 2141 2 view .LVU1399
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4324              		.loc 1 2141 6 is_stmt 0 view .LVU1400
 4325 0008 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4326              		.loc 1 2141 5 view .LVU1401
 4327 000a 2F2B     		cmp	r3, #47
 4328 000c 01D0     		beq	.L350
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4329              		.loc 1 2141 19 discriminator 1 view .LVU1402
 4330 000e 5C2B     		cmp	r3, #92
 4331 0010 01D1     		bne	.L351
 4332              	.L350:
ARM GAS  /tmp/cciFFPmJ.s 			page 138


2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4333              		.loc 1 2142 3 is_stmt 1 view .LVU1403
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4334              		.loc 1 2142 7 is_stmt 0 view .LVU1404
 4335 0012 0131     		adds	r1, r1, #1
 4336              	.LVL477:
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4337              		.loc 1 2142 7 view .LVU1405
 4338 0014 0191     		str	r1, [sp, #4]
 4339              	.LVL478:
 4340              	.L351:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4341              		.loc 1 2143 2 is_stmt 1 view .LVU1406
2143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4342              		.loc 1 2143 13 is_stmt 0 view .LVU1407
 4343 0016 0023     		movs	r3, #0
 4344 0018 C4F80832 		str	r3, [r4, #520]
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4345              		.loc 1 2146 2 is_stmt 1 view .LVU1408
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4346              		.loc 1 2146 12 is_stmt 0 view .LVU1409
 4347 001c 019B     		ldr	r3, [sp, #4]
 4348 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4349              		.loc 1 2146 5 view .LVU1410
 4350 0020 1F2B     		cmp	r3, #31
 4351 0022 17D8     		bhi	.L352
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4352              		.loc 1 2147 3 is_stmt 1 view .LVU1411
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4353              		.loc 1 2147 9 is_stmt 0 view .LVU1412
 4354 0024 0021     		movs	r1, #0
 4355 0026 2046     		mov	r0, r4
 4356              	.LVL479:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4357              		.loc 1 2147 9 view .LVU1413
 4358 0028 FFF7FEFF 		bl	dir_sdi
 4359              	.LVL480:
 4360 002c 0346     		mov	r3, r0
 4361              	.LVL481:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
 4362              		.loc 1 2148 3 is_stmt 1 view .LVU1414
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
 4363              		.loc 1 2148 11 is_stmt 0 view .LVU1415
 4364 002e 0022     		movs	r2, #0
 4365 0030 C4F81422 		str	r2, [r4, #532]
 4366              	.LVL482:
 4367              	.L353:
2176:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4368              		.loc 1 2176 2 is_stmt 1 view .LVU1416
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4369              		.loc 1 2177 1 is_stmt 0 view .LVU1417
 4370 0034 1846     		mov	r0, r3
 4371 0036 02B0     		add	sp, sp, #8
 4372              	.LCFI41:
 4373              		.cfi_remember_state
 4374              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cciFFPmJ.s 			page 139


 4375              		@ sp needed
 4376 0038 10BD     		pop	{r4, pc}
 4377              	.LVL483:
 4378              	.L358:
 4379              	.LCFI42:
 4380              		.cfi_restore_state
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
 4381              		.loc 1 2156 5 is_stmt 1 view .LVU1418
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
 4382              		.loc 1 2156 8 is_stmt 0 view .LVU1419
 4383 003a 0428     		cmp	r0, #4
 4384 003c FAD1     		bne	.L353
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sclust = 0; dp->dir = 0;	/* it is the root directory and stay there */
 4385              		.loc 1 2157 6 is_stmt 1 view .LVU1420
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4386              		.loc 1 2162 7 view .LVU1421
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4387              		.loc 1 2162 10 is_stmt 0 view .LVU1422
 4388 003e 12F0040F 		tst	r2, #4
 4389 0042 F7D1     		bne	.L353
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4390              		.loc 1 2162 32 view .LVU1423
 4391 0044 0523     		movs	r3, #5
 4392 0046 F5E7     		b	.L353
 4393              	.LVL484:
 4394              	.L359:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4395              		.loc 1 2172 4 is_stmt 1 view .LVU1424
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4396              		.loc 1 2172 17 is_stmt 0 view .LVU1425
 4397 0048 D4F80002 		ldr	r0, [r4, #512]
 4398              	.LVL485:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4399              		.loc 1 2172 17 view .LVU1426
 4400 004c FFF7FEFF 		bl	ld_clust
 4401              	.LVL486:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4402              		.loc 1 2172 15 view .LVU1427
 4403 0050 C4F80802 		str	r0, [r4, #520]
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4404              		.loc 1 2150 9 is_stmt 1 view .LVU1428
 4405              	.L352:
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4406              		.loc 1 2150 3 view .LVU1429
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4407              		.loc 1 2151 4 view .LVU1430
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4408              		.loc 1 2151 10 is_stmt 0 view .LVU1431
 4409 0054 01A9     		add	r1, sp, #4
 4410 0056 2046     		mov	r0, r4
 4411 0058 FFF7FEFF 		bl	create_name
 4412              	.LVL487:
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
 4413              		.loc 1 2152 4 is_stmt 1 view .LVU1432
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
 4414              		.loc 1 2152 7 is_stmt 0 view .LVU1433
 4415 005c 0346     		mov	r3, r0
ARM GAS  /tmp/cciFFPmJ.s 			page 140


 4416 005e 0028     		cmp	r0, #0
 4417 0060 E8D1     		bne	.L353
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4418              		.loc 1 2153 4 is_stmt 1 view .LVU1434
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4419              		.loc 1 2153 10 is_stmt 0 view .LVU1435
 4420 0062 2046     		mov	r0, r4
 4421              	.LVL488:
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4422              		.loc 1 2153 10 view .LVU1436
 4423 0064 FFF7FEFF 		bl	dir_find
 4424              	.LVL489:
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4425              		.loc 1 2154 4 is_stmt 1 view .LVU1437
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4426              		.loc 1 2154 11 is_stmt 0 view .LVU1438
 4427 0068 D4F81832 		ldr	r3, [r4, #536]
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4428              		.loc 1 2154 7 view .LVU1439
 4429 006c DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 4430              	.LVL490:
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4431              		.loc 1 2155 4 is_stmt 1 view .LVU1440
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4432              		.loc 1 2155 7 is_stmt 0 view .LVU1441
 4433 006e 0346     		mov	r3, r0
 4434 0070 0028     		cmp	r0, #0
 4435 0072 E2D1     		bne	.L358
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
 4436              		.loc 1 2167 4 is_stmt 1 view .LVU1442
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
 4437              		.loc 1 2167 7 is_stmt 0 view .LVU1443
 4438 0074 12F0040F 		tst	r2, #4
 4439 0078 DCD1     		bne	.L353
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
 4440              		.loc 1 2168 4 is_stmt 1 view .LVU1444
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
 4441              		.loc 1 2168 8 is_stmt 0 view .LVU1445
 4442 007a D4F81412 		ldr	r1, [r4, #532]
 4443              	.LVL491:
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4444              		.loc 1 2169 4 is_stmt 1 view .LVU1446
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4445              		.loc 1 2169 13 is_stmt 0 view .LVU1447
 4446 007e CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4447              		.loc 1 2169 7 view .LVU1448
 4448 0080 13F0100F 		tst	r3, #16
 4449 0084 E0D1     		bne	.L359
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4450              		.loc 1 2170 9 view .LVU1449
 4451 0086 0523     		movs	r3, #5
 4452 0088 D4E7     		b	.L353
 4453              		.cfi_endproc
 4454              	.LFE94:
 4456              		.section	.text.dir_alloc,"ax",%progbits
 4457              		.align	1
ARM GAS  /tmp/cciFFPmJ.s 			page 141


 4458              		.syntax unified
 4459              		.thumb
 4460              		.thumb_func
 4461              		.fpu softvfp
 4463              	dir_alloc:
 4464              	.LVL492:
 4465              	.LFB85:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4466              		.loc 1 1276 1 is_stmt 1 view -0
 4467              		.cfi_startproc
 4468              		@ args = 0, pretend = 0, frame = 0
 4469              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4470              		.loc 1 1276 1 is_stmt 0 view .LVU1451
 4471 0000 70B5     		push	{r4, r5, r6, lr}
 4472              	.LCFI43:
 4473              		.cfi_def_cfa_offset 16
 4474              		.cfi_offset 4, -16
 4475              		.cfi_offset 5, -12
 4476              		.cfi_offset 6, -8
 4477              		.cfi_offset 14, -4
 4478 0002 0446     		mov	r4, r0
 4479 0004 0E46     		mov	r6, r1
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 4480              		.loc 1 1277 2 is_stmt 1 view .LVU1452
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4481              		.loc 1 1278 2 view .LVU1453
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4482              		.loc 1 1281 2 view .LVU1454
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4483              		.loc 1 1281 8 is_stmt 0 view .LVU1455
 4484 0006 0021     		movs	r1, #0
 4485              	.LVL493:
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4486              		.loc 1 1281 8 view .LVU1456
 4487 0008 FFF7FEFF 		bl	dir_sdi
 4488              	.LVL494:
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4489              		.loc 1 1282 2 is_stmt 1 view .LVU1457
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4490              		.loc 1 1282 5 is_stmt 0 view .LVU1458
 4491 000c 0246     		mov	r2, r0
 4492 000e D8B9     		cbnz	r0, .L361
1283:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4493              		.loc 1 1283 5 view .LVU1459
 4494 0010 0025     		movs	r5, #0
 4495 0012 08E0     		b	.L364
 4496              	.LVL495:
 4497              	.L362:
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4498              		.loc 1 1288 5 is_stmt 1 view .LVU1460
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4499              		.loc 1 1288 8 is_stmt 0 view .LVU1461
 4500 0014 0135     		adds	r5, r5, #1
 4501              	.LVL496:
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4502              		.loc 1 1288 8 view .LVU1462
ARM GAS  /tmp/cciFFPmJ.s 			page 142


 4503 0016 B542     		cmp	r5, r6
 4504 0018 16D0     		beq	.L361
 4505              	.LVL497:
 4506              	.L363:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4507              		.loc 1 1292 4 is_stmt 1 view .LVU1463
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4508              		.loc 1 1292 10 is_stmt 0 view .LVU1464
 4509 001a 0121     		movs	r1, #1
 4510 001c 2046     		mov	r0, r4
 4511              	.LVL498:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4512              		.loc 1 1292 10 view .LVU1465
 4513 001e FFF7FEFF 		bl	dir_next
 4514              	.LVL499:
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4515              		.loc 1 1293 11 is_stmt 1 view .LVU1466
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4516              		.loc 1 1293 3 is_stmt 0 view .LVU1467
 4517 0022 0246     		mov	r2, r0
 4518 0024 80B9     		cbnz	r0, .L361
 4519              	.LVL500:
 4520              	.L364:
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
 4521              		.loc 1 1284 3 is_stmt 1 view .LVU1468
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4522              		.loc 1 1285 4 view .LVU1469
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4523              		.loc 1 1285 10 is_stmt 0 view .LVU1470
 4524 0026 D4F81012 		ldr	r1, [r4, #528]
 4525 002a D4F80002 		ldr	r0, [r4, #512]
 4526              	.LVL501:
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4527              		.loc 1 1285 10 view .LVU1471
 4528 002e FFF7FEFF 		bl	move_window
 4529              	.LVL502:
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
 4530              		.loc 1 1286 4 is_stmt 1 view .LVU1472
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
 4531              		.loc 1 1286 7 is_stmt 0 view .LVU1473
 4532 0032 0246     		mov	r2, r0
 4533 0034 40B9     		cbnz	r0, .L361
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4534              		.loc 1 1287 4 is_stmt 1 view .LVU1474
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4535              		.loc 1 1287 10 is_stmt 0 view .LVU1475
 4536 0036 D4F81432 		ldr	r3, [r4, #532]
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4537              		.loc 1 1287 15 view .LVU1476
 4538 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4539              		.loc 1 1287 7 view .LVU1477
 4540 003c E52B     		cmp	r3, #229
 4541 003e E9D0     		beq	.L362
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4542              		.loc 1 1287 27 discriminator 1 view .LVU1478
 4543 0040 002B     		cmp	r3, #0
ARM GAS  /tmp/cciFFPmJ.s 			page 143


 4544 0042 E7D0     		beq	.L362
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4545              		.loc 1 1290 7 view .LVU1479
 4546 0044 0025     		movs	r5, #0
 4547              	.LVL503:
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4548              		.loc 1 1290 7 view .LVU1480
 4549 0046 E8E7     		b	.L363
 4550              	.L361:
 4551              	.LVL504:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4552              		.loc 1 1295 2 is_stmt 1 view .LVU1481
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4553              		.loc 1 1295 5 is_stmt 0 view .LVU1482
 4554 0048 042A     		cmp	r2, #4
 4555 004a 01D0     		beq	.L369
 4556              	.LVL505:
 4557              	.L365:
1296:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4558              		.loc 1 1296 2 is_stmt 1 view .LVU1483
1297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4559              		.loc 1 1297 1 is_stmt 0 view .LVU1484
 4560 004c 1046     		mov	r0, r2
 4561 004e 70BD     		pop	{r4, r5, r6, pc}
 4562              	.LVL506:
 4563              	.L369:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4564              		.loc 1 1295 29 view .LVU1485
 4565 0050 0722     		movs	r2, #7
 4566              	.LVL507:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4567              		.loc 1 1295 29 view .LVU1486
 4568 0052 FBE7     		b	.L365
 4569              		.cfi_endproc
 4570              	.LFE85:
 4572              		.section	.text.dir_register,"ax",%progbits
 4573              		.align	1
 4574              		.syntax unified
 4575              		.thumb
 4576              		.thumb_func
 4577              		.fpu softvfp
 4579              	dir_register:
 4580              	.LVL508:
 4581              	.LFB90:
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4582              		.loc 1 1651 1 is_stmt 1 view -0
 4583              		.cfi_startproc
 4584              		@ args = 0, pretend = 0, frame = 0
 4585              		@ frame_needed = 0, uses_anonymous_args = 0
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4586              		.loc 1 1651 1 is_stmt 0 view .LVU1488
 4587 0000 38B5     		push	{r3, r4, r5, lr}
 4588              	.LCFI44:
 4589              		.cfi_def_cfa_offset 16
 4590              		.cfi_offset 3, -16
 4591              		.cfi_offset 4, -12
 4592              		.cfi_offset 5, -8
ARM GAS  /tmp/cciFFPmJ.s 			page 144


 4593              		.cfi_offset 14, -4
 4594 0002 0446     		mov	r4, r0
1652:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4595              		.loc 1 1652 2 is_stmt 1 view .LVU1489
1699:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4596              		.loc 1 1699 2 view .LVU1490
1699:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4597              		.loc 1 1699 8 is_stmt 0 view .LVU1491
 4598 0004 0121     		movs	r1, #1
 4599 0006 FFF7FEFF 		bl	dir_alloc
 4600              	.LVL509:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4601              		.loc 1 1702 2 is_stmt 1 view .LVU1492
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4602              		.loc 1 1702 5 is_stmt 0 view .LVU1493
 4603 000a 0546     		mov	r5, r0
 4604 000c 08B1     		cbz	r0, .L373
 4605              	.LVL510:
 4606              	.L371:
1714:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4607              		.loc 1 1714 2 is_stmt 1 view .LVU1494
1715:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 4608              		.loc 1 1715 1 is_stmt 0 view .LVU1495
 4609 000e 2846     		mov	r0, r5
 4610 0010 38BD     		pop	{r3, r4, r5, pc}
 4611              	.LVL511:
 4612              	.L373:
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4613              		.loc 1 1703 3 is_stmt 1 view .LVU1496
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4614              		.loc 1 1703 9 is_stmt 0 view .LVU1497
 4615 0012 D4F81012 		ldr	r1, [r4, #528]
 4616 0016 D4F80002 		ldr	r0, [r4, #512]
 4617              	.LVL512:
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4618              		.loc 1 1703 9 view .LVU1498
 4619 001a FFF7FEFF 		bl	move_window
 4620              	.LVL513:
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
 4621              		.loc 1 1704 3 is_stmt 1 view .LVU1499
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
 4622              		.loc 1 1704 6 is_stmt 0 view .LVU1500
 4623 001e 0546     		mov	r5, r0
 4624 0020 0028     		cmp	r0, #0
 4625 0022 F4D1     		bne	.L371
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 4626              		.loc 1 1705 4 is_stmt 1 view .LVU1501
 4627 0024 2022     		movs	r2, #32
 4628 0026 0021     		movs	r1, #0
 4629 0028 D4F81402 		ldr	r0, [r4, #532]
 4630              	.LVL514:
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 4631              		.loc 1 1705 4 is_stmt 0 view .LVU1502
 4632 002c FFF7FEFF 		bl	mem_set
 4633              	.LVL515:
1706:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4634              		.loc 1 1706 4 is_stmt 1 view .LVU1503
ARM GAS  /tmp/cciFFPmJ.s 			page 145


 4635 0030 0B22     		movs	r2, #11
 4636 0032 D4F81812 		ldr	r1, [r4, #536]
 4637 0036 D4F81402 		ldr	r0, [r4, #532]
 4638 003a FFF7FEFF 		bl	mem_cpy
 4639              	.LVL516:
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4640              		.loc 1 1710 4 view .LVU1504
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4641              		.loc 1 1710 6 is_stmt 0 view .LVU1505
 4642 003e D4F80032 		ldr	r3, [r4, #512]
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4643              		.loc 1 1710 18 view .LVU1506
 4644 0042 0122     		movs	r2, #1
 4645 0044 83F80422 		strb	r2, [r3, #516]
 4646 0048 E1E7     		b	.L371
 4647              		.cfi_endproc
 4648              	.LFE90:
 4650              		.section	.text.dir_read,"ax",%progbits
 4651              		.align	1
 4652              		.syntax unified
 4653              		.thumb
 4654              		.thumb_func
 4655              		.fpu softvfp
 4657              	dir_read:
 4658              	.LVL517:
 4659              	.LFB89:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4660              		.loc 1 1593 1 is_stmt 1 view -0
 4661              		.cfi_startproc
 4662              		@ args = 0, pretend = 0, frame = 0
 4663              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4664              		.loc 1 1593 1 is_stmt 0 view .LVU1508
 4665 0000 70B5     		push	{r4, r5, r6, lr}
 4666              	.LCFI45:
 4667              		.cfi_def_cfa_offset 16
 4668              		.cfi_offset 4, -16
 4669              		.cfi_offset 5, -12
 4670              		.cfi_offset 6, -8
 4671              		.cfi_offset 14, -4
 4672 0002 0446     		mov	r4, r0
 4673 0004 0D46     		mov	r5, r1
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c, *dir;
 4674              		.loc 1 1594 2 is_stmt 1 view .LVU1509
1595:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4675              		.loc 1 1595 2 view .LVU1510
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 4676              		.loc 1 1600 2 view .LVU1511
 4677              	.LVL518:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4678              		.loc 1 1601 2 view .LVU1512
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 4679              		.loc 1 1600 6 is_stmt 0 view .LVU1513
 4680 0006 0426     		movs	r6, #4
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4681              		.loc 1 1601 8 view .LVU1514
 4682 0008 05E0     		b	.L375
ARM GAS  /tmp/cciFFPmJ.s 			page 146


 4683              	.LVL519:
 4684              	.L377:
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4685              		.loc 1 1630 3 is_stmt 1 view .LVU1515
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4686              		.loc 1 1630 9 is_stmt 0 view .LVU1516
 4687 000a 0021     		movs	r1, #0
 4688 000c 2046     		mov	r0, r4
 4689              	.LVL520:
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4690              		.loc 1 1630 9 view .LVU1517
 4691 000e FFF7FEFF 		bl	dir_next
 4692              	.LVL521:
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4693              		.loc 1 1631 3 is_stmt 1 view .LVU1518
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4694              		.loc 1 1631 6 is_stmt 0 view .LVU1519
 4695 0012 0646     		mov	r6, r0
 4696 0014 F8B9     		cbnz	r0, .L376
 4697              	.LVL522:
 4698              	.L375:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4699              		.loc 1 1601 8 is_stmt 1 view .LVU1520
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4700              		.loc 1 1601 11 is_stmt 0 view .LVU1521
 4701 0016 D4F81012 		ldr	r1, [r4, #528]
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4702              		.loc 1 1601 8 view .LVU1522
 4703 001a E1B1     		cbz	r1, .L376
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4704              		.loc 1 1602 3 is_stmt 1 view .LVU1523
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4705              		.loc 1 1602 9 is_stmt 0 view .LVU1524
 4706 001c D4F80002 		ldr	r0, [r4, #512]
 4707 0020 FFF7FEFF 		bl	move_window
 4708              	.LVL523:
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4709              		.loc 1 1603 3 is_stmt 1 view .LVU1525
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4710              		.loc 1 1603 6 is_stmt 0 view .LVU1526
 4711 0024 0646     		mov	r6, r0
 4712 0026 B0B9     		cbnz	r0, .L376
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4713              		.loc 1 1604 3 is_stmt 1 view .LVU1527
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4714              		.loc 1 1604 7 is_stmt 0 view .LVU1528
 4715 0028 D4F81432 		ldr	r3, [r4, #532]
 4716              	.LVL524:
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4717              		.loc 1 1605 3 is_stmt 1 view .LVU1529
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4718              		.loc 1 1605 5 is_stmt 0 view .LVU1530
 4719 002c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 4720              	.LVL525:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 4721              		.loc 1 1606 3 is_stmt 1 view .LVU1531
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
ARM GAS  /tmp/cciFFPmJ.s 			page 147


 4722              		.loc 1 1606 6 is_stmt 0 view .LVU1532
 4723 002e 8AB1     		cbz	r2, .L380
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4724              		.loc 1 1607 3 is_stmt 1 view .LVU1533
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4725              		.loc 1 1607 10 is_stmt 0 view .LVU1534
 4726 0030 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 4727              	.LVL526:
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4728              		.loc 1 1607 5 view .LVU1535
 4729 0032 03F03F03 		and	r3, r3, #63
 4730              	.LVL527:
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4731              		.loc 1 1627 3 is_stmt 1 view .LVU1536
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4732              		.loc 1 1627 6 is_stmt 0 view .LVU1537
 4733 0036 E52A     		cmp	r2, #229
 4734 0038 E7D0     		beq	.L377
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4735              		.loc 1 1627 17 discriminator 1 view .LVU1538
 4736 003a 2E2A     		cmp	r2, #46
 4737 003c E5D0     		beq	.L377
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4738              		.loc 1 1627 44 discriminator 2 view .LVU1539
 4739 003e 0F2B     		cmp	r3, #15
 4740 0040 E3D0     		beq	.L377
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4741              		.loc 1 1627 71 discriminator 3 view .LVU1540
 4742 0042 23F02003 		bic	r3, r3, #32
 4743              	.LVL528:
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4744              		.loc 1 1627 62 discriminator 3 view .LVU1541
 4745 0046 082B     		cmp	r3, #8
 4746 0048 14BF     		ite	ne
 4747 004a 0023     		movne	r3, #0
 4748 004c 0123     		moveq	r3, #1
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4749              		.loc 1 1627 59 discriminator 3 view .LVU1542
 4750 004e AB42     		cmp	r3, r5
 4751 0050 DBD1     		bne	.L377
 4752 0052 00E0     		b	.L376
 4753              	.LVL529:
 4754              	.L380:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 4755              		.loc 1 1606 21 view .LVU1543
 4756 0054 0426     		movs	r6, #4
 4757              	.LVL530:
 4758              	.L376:
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4759              		.loc 1 1634 2 is_stmt 1 view .LVU1544
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4760              		.loc 1 1634 5 is_stmt 0 view .LVU1545
 4761 0056 16B1     		cbz	r6, .L379
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4762              		.loc 1 1634 20 is_stmt 1 discriminator 1 view .LVU1546
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4763              		.loc 1 1634 29 is_stmt 0 discriminator 1 view .LVU1547
ARM GAS  /tmp/cciFFPmJ.s 			page 148


 4764 0058 0023     		movs	r3, #0
 4765 005a C4F81032 		str	r3, [r4, #528]
 4766              	.L379:
1636:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4767              		.loc 1 1636 2 is_stmt 1 view .LVU1548
1637:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
 4768              		.loc 1 1637 1 is_stmt 0 view .LVU1549
 4769 005e 3046     		mov	r0, r6
 4770 0060 70BD     		pop	{r4, r5, r6, pc}
1637:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
 4771              		.loc 1 1637 1 view .LVU1550
 4772              		.cfi_endproc
 4773              	.LFE89:
 4775              		.section	.text.remove_chain,"ax",%progbits
 4776              		.align	1
 4777              		.syntax unified
 4778              		.thumb
 4779              		.thumb_func
 4780              		.fpu softvfp
 4782              	remove_chain:
 4783              	.LVL531:
 4784              	.LFB80:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4785              		.loc 1 1014 1 is_stmt 1 view -0
 4786              		.cfi_startproc
 4787              		@ args = 0, pretend = 0, frame = 0
 4788              		@ frame_needed = 0, uses_anonymous_args = 0
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4789              		.loc 1 1014 1 is_stmt 0 view .LVU1552
 4790 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4791              	.LCFI46:
 4792              		.cfi_def_cfa_offset 24
 4793              		.cfi_offset 3, -24
 4794              		.cfi_offset 4, -20
 4795              		.cfi_offset 5, -16
 4796              		.cfi_offset 6, -12
 4797              		.cfi_offset 7, -8
 4798              		.cfi_offset 14, -4
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
 4799              		.loc 1 1015 2 is_stmt 1 view .LVU1553
1016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
 4800              		.loc 1 1016 2 view .LVU1554
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4801              		.loc 1 1021 2 view .LVU1555
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4802              		.loc 1 1021 5 is_stmt 0 view .LVU1556
 4803 0002 0129     		cmp	r1, #1
 4804 0004 2DD9     		bls	.L387
 4805 0006 0446     		mov	r4, r0
 4806 0008 0D46     		mov	r5, r1
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4807              		.loc 1 1021 28 discriminator 1 view .LVU1557
 4808 000a D0F81432 		ldr	r3, [r0, #532]
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4809              		.loc 1 1021 15 discriminator 1 view .LVU1558
 4810 000e 8B42     		cmp	r3, r1
 4811 0010 2AD9     		bls	.L388
ARM GAS  /tmp/cciFFPmJ.s 			page 149


1025:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
 4812              		.loc 1 1025 7 view .LVU1559
 4813 0012 0027     		movs	r7, #0
 4814 0014 09E0     		b	.L384
 4815              	.LVL532:
 4816              	.L392:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
 4817              		.loc 1 1034 5 is_stmt 1 view .LVU1560
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
 4818              		.loc 1 1034 19 is_stmt 0 view .LVU1561
 4819 0016 0133     		adds	r3, r3, #1
 4820 0018 C4F81032 		str	r3, [r4, #528]
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4821              		.loc 1 1035 5 is_stmt 1 view .LVU1562
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4822              		.loc 1 1035 18 is_stmt 0 view .LVU1563
 4823 001c 94F80532 		ldrb	r3, [r4, #517]	@ zero_extendqisi2
 4824 0020 43F00103 		orr	r3, r3, #1
 4825 0024 84F80532 		strb	r3, [r4, #517]
 4826              	.L385:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4827              		.loc 1 1014 1 view .LVU1564
 4828 0028 3546     		mov	r5, r6
 4829              	.LVL533:
 4830              	.L384:
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 4831              		.loc 1 1026 9 is_stmt 1 view .LVU1565
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 4832              		.loc 1 1026 19 is_stmt 0 view .LVU1566
 4833 002a D4F81432 		ldr	r3, [r4, #532]
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 4834              		.loc 1 1026 9 view .LVU1567
 4835 002e AB42     		cmp	r3, r5
 4836 0030 18D9     		bls	.L383
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
 4837              		.loc 1 1027 4 is_stmt 1 view .LVU1568
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
 4838              		.loc 1 1027 10 is_stmt 0 view .LVU1569
 4839 0032 2946     		mov	r1, r5
 4840 0034 2046     		mov	r0, r4
 4841 0036 FFF7FEFF 		bl	get_fat
 4842              	.LVL534:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
 4843              		.loc 1 1028 4 is_stmt 1 view .LVU1570
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
 4844              		.loc 1 1028 7 is_stmt 0 view .LVU1571
 4845 003a 0646     		mov	r6, r0
 4846 003c 90B1     		cbz	r0, .L383
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4847              		.loc 1 1029 4 is_stmt 1 view .LVU1572
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4848              		.loc 1 1029 7 is_stmt 0 view .LVU1573
 4849 003e 0128     		cmp	r0, #1
 4850 0040 14D0     		beq	.L389
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4851              		.loc 1 1030 4 is_stmt 1 view .LVU1574
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
ARM GAS  /tmp/cciFFPmJ.s 			page 150


 4852              		.loc 1 1030 7 is_stmt 0 view .LVU1575
 4853 0042 B0F1FF3F 		cmp	r0, #-1
 4854 0046 13D0     		beq	.L390
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4855              		.loc 1 1031 4 is_stmt 1 view .LVU1576
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4856              		.loc 1 1031 10 is_stmt 0 view .LVU1577
 4857 0048 0022     		movs	r2, #0
 4858 004a 2946     		mov	r1, r5
 4859 004c 2046     		mov	r0, r4
 4860              	.LVL535:
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4861              		.loc 1 1031 10 view .LVU1578
 4862 004e FFF7FEFF 		bl	put_fat
 4863              	.LVL536:
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
 4864              		.loc 1 1032 4 is_stmt 1 view .LVU1579
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
 4865              		.loc 1 1032 7 is_stmt 0 view .LVU1580
 4866 0052 0746     		mov	r7, r0
 4867 0054 30B9     		cbnz	r0, .L383
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 4868              		.loc 1 1033 4 is_stmt 1 view .LVU1581
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 4869              		.loc 1 1033 10 is_stmt 0 view .LVU1582
 4870 0056 D4F81032 		ldr	r3, [r4, #528]
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 4871              		.loc 1 1033 7 view .LVU1583
 4872 005a B3F1FF3F 		cmp	r3, #-1
 4873 005e DAD1     		bne	.L392
 4874 0060 E2E7     		b	.L385
 4875              	.LVL537:
 4876              	.L387:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4877              		.loc 1 1022 7 view .LVU1584
 4878 0062 0227     		movs	r7, #2
 4879              	.LVL538:
 4880              	.L383:
1051:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4881              		.loc 1 1051 2 is_stmt 1 view .LVU1585
1052:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4882              		.loc 1 1052 1 is_stmt 0 view .LVU1586
 4883 0064 3846     		mov	r0, r7
 4884 0066 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4885              	.LVL539:
 4886              	.L388:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4887              		.loc 1 1022 7 view .LVU1587
 4888 0068 0227     		movs	r7, #2
 4889 006a FBE7     		b	.L383
 4890              	.LVL540:
 4891              	.L389:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4892              		.loc 1 1029 24 view .LVU1588
 4893 006c 0227     		movs	r7, #2
 4894              	.LVL541:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
ARM GAS  /tmp/cciFFPmJ.s 			page 151


 4895              		.loc 1 1029 24 view .LVU1589
 4896 006e F9E7     		b	.L383
 4897              	.LVL542:
 4898              	.L390:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4899              		.loc 1 1030 33 view .LVU1590
 4900 0070 0127     		movs	r7, #1
 4901              	.LVL543:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4902              		.loc 1 1030 33 view .LVU1591
 4903 0072 F7E7     		b	.L383
 4904              		.cfi_endproc
 4905              	.LFE80:
 4907              		.section	.text.f_mount,"ax",%progbits
 4908              		.align	1
 4909              		.global	f_mount
 4910              		.syntax unified
 4911              		.thumb
 4912              		.thumb_func
 4913              		.fpu softvfp
 4915              	f_mount:
 4916              	.LVL544:
 4917              	.LFB99:
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** 
2462:Middlewares/Third_Party/FatFs/src/ff.c **** 
2463:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 
2465:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 
2467:Middlewares/Third_Party/FatFs/src/ff.c **** --------------------------------------------------------------------------*/
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 
2471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
2473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 
2475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
2478:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* 0:Do not mount (delayed mount), 1:Mount immediately */
2479:Middlewares/Third_Party/FatFs/src/ff.c **** )
2480:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4918              		.loc 1 2480 1 is_stmt 1 view -0
 4919              		.cfi_startproc
 4920              		@ args = 0, pretend = 0, frame = 16
 4921              		@ frame_needed = 0, uses_anonymous_args = 0
 4922              		.loc 1 2480 1 is_stmt 0 view .LVU1593
 4923 0000 70B5     		push	{r4, r5, r6, lr}
 4924              	.LCFI47:
 4925              		.cfi_def_cfa_offset 16
 4926              		.cfi_offset 4, -16
 4927              		.cfi_offset 5, -12
 4928              		.cfi_offset 6, -8
 4929              		.cfi_offset 14, -4
ARM GAS  /tmp/cciFFPmJ.s 			page 152


 4930 0002 84B0     		sub	sp, sp, #16
 4931              	.LCFI48:
 4932              		.cfi_def_cfa_offset 32
 4933 0004 0190     		str	r0, [sp, #4]
 4934 0006 0091     		str	r1, [sp]
 4935 0008 1646     		mov	r6, r2
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 4936              		.loc 1 2481 2 is_stmt 1 view .LVU1594
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 4937              		.loc 1 2482 2 view .LVU1595
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4938              		.loc 1 2483 2 view .LVU1596
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 4939              		.loc 1 2484 2 view .LVU1597
 4940              		.loc 1 2484 15 is_stmt 0 view .LVU1598
 4941 000a 0391     		str	r1, [sp, #12]
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
 4942              		.loc 1 2487 2 is_stmt 1 view .LVU1599
 4943              		.loc 1 2487 8 is_stmt 0 view .LVU1600
 4944 000c 03A8     		add	r0, sp, #12
 4945              	.LVL545:
 4946              		.loc 1 2487 8 view .LVU1601
 4947 000e FFF7FEFF 		bl	get_ldnumber
 4948              	.LVL546:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 4949              		.loc 1 2488 2 is_stmt 1 view .LVU1602
 4950              		.loc 1 2488 5 is_stmt 0 view .LVU1603
 4951 0012 041E     		subs	r4, r0, #0
 4952 0014 1DDB     		blt	.L397
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 4953              		.loc 1 2489 2 is_stmt 1 view .LVU1604
 4954              		.loc 1 2489 6 is_stmt 0 view .LVU1605
 4955 0016 114B     		ldr	r3, .L402
 4956 0018 53F82450 		ldr	r5, [r3, r4, lsl #2]
 4957              	.LVL547:
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
 4958              		.loc 1 2491 2 is_stmt 1 view .LVU1606
 4959              		.loc 1 2491 5 is_stmt 0 view .LVU1607
 4960 001c 2DB1     		cbz	r5, .L395
2492:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
 4961              		.loc 1 2493 3 is_stmt 1 view .LVU1608
 4962 001e 2846     		mov	r0, r5
 4963              	.LVL548:
 4964              		.loc 1 2493 3 is_stmt 0 view .LVU1609
 4965 0020 FFF7FEFF 		bl	clear_lock
 4966              	.LVL549:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2495:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
2496:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
2497:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
 4967              		.loc 1 2498 3 is_stmt 1 view .LVU1610
 4968              		.loc 1 2498 16 is_stmt 0 view .LVU1611
ARM GAS  /tmp/cciFFPmJ.s 			page 153


 4969 0024 0023     		movs	r3, #0
 4970 0026 85F80032 		strb	r3, [r5, #512]
 4971              	.L395:
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
 4972              		.loc 1 2501 2 is_stmt 1 view .LVU1612
 4973              		.loc 1 2501 6 is_stmt 0 view .LVU1613
 4974 002a 019B     		ldr	r3, [sp, #4]
 4975              		.loc 1 2501 5 view .LVU1614
 4976 002c 13B1     		cbz	r3, .L396
2502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 4977              		.loc 1 2502 3 is_stmt 1 view .LVU1615
 4978              		.loc 1 2502 15 is_stmt 0 view .LVU1616
 4979 002e 0022     		movs	r2, #0
 4980 0030 83F80022 		strb	r2, [r3, #512]
 4981              	.L396:
2503:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
2505:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
 4982              		.loc 1 2507 2 is_stmt 1 view .LVU1617
 4983              		.loc 1 2507 13 is_stmt 0 view .LVU1618
 4984 0034 094A     		ldr	r2, .L402
 4985 0036 42F82430 		str	r3, [r2, r4, lsl #2]
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
 4986              		.loc 1 2509 2 is_stmt 1 view .LVU1619
 4987              		.loc 1 2509 5 is_stmt 0 view .LVU1620
 4988 003a 63B1     		cbz	r3, .L398
 4989              		.loc 1 2509 10 discriminator 2 view .LVU1621
 4990 003c 012E     		cmp	r6, #1
 4991 003e 02D0     		beq	.L401
 4992              		.loc 1 2509 30 view .LVU1622
 4993 0040 0020     		movs	r0, #0
 4994              	.LVL550:
 4995              	.L394:
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);	/* Force mounted the volume */
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
2513:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4996              		.loc 1 2513 1 view .LVU1623
 4997 0042 04B0     		add	sp, sp, #16
 4998              	.LCFI49:
 4999              		.cfi_remember_state
 5000              		.cfi_def_cfa_offset 16
 5001              		@ sp needed
 5002 0044 70BD     		pop	{r4, r5, r6, pc}
 5003              	.LVL551:
 5004              	.L401:
 5005              	.LCFI50:
 5006              		.cfi_restore_state
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5007              		.loc 1 2511 2 is_stmt 1 view .LVU1624
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5008              		.loc 1 2511 8 is_stmt 0 view .LVU1625
ARM GAS  /tmp/cciFFPmJ.s 			page 154


 5009 0046 0022     		movs	r2, #0
 5010 0048 6946     		mov	r1, sp
 5011 004a 01A8     		add	r0, sp, #4
 5012 004c FFF7FEFF 		bl	find_volume
 5013              	.LVL552:
2512:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5014              		.loc 1 2512 2 is_stmt 1 view .LVU1626
 5015 0050 F7E7     		b	.L394
 5016              	.LVL553:
 5017              	.L397:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5018              		.loc 1 2488 22 is_stmt 0 view .LVU1627
 5019 0052 0B20     		movs	r0, #11
 5020              	.LVL554:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5021              		.loc 1 2488 22 view .LVU1628
 5022 0054 F5E7     		b	.L394
 5023              	.LVL555:
 5024              	.L398:
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5025              		.loc 1 2509 30 view .LVU1629
 5026 0056 0020     		movs	r0, #0
 5027 0058 F3E7     		b	.L394
 5028              	.L403:
 5029 005a 00BF     		.align	2
 5030              	.L402:
 5031 005c 00000000 		.word	.LANCHOR2
 5032              		.cfi_endproc
 5033              	.LFE99:
 5035              		.section	.text.f_open,"ax",%progbits
 5036              		.align	1
 5037              		.global	f_open
 5038              		.syntax unified
 5039              		.thumb
 5040              		.thumb_func
 5041              		.fpu softvfp
 5043              	f_open:
 5044              	.LVL556:
 5045              	.LFB100:
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2519:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
2520:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 
2522:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
2526:Middlewares/Third_Party/FatFs/src/ff.c **** )
2527:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5046              		.loc 1 2527 1 is_stmt 1 view -0
 5047              		.cfi_startproc
 5048              		@ args = 0, pretend = 0, frame = 568
 5049              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cciFFPmJ.s 			page 155


 5050              		.loc 1 2527 1 is_stmt 0 view .LVU1631
 5051 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5052              	.LCFI51:
 5053              		.cfi_def_cfa_offset 28
 5054              		.cfi_offset 4, -28
 5055              		.cfi_offset 5, -24
 5056              		.cfi_offset 6, -20
 5057              		.cfi_offset 7, -16
 5058              		.cfi_offset 8, -12
 5059              		.cfi_offset 9, -8
 5060              		.cfi_offset 14, -4
 5061 0004 ADF50F7D 		sub	sp, sp, #572
 5062              	.LCFI52:
 5063              		.cfi_def_cfa_offset 600
 5064 0008 0191     		str	r1, [sp, #4]
2528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5065              		.loc 1 2528 2 is_stmt 1 view .LVU1632
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 5066              		.loc 1 2529 2 view .LVU1633
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 5067              		.loc 1 2530 2 view .LVU1634
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 5068              		.loc 1 2531 2 view .LVU1635
2532:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl;
 5069              		.loc 1 2533 2 view .LVU1636
2534:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** 
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
 5070              		.loc 1 2537 2 view .LVU1637
 5071              		.loc 1 2537 5 is_stmt 0 view .LVU1638
 5072 000a 0028     		cmp	r0, #0
 5073 000c 00F0E980 		beq	.L414
 5074 0010 1446     		mov	r4, r2
 5075 0012 0646     		mov	r6, r0
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->fs = 0;			/* Clear file object */
 5076              		.loc 1 2538 2 is_stmt 1 view .LVU1639
 5077              		.loc 1 2538 9 is_stmt 0 view .LVU1640
 5078 0014 0023     		movs	r3, #0
 5079 0016 C0F80032 		str	r3, [r0, #512]
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2541:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2542:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW;
 5080              		.loc 1 2542 2 is_stmt 1 view .LVU1641
 5081              		.loc 1 2542 7 is_stmt 0 view .LVU1642
 5082 001a 02F01F07 		and	r7, r2, #31
 5083              	.LVL557:
2543:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, (BYTE)(mode & ~FA_READ));
 5084              		.loc 1 2543 2 is_stmt 1 view .LVU1643
 5085              		.loc 1 2543 8 is_stmt 0 view .LVU1644
 5086 001e 02F01E02 		and	r2, r2, #30
 5087 0022 01A9     		add	r1, sp, #4
 5088              	.LVL558:
 5089              		.loc 1 2543 8 view .LVU1645
 5090 0024 86A8     		add	r0, sp, #536
ARM GAS  /tmp/cciFFPmJ.s 			page 156


 5091              	.LVL559:
 5092              		.loc 1 2543 8 view .LVU1646
 5093 0026 FFF7FEFF 		bl	find_volume
 5094              	.LVL560:
2544:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2545:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ;
2546:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2547:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2548:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5095              		.loc 1 2548 2 is_stmt 1 view .LVU1647
 5096              		.loc 1 2548 5 is_stmt 0 view .LVU1648
 5097 002a 0546     		mov	r5, r0
 5098 002c 20B1     		cbz	r0, .L423
 5099              	.LVL561:
 5100              	.L405:
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2557:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
2559:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2566:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
2567:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
2569:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
2576:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW)	/* Cannot create as new file */
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
ARM GAS  /tmp/cciFFPmJ.s 			page 157


2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Follow succeeded */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dir[DIR_Attr] & AM_RDO)) /* R/O violation */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2607:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
2613:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
2614:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
2617:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2618:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 
2620:Middlewares/Third_Party/FatFs/src/ff.c **** #else				/* R/O configuration */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow succeeded */
2622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
2623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Current directory itself */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR)	/* It is a directory */
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2630:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
2640:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;						/* Normal seek mode */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fs = dj.fs;	 					/* Validate file object */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cciFFPmJ.s 			page 158


2648:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
2649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5101              		.loc 1 2649 1 view .LVU1649
 5102 002e 2846     		mov	r0, r5
 5103 0030 0DF50F7D 		add	sp, sp, #572
 5104              	.LCFI53:
 5105              		.cfi_remember_state
 5106              		.cfi_def_cfa_offset 28
 5107              		@ sp needed
 5108 0034 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5109              	.LVL562:
 5110              	.L423:
 5111              	.LCFI54:
 5112              		.cfi_restore_state
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5113              		.loc 1 2549 3 is_stmt 1 view .LVU1650
 5114 0038 03AB     		add	r3, sp, #12
 5115 003a 8C93     		str	r3, [sp, #560]
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5116              		.loc 1 2550 3 view .LVU1651
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5117              		.loc 1 2550 9 is_stmt 0 view .LVU1652
 5118 003c 0199     		ldr	r1, [sp, #4]
 5119 003e 06A8     		add	r0, sp, #24
 5120              	.LVL563:
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5121              		.loc 1 2550 9 view .LVU1653
 5122 0040 FFF7FEFF 		bl	follow_path
 5123              	.LVL564:
2551:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5124              		.loc 1 2551 3 is_stmt 1 view .LVU1654
2551:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5125              		.loc 1 2551 7 is_stmt 0 view .LVU1655
 5126 0044 DDF82C82 		ldr	r8, [sp, #556]
 5127              	.LVL565:
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
 5128              		.loc 1 2553 3 is_stmt 1 view .LVU1656
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
 5129              		.loc 1 2553 6 is_stmt 0 view .LVU1657
 5130 0048 0546     		mov	r5, r0
 5131 004a 58B9     		cbnz	r0, .L406
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5132              		.loc 1 2554 4 is_stmt 1 view .LVU1658
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5133              		.loc 1 2554 7 is_stmt 0 view .LVU1659
 5134 004c B8F1000F 		cmp	r8, #0
 5135 0050 5DD0     		beq	.L415
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5136              		.loc 1 2558 5 is_stmt 1 view .LVU1660
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5137              		.loc 1 2558 11 is_stmt 0 view .LVU1661
 5138 0052 37F00103 		bics	r3, r7, #1
 5139 0056 14BF     		ite	ne
 5140 0058 0121     		movne	r1, #1
 5141 005a 0021     		moveq	r1, #0
 5142 005c 06A8     		add	r0, sp, #24
 5143              	.LVL566:
ARM GAS  /tmp/cciFFPmJ.s 			page 159


2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5144              		.loc 1 2558 11 view .LVU1662
 5145 005e FFF7FEFF 		bl	chk_lock
 5146              	.LVL567:
 5147 0062 0546     		mov	r5, r0
 5148              	.LVL568:
 5149              	.L406:
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5150              		.loc 1 2562 3 is_stmt 1 view .LVU1663
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5151              		.loc 1 2562 6 is_stmt 0 view .LVU1664
 5152 0064 14F01C0F 		tst	r4, #28
 5153 0068 00F0A780 		beq	.L407
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
 5154              		.loc 1 2563 4 is_stmt 1 view .LVU1665
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
 5155              		.loc 1 2563 7 is_stmt 0 view .LVU1666
 5156 006c 002D     		cmp	r5, #0
 5157 006e 5AD0     		beq	.L408
2564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5158              		.loc 1 2564 5 is_stmt 1 view .LVU1667
2564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5159              		.loc 1 2564 8 is_stmt 0 view .LVU1668
 5160 0070 042D     		cmp	r5, #4
 5161 0072 4ED0     		beq	.L424
 5162              	.LVL569:
 5163              	.L409:
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
 5164              		.loc 1 2570 5 is_stmt 1 view .LVU1669
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
 5165              		.loc 1 2570 10 is_stmt 0 view .LVU1670
 5166 0074 47F00807 		orr	r7, r7, #8
 5167              	.LVL570:
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5168              		.loc 1 2571 5 is_stmt 1 view .LVU1671
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5169              		.loc 1 2571 9 is_stmt 0 view .LVU1672
 5170 0078 DDF82C82 		ldr	r8, [sp, #556]
 5171              	.LVL571:
 5172              	.L410:
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5173              		.loc 1 2581 4 is_stmt 1 view .LVU1673
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5174              		.loc 1 2581 7 is_stmt 0 view .LVU1674
 5175 007c 15B9     		cbnz	r5, .L411
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5176              		.loc 1 2581 21 discriminator 1 view .LVU1675
 5177 007e 17F0080F 		tst	r7, #8
 5178 0082 5CD1     		bne	.L425
 5179              	.LVL572:
 5180              	.L411:
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5181              		.loc 1 2609 3 is_stmt 1 view .LVU1676
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5182              		.loc 1 2609 6 is_stmt 0 view .LVU1677
 5183 0084 C5B9     		cbnz	r5, .L412
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
ARM GAS  /tmp/cciFFPmJ.s 			page 160


 5184              		.loc 1 2610 4 is_stmt 1 view .LVU1678
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
 5185              		.loc 1 2610 7 is_stmt 0 view .LVU1679
 5186 0086 17F0080F 		tst	r7, #8
 5187 008a 01D0     		beq	.L413
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
 5188              		.loc 1 2611 5 is_stmt 1 view .LVU1680
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
 5189              		.loc 1 2611 10 is_stmt 0 view .LVU1681
 5190 008c 47F02007 		orr	r7, r7, #32
 5191              	.LVL573:
 5192              	.L413:
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5193              		.loc 1 2612 4 is_stmt 1 view .LVU1682
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5194              		.loc 1 2612 21 is_stmt 0 view .LVU1683
 5195 0090 869B     		ldr	r3, [sp, #536]
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5196              		.loc 1 2612 24 view .LVU1684
 5197 0092 D3F82C32 		ldr	r3, [r3, #556]
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5198              		.loc 1 2612 17 view .LVU1685
 5199 0096 C6F81C32 		str	r3, [r6, #540]
2613:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5200              		.loc 1 2613 4 is_stmt 1 view .LVU1686
2613:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5201              		.loc 1 2613 16 is_stmt 0 view .LVU1687
 5202 009a C6F82082 		str	r8, [r6, #544]
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5203              		.loc 1 2615 4 is_stmt 1 view .LVU1688
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5204              		.loc 1 2615 17 is_stmt 0 view .LVU1689
 5205 009e 37F00103 		bics	r3, r7, #1
 5206 00a2 14BF     		ite	ne
 5207 00a4 0121     		movne	r1, #1
 5208 00a6 0021     		moveq	r1, #0
 5209 00a8 06A8     		add	r0, sp, #24
 5210 00aa FFF7FEFF 		bl	inc_lock
 5211              	.LVL574:
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5212              		.loc 1 2615 15 view .LVU1690
 5213 00ae C6F82802 		str	r0, [r6, #552]
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5214              		.loc 1 2616 4 is_stmt 1 view .LVU1691
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5215              		.loc 1 2616 7 is_stmt 0 view .LVU1692
 5216 00b2 0028     		cmp	r0, #0
 5217 00b4 00F09780 		beq	.L421
 5218              	.L412:
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5219              		.loc 1 2631 13 is_stmt 1 view .LVU1693
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
 5220              		.loc 1 2633 3 view .LVU1694
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
 5221              		.loc 1 2633 6 is_stmt 0 view .LVU1695
 5222 00b8 002D     		cmp	r5, #0
 5223 00ba B8D1     		bne	.L405
ARM GAS  /tmp/cciFFPmJ.s 			page 161


2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
 5224              		.loc 1 2634 4 is_stmt 1 view .LVU1696
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
 5225              		.loc 1 2634 13 is_stmt 0 view .LVU1697
 5226 00bc 86F80672 		strb	r7, [r6, #518]
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 5227              		.loc 1 2635 4 is_stmt 1 view .LVU1698
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 5228              		.loc 1 2635 12 is_stmt 0 view .LVU1699
 5229 00c0 0024     		movs	r4, #0
 5230 00c2 86F80742 		strb	r4, [r6, #519]
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5231              		.loc 1 2636 4 is_stmt 1 view .LVU1700
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5232              		.loc 1 2636 17 is_stmt 0 view .LVU1701
 5233 00c6 869F     		ldr	r7, [sp, #536]
 5234              	.LVL575:
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5235              		.loc 1 2636 17 view .LVU1702
 5236 00c8 4146     		mov	r1, r8
 5237 00ca 3846     		mov	r0, r7
 5238 00cc FFF7FEFF 		bl	ld_clust
 5239              	.LVL576:
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5240              		.loc 1 2636 15 view .LVU1703
 5241 00d0 C6F81002 		str	r0, [r6, #528]
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5242              		.loc 1 2637 4 is_stmt 1 view .LVU1704
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5243              		.loc 1 2637 16 is_stmt 0 view .LVU1705
 5244 00d4 98F81F20 		ldrb	r2, [r8, #31]	@ zero_extendqisi2
 5245 00d8 98F81E30 		ldrb	r3, [r8, #30]	@ zero_extendqisi2
 5246 00dc 1B04     		lsls	r3, r3, #16
 5247 00de 43EA0263 		orr	r3, r3, r2, lsl #24
 5248 00e2 98F81D20 		ldrb	r2, [r8, #29]	@ zero_extendqisi2
 5249 00e6 43EA0223 		orr	r3, r3, r2, lsl #8
 5250 00ea 98F81C20 		ldrb	r2, [r8, #28]	@ zero_extendqisi2
 5251 00ee 1343     		orrs	r3, r3, r2
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5252              		.loc 1 2637 14 view .LVU1706
 5253 00f0 C6F80C32 		str	r3, [r6, #524]
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
 5254              		.loc 1 2638 4 is_stmt 1 view .LVU1707
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
 5255              		.loc 1 2638 13 is_stmt 0 view .LVU1708
 5256 00f4 C6F80842 		str	r4, [r6, #520]
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 5257              		.loc 1 2639 4 is_stmt 1 view .LVU1709
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 5258              		.loc 1 2639 14 is_stmt 0 view .LVU1710
 5259 00f8 C6F81842 		str	r4, [r6, #536]
2641:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5260              		.loc 1 2641 4 is_stmt 1 view .LVU1711
2641:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5261              		.loc 1 2641 14 is_stmt 0 view .LVU1712
 5262 00fc C6F82442 		str	r4, [r6, #548]
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
ARM GAS  /tmp/cciFFPmJ.s 			page 162


 5263              		.loc 1 2643 4 is_stmt 1 view .LVU1713
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
 5264              		.loc 1 2643 11 is_stmt 0 view .LVU1714
 5265 0100 C6F80072 		str	r7, [r6, #512]
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5266              		.loc 1 2644 4 is_stmt 1 view .LVU1715
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5267              		.loc 1 2644 19 is_stmt 0 view .LVU1716
 5268 0104 B7F80632 		ldrh	r3, [r7, #518]
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5269              		.loc 1 2644 11 view .LVU1717
 5270 0108 A6F80432 		strh	r3, [r6, #516]	@ movhi
 5271 010c 8FE7     		b	.L405
 5272              	.LVL577:
 5273              	.L415:
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5274              		.loc 1 2555 9 view .LVU1718
 5275 010e 0625     		movs	r5, #6
 5276 0110 A8E7     		b	.L406
 5277              	.LVL578:
 5278              	.L424:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5279              		.loc 1 2566 6 is_stmt 1 view .LVU1719
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5280              		.loc 1 2566 12 is_stmt 0 view .LVU1720
 5281 0112 FFF7FEFF 		bl	enq_lock
 5282              	.LVL579:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5283              		.loc 1 2566 43 view .LVU1721
 5284 0116 08B9     		cbnz	r0, .L426
 5285 0118 1225     		movs	r5, #18
 5286              	.LVL580:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5287              		.loc 1 2566 43 view .LVU1722
 5288 011a ABE7     		b	.L409
 5289              	.LVL581:
 5290              	.L426:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5291              		.loc 1 2566 25 discriminator 1 view .LVU1723
 5292 011c 06A8     		add	r0, sp, #24
 5293 011e FFF7FEFF 		bl	dir_register
 5294              	.LVL582:
 5295 0122 0546     		mov	r5, r0
 5296              	.LVL583:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5297              		.loc 1 2566 25 discriminator 1 view .LVU1724
 5298 0124 A6E7     		b	.L409
 5299              	.LVL584:
 5300              	.L408:
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5301              		.loc 1 2574 5 is_stmt 1 view .LVU1725
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5302              		.loc 1 2574 12 is_stmt 0 view .LVU1726
 5303 0126 98F80B30 		ldrb	r3, [r8, #11]	@ zero_extendqisi2
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5304              		.loc 1 2574 8 view .LVU1727
 5305 012a 13F0110F 		tst	r3, #17
ARM GAS  /tmp/cciFFPmJ.s 			page 163


 5306 012e 04D1     		bne	.L417
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
 5307              		.loc 1 2577 6 is_stmt 1 view .LVU1728
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
 5308              		.loc 1 2577 9 is_stmt 0 view .LVU1729
 5309 0130 14F0040F 		tst	r4, #4
 5310 0134 A2D0     		beq	.L410
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5311              		.loc 1 2578 11 view .LVU1730
 5312 0136 0825     		movs	r5, #8
 5313              	.LVL585:
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5314              		.loc 1 2578 11 view .LVU1731
 5315 0138 A0E7     		b	.L410
 5316              	.LVL586:
 5317              	.L417:
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5318              		.loc 1 2575 10 view .LVU1732
 5319 013a 0725     		movs	r5, #7
 5320              	.LVL587:
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5321              		.loc 1 2575 10 view .LVU1733
 5322 013c 9EE7     		b	.L410
 5323              	.LVL588:
 5324              	.L425:
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 5325              		.loc 1 2582 5 is_stmt 1 view .LVU1734
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 5326              		.loc 1 2582 10 is_stmt 0 view .LVU1735
 5327 013e FFF7FEFF 		bl	get_fattime
 5328              	.LVL589:
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5329              		.loc 1 2583 5 is_stmt 1 view .LVU1736
 5330 0142 88F80E00 		strb	r0, [r8, #14]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5331              		.loc 1 2583 5 view .LVU1737
 5332 0146 C0F30723 		ubfx	r3, r0, #8, #8
 5333 014a 88F80F30 		strb	r3, [r8, #15]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5334              		.loc 1 2583 5 view .LVU1738
 5335 014e C0F30743 		ubfx	r3, r0, #16, #8
 5336 0152 88F81030 		strb	r3, [r8, #16]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5337              		.loc 1 2583 5 view .LVU1739
 5338 0156 000E     		lsrs	r0, r0, #24
 5339              	.LVL590:
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5340              		.loc 1 2583 5 is_stmt 0 view .LVU1740
 5341 0158 88F81100 		strb	r0, [r8, #17]
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
 5342              		.loc 1 2584 5 is_stmt 1 view .LVU1741
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
 5343              		.loc 1 2584 19 is_stmt 0 view .LVU1742
 5344 015c 0024     		movs	r4, #0
 5345 015e 88F80B40 		strb	r4, [r8, #11]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5346              		.loc 1 2585 5 is_stmt 1 view .LVU1743
ARM GAS  /tmp/cciFFPmJ.s 			page 164


 5347 0162 88F81C40 		strb	r4, [r8, #28]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5348              		.loc 1 2585 5 view .LVU1744
 5349 0166 88F81D40 		strb	r4, [r8, #29]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5350              		.loc 1 2585 5 view .LVU1745
 5351 016a 88F81E40 		strb	r4, [r8, #30]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5352              		.loc 1 2585 5 view .LVU1746
 5353 016e 88F81F40 		strb	r4, [r8, #31]
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
 5354              		.loc 1 2586 5 view .LVU1747
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
 5355              		.loc 1 2586 10 is_stmt 0 view .LVU1748
 5356 0172 4146     		mov	r1, r8
 5357 0174 8698     		ldr	r0, [sp, #536]
 5358 0176 FFF7FEFF 		bl	ld_clust
 5359              	.LVL591:
 5360 017a 8146     		mov	r9, r0
 5361              	.LVL592:
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 5362              		.loc 1 2587 5 is_stmt 1 view .LVU1749
 5363 017c 2146     		mov	r1, r4
 5364 017e 4046     		mov	r0, r8
 5365              	.LVL593:
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 5366              		.loc 1 2587 5 is_stmt 0 view .LVU1750
 5367 0180 FFF7FEFF 		bl	st_clust
 5368              	.LVL594:
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5369              		.loc 1 2588 5 is_stmt 1 view .LVU1751
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5370              		.loc 1 2588 7 is_stmt 0 view .LVU1752
 5371 0184 8698     		ldr	r0, [sp, #536]
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5372              		.loc 1 2588 18 view .LVU1753
 5373 0186 0123     		movs	r3, #1
 5374 0188 80F80432 		strb	r3, [r0, #516]
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
 5375              		.loc 1 2589 5 is_stmt 1 view .LVU1754
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
 5376              		.loc 1 2589 8 is_stmt 0 view .LVU1755
 5377 018c B9F1000F 		cmp	r9, #0
 5378 0190 3FF478AF 		beq	.L411
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
 5379              		.loc 1 2590 6 is_stmt 1 view .LVU1756
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
 5380              		.loc 1 2590 9 is_stmt 0 view .LVU1757
 5381 0194 D0F82C42 		ldr	r4, [r0, #556]
 5382              	.LVL595:
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 5383              		.loc 1 2591 6 is_stmt 1 view .LVU1758
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 5384              		.loc 1 2591 12 is_stmt 0 view .LVU1759
 5385 0198 4946     		mov	r1, r9
 5386 019a FFF7FEFF 		bl	remove_chain
 5387              	.LVL596:
ARM GAS  /tmp/cciFFPmJ.s 			page 165


2592:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
 5388              		.loc 1 2592 6 is_stmt 1 view .LVU1760
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
 5389              		.loc 1 2592 9 is_stmt 0 view .LVU1761
 5390 019e 0546     		mov	r5, r0
 5391 01a0 0028     		cmp	r0, #0
 5392 01a2 7FF46FAF 		bne	.L411
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5393              		.loc 1 2593 7 is_stmt 1 view .LVU1762
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5394              		.loc 1 2593 9 is_stmt 0 view .LVU1763
 5395 01a6 8698     		ldr	r0, [sp, #536]
 5396              	.LVL597:
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5397              		.loc 1 2593 30 view .LVU1764
 5398 01a8 09F1FF33 		add	r3, r9, #-1
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5399              		.loc 1 2593 25 view .LVU1765
 5400 01ac C0F80C32 		str	r3, [r0, #524]
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5401              		.loc 1 2594 7 is_stmt 1 view .LVU1766
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5402              		.loc 1 2594 13 is_stmt 0 view .LVU1767
 5403 01b0 2146     		mov	r1, r4
 5404 01b2 FFF7FEFF 		bl	move_window
 5405              	.LVL598:
 5406 01b6 0546     		mov	r5, r0
 5407              	.LVL599:
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5408              		.loc 1 2594 13 view .LVU1768
 5409 01b8 64E7     		b	.L411
 5410              	.LVL600:
 5411              	.L407:
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
 5412              		.loc 1 2600 4 is_stmt 1 view .LVU1769
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
 5413              		.loc 1 2600 7 is_stmt 0 view .LVU1770
 5414 01ba 002D     		cmp	r5, #0
 5415 01bc 7FF462AF 		bne	.L411
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5416              		.loc 1 2601 5 is_stmt 1 view .LVU1771
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5417              		.loc 1 2601 12 is_stmt 0 view .LVU1772
 5418 01c0 98F80B30 		ldrb	r3, [r8, #11]	@ zero_extendqisi2
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5419              		.loc 1 2601 8 view .LVU1773
 5420 01c4 13F0100F 		tst	r3, #16
 5421 01c8 09D1     		bne	.L419
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5422              		.loc 1 2604 6 is_stmt 1 view .LVU1774
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5423              		.loc 1 2604 9 is_stmt 0 view .LVU1775
 5424 01ca 14F0020F 		tst	r4, #2
 5425 01ce 3FF459AF 		beq	.L411
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5426              		.loc 1 2604 28 discriminator 1 view .LVU1776
 5427 01d2 13F0010F 		tst	r3, #1
ARM GAS  /tmp/cciFFPmJ.s 			page 166


 5428 01d6 3FF455AF 		beq	.L411
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5429              		.loc 1 2605 11 view .LVU1777
 5430 01da 0725     		movs	r5, #7
 5431              	.LVL601:
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5432              		.loc 1 2605 11 view .LVU1778
 5433 01dc 52E7     		b	.L411
 5434              	.LVL602:
 5435              	.L419:
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5436              		.loc 1 2602 10 view .LVU1779
 5437 01de 0425     		movs	r5, #4
 5438              	.LVL603:
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5439              		.loc 1 2602 10 view .LVU1780
 5440 01e0 50E7     		b	.L411
 5441              	.LVL604:
 5442              	.L414:
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->fs = 0;			/* Clear file object */
 5443              		.loc 1 2537 18 view .LVU1781
 5444 01e2 0925     		movs	r5, #9
 5445 01e4 23E7     		b	.L405
 5446              	.LVL605:
 5447              	.L421:
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5448              		.loc 1 2616 25 view .LVU1782
 5449 01e6 0225     		movs	r5, #2
 5450              	.LVL606:
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5451              		.loc 1 2616 25 view .LVU1783
 5452 01e8 21E7     		b	.L405
 5453              		.cfi_endproc
 5454              	.LFE100:
 5456              		.section	.text.f_read,"ax",%progbits
 5457              		.align	1
 5458              		.global	f_read
 5459              		.syntax unified
 5460              		.thumb
 5461              		.thumb_func
 5462              		.fpu softvfp
 5464              	f_read:
 5465              	.LVL607:
 5466              	.LFB101:
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 
2654:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2655:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
2656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 
2658:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 		/* Pointer to the file object */
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,		/* Pointer to data buffer */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,		/* Number of bytes to read */
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br		/* Pointer to number of bytes read */
ARM GAS  /tmp/cciFFPmJ.s 			page 167


2663:Middlewares/Third_Party/FatFs/src/ff.c **** )
2664:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5467              		.loc 1 2664 1 is_stmt 1 view -0
 5468              		.cfi_startproc
 5469              		@ args = 0, pretend = 0, frame = 8
 5470              		@ frame_needed = 0, uses_anonymous_args = 0
 5471              		.loc 1 2664 1 is_stmt 0 view .LVU1785
 5472 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5473              	.LCFI55:
 5474              		.cfi_def_cfa_offset 36
 5475              		.cfi_offset 4, -36
 5476              		.cfi_offset 5, -32
 5477              		.cfi_offset 6, -28
 5478              		.cfi_offset 7, -24
 5479              		.cfi_offset 8, -20
 5480              		.cfi_offset 9, -16
 5481              		.cfi_offset 10, -12
 5482              		.cfi_offset 11, -8
 5483              		.cfi_offset 14, -4
 5484 0004 83B0     		sub	sp, sp, #12
 5485              	.LCFI56:
 5486              		.cfi_def_cfa_offset 48
 5487 0006 0446     		mov	r4, r0
 5488 0008 0F46     		mov	r7, r1
 5489 000a 1646     		mov	r6, r2
 5490 000c 9846     		mov	r8, r3
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5491              		.loc 1 2665 2 is_stmt 1 view .LVU1786
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect, remain;
 5492              		.loc 1 2666 2 view .LVU1787
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc;
 5493              		.loc 1 2667 2 view .LVU1788
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect, *rbuff = (BYTE*)buff;
 5494              		.loc 1 2668 2 view .LVU1789
 5495              	.LVL608:
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
 5496              		.loc 1 2671 2 view .LVU1790
 5497              		.loc 1 2671 6 is_stmt 0 view .LVU1791
 5498 000e 0023     		movs	r3, #0
 5499              	.LVL609:
 5500              		.loc 1 2671 6 view .LVU1792
 5501 0010 C8F80030 		str	r3, [r8]
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);							/* Check validity */
 5502              		.loc 1 2673 2 is_stmt 1 view .LVU1793
 5503              		.loc 1 2673 8 is_stmt 0 view .LVU1794
 5504 0014 FFF7FEFF 		bl	validate
 5505              	.LVL610:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 5506              		.loc 1 2674 2 is_stmt 1 view .LVU1795
 5507              		.loc 1 2674 5 is_stmt 0 view .LVU1796
 5508 0018 0190     		str	r0, [sp, #4]
 5509 001a 0028     		cmp	r0, #0
 5510 001c 40F0D180 		bne	.L428
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)								/* Check error */
ARM GAS  /tmp/cciFFPmJ.s 			page 168


 5511              		.loc 1 2675 2 is_stmt 1 view .LVU1797
 5512              		.loc 1 2675 8 is_stmt 0 view .LVU1798
 5513 0020 94F80732 		ldrb	r3, [r4, #519]	@ zero_extendqisi2
 5514 0024 0193     		str	r3, [sp, #4]
 5515              		.loc 1 2675 5 view .LVU1799
 5516 0026 002B     		cmp	r3, #0
 5517 0028 40F0CB80 		bne	.L428
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) 					/* Check access mode */
 5518              		.loc 1 2677 2 is_stmt 1 view .LVU1800
 5519              		.loc 1 2677 10 is_stmt 0 view .LVU1801
 5520 002c 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5521              		.loc 1 2677 5 view .LVU1802
 5522 0030 13F0010F 		tst	r3, #1
 5523 0034 00F0D780 		beq	.L450
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
 5524              		.loc 1 2679 2 is_stmt 1 view .LVU1803
 5525              		.loc 1 2679 13 is_stmt 0 view .LVU1804
 5526 0038 D4F80C52 		ldr	r5, [r4, #524]
 5527              		.loc 1 2679 25 view .LVU1805
 5528 003c D4F80832 		ldr	r3, [r4, #520]
 5529              		.loc 1 2679 9 view .LVU1806
 5530 0040 ED1A     		subs	r5, r5, r3
 5531              	.LVL611:
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 5532              		.loc 1 2680 2 is_stmt 1 view .LVU1807
 5533              		.loc 1 2680 5 is_stmt 0 view .LVU1808
 5534 0042 B542     		cmp	r5, r6
 5535 0044 76D3     		bcc	.L448
 5536 0046 3546     		mov	r5, r6
 5537              	.LVL612:
 5538              		.loc 1 2680 5 view .LVU1809
 5539 0048 74E0     		b	.L448
 5540              	.LVL613:
 5541              	.L433:
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
2690:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
 5542              		.loc 1 2691 6 is_stmt 1 view .LVU1810
 5543              		.loc 1 2691 12 is_stmt 0 view .LVU1811
 5544 004a D4F82432 		ldr	r3, [r4, #548]
 5545              		.loc 1 2691 9 view .LVU1812
 5546 004e 1BB1     		cbz	r3, .L435
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5547              		.loc 1 2692 7 is_stmt 1 view .LVU1813
 5548              		.loc 1 2692 14 is_stmt 0 view .LVU1814
 5549 0050 2046     		mov	r0, r4
 5550 0052 FFF7FEFF 		bl	clmt_clust
ARM GAS  /tmp/cciFFPmJ.s 			page 169


 5551              	.LVL614:
 5552              		.loc 1 2692 14 view .LVU1815
 5553 0056 83E0     		b	.L434
 5554              	.LVL615:
 5555              	.L435:
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
2694:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, fp->clust);	/* Follow cluster chain on the FAT */
 5556              		.loc 1 2695 7 is_stmt 1 view .LVU1816
 5557              		.loc 1 2695 14 is_stmt 0 view .LVU1817
 5558 0058 D4F81412 		ldr	r1, [r4, #532]
 5559 005c FFF7FEFF 		bl	get_fat
 5560              	.LVL616:
 5561              		.loc 1 2695 14 view .LVU1818
 5562 0060 7EE0     		b	.L434
 5563              	.L457:
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fp->fs, FR_INT_ERR);
 5564              		.loc 1 2697 19 is_stmt 1 discriminator 1 view .LVU1819
 5565 0062 4FF0020A 		mov	r10, #2
 5566 0066 84F807A2 		strb	r10, [r4, #519]
 5567              		.loc 1 2697 19 discriminator 1 view .LVU1820
 5568 006a CDF804A0 		str	r10, [sp, #4]
 5569 006e A8E0     		b	.L428
 5570              	.L458:
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5571              		.loc 1 2698 29 discriminator 1 view .LVU1821
 5572 0070 4FF0010A 		mov	r10, #1
 5573 0074 84F807A2 		strb	r10, [r4, #519]
 5574              		.loc 1 2698 29 discriminator 1 view .LVU1822
 5575 0078 CDF804A0 		str	r10, [sp, #4]
 5576 007c A1E0     		b	.L428
 5577              	.LVL617:
 5578              	.L459:
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5579              		.loc 1 2702 15 discriminator 1 view .LVU1823
 5580 007e 4FF0020A 		mov	r10, #2
 5581 0082 84F807A2 		strb	r10, [r4, #519]
 5582              		.loc 1 2702 15 discriminator 1 view .LVU1824
 5583 0086 CDF804A0 		str	r10, [sp, #4]
 5584 008a 9AE0     		b	.L428
 5585              	.LVL618:
 5586              	.L441:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5587              		.loc 1 2709 32 view .LVU1825
2710:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
2711:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->wflag && fp->fs->winsect - sect < cc)
ARM GAS  /tmp/cciFFPmJ.s 			page 170


2713:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), fp->fs->win.d8, SS(fp->fs));
2714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA__DIRTY) && fp->dsect - sect < cc)
 5588              		.loc 1 2715 5 view .LVU1826
 5589              		.loc 1 2715 12 is_stmt 0 view .LVU1827
 5590 008c 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5591              		.loc 1 2715 8 view .LVU1828
 5592 0090 13F0400F 		tst	r3, #64
 5593 0094 05D0     		beq	.L442
 5594              		.loc 1 2715 37 discriminator 1 view .LVU1829
 5595 0096 D4F81802 		ldr	r0, [r4, #536]
 5596              		.loc 1 2715 45 discriminator 1 view .LVU1830
 5597 009a A0EB0900 		sub	r0, r0, r9
 5598              		.loc 1 2715 32 discriminator 1 view .LVU1831
 5599 009e 5045     		cmp	r0, r10
 5600 00a0 02D3     		bcc	.L454
 5601              	.L442:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
2717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2718:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fp->fs) * cc;			/* Number of bytes transferred */
 5602              		.loc 1 2719 5 is_stmt 1 view .LVU1832
 5603              		.loc 1 2719 10 is_stmt 0 view .LVU1833
 5604 00a2 4FEA4A26 		lsl	r6, r10, #9
 5605              	.LVL619:
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 5606              		.loc 1 2720 5 is_stmt 1 view .LVU1834
 5607 00a6 39E0     		b	.L443
 5608              	.LVL620:
 5609              	.L454:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
 5610              		.loc 1 2716 6 view .LVU1835
 5611 00a8 4FF40072 		mov	r2, #512
 5612 00ac 2146     		mov	r1, r4
 5613 00ae 07EB4020 		add	r0, r7, r0, lsl #9
 5614 00b2 FFF7FEFF 		bl	mem_cpy
 5615              	.LVL621:
 5616 00b6 F4E7     		b	.L442
 5617              	.L439:
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {			/* Load data sector if not in cache */
 5618              		.loc 1 2723 4 view .LVU1836
 5619              		.loc 1 2723 10 is_stmt 0 view .LVU1837
 5620 00b8 D4F81822 		ldr	r2, [r4, #536]
 5621              		.loc 1 2723 7 view .LVU1838
 5622 00bc 4A45     		cmp	r2, r9
 5623 00be 1DD0     		beq	.L444
2724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
 5624              		.loc 1 2725 5 is_stmt 1 view .LVU1839
 5625              		.loc 1 2725 11 is_stmt 0 view .LVU1840
 5626 00c0 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5627              		.loc 1 2725 8 view .LVU1841
 5628 00c4 13F0400F 		tst	r3, #64
 5629 00c8 0DD0     		beq	.L445
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
ARM GAS  /tmp/cciFFPmJ.s 			page 171


 5630              		.loc 1 2726 6 is_stmt 1 view .LVU1842
 5631              		.loc 1 2726 10 is_stmt 0 view .LVU1843
 5632 00ca 0123     		movs	r3, #1
 5633 00cc 2146     		mov	r1, r4
 5634 00ce 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 5635 00d2 FFF7FEFF 		bl	disk_write
 5636              	.LVL622:
 5637              		.loc 1 2726 9 view .LVU1844
 5638 00d6 0028     		cmp	r0, #0
 5639 00d8 77D1     		bne	.L455
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 5640              		.loc 1 2727 33 is_stmt 1 view .LVU1845
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5641              		.loc 1 2728 6 view .LVU1846
 5642              		.loc 1 2728 15 is_stmt 0 view .LVU1847
 5643 00da 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5644 00de 23F04003 		bic	r3, r3, #64
 5645 00e2 84F80632 		strb	r3, [r4, #518]
 5646              	.L445:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2730:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)	/* Fill sector cache */
 5647              		.loc 1 2731 5 is_stmt 1 view .LVU1848
 5648              		.loc 1 2731 21 is_stmt 0 view .LVU1849
 5649 00e6 D4F80002 		ldr	r0, [r4, #512]
 5650              		.loc 1 2731 9 view .LVU1850
 5651 00ea 0123     		movs	r3, #1
 5652 00ec 4A46     		mov	r2, r9
 5653 00ee 2146     		mov	r1, r4
 5654 00f0 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 5655 00f4 FFF7FEFF 		bl	disk_read
 5656              	.LVL623:
 5657              		.loc 1 2731 8 view .LVU1851
 5658 00f8 0028     		cmp	r0, #0
 5659 00fa 6DD1     		bne	.L456
 5660              	.L444:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5661              		.loc 1 2732 32 is_stmt 1 view .LVU1852
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2734:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
 5662              		.loc 1 2735 4 view .LVU1853
 5663              		.loc 1 2735 14 is_stmt 0 view .LVU1854
 5664 00fc C4F81892 		str	r9, [r4, #536]
 5665              	.LVL624:
 5666              	.L431:
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));	/* Get partial sector data from sector buffer 
 5667              		.loc 1 2737 3 is_stmt 1 view .LVU1855
 5668              		.loc 1 2737 32 is_stmt 0 view .LVU1856
 5669 0100 D4F80812 		ldr	r1, [r4, #520]
 5670              		.loc 1 2737 39 view .LVU1857
 5671 0104 C1F30801 		ubfx	r1, r1, #0, #9
 5672              		.loc 1 2737 8 view .LVU1858
 5673 0108 C1F50076 		rsb	r6, r1, #512
 5674              	.LVL625:
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;
ARM GAS  /tmp/cciFFPmJ.s 			page 172


 5675              		.loc 1 2738 3 is_stmt 1 view .LVU1859
 5676              		.loc 1 2738 6 is_stmt 0 view .LVU1860
 5677 010c B542     		cmp	r5, r6
 5678 010e 00D2     		bcs	.L447
 5679              		.loc 1 2738 24 view .LVU1861
 5680 0110 2E46     		mov	r6, r5
 5681              	.LVL626:
 5682              	.L447:
2739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)		/* Move sector window */
2741:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->fs->win.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
2743:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->buf.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
 5683              		.loc 1 2744 3 is_stmt 1 view .LVU1862
 5684 0112 3246     		mov	r2, r6
 5685 0114 2144     		add	r1, r1, r4
 5686 0116 3846     		mov	r0, r7
 5687 0118 FFF7FEFF 		bl	mem_cpy
 5688              	.LVL627:
 5689              	.L443:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5690              		.loc 1 2683 3 view .LVU1863
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5691              		.loc 1 2683 9 is_stmt 0 view .LVU1864
 5692 011c 3744     		add	r7, r7, r6
 5693              	.LVL628:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5694              		.loc 1 2683 27 view .LVU1865
 5695 011e D4F80832 		ldr	r3, [r4, #520]
 5696 0122 3344     		add	r3, r3, r6
 5697 0124 C4F80832 		str	r3, [r4, #520]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5698              		.loc 1 2683 40 view .LVU1866
 5699 0128 D8F80030 		ldr	r3, [r8]
 5700 012c 3344     		add	r3, r3, r6
 5701 012e C8F80030 		str	r3, [r8]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5702              		.loc 1 2683 53 view .LVU1867
 5703 0132 AD1B     		subs	r5, r5, r6
 5704              	.LVL629:
 5705              	.L448:
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 5706              		.loc 1 2682 11 is_stmt 1 view .LVU1868
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 5707              		.loc 1 2682 2 is_stmt 0 view .LVU1869
 5708 0134 002D     		cmp	r5, #0
 5709 0136 44D0     		beq	.L428
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5710              		.loc 1 2684 3 is_stmt 1 view .LVU1870
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5711              		.loc 1 2684 10 is_stmt 0 view .LVU1871
 5712 0138 D4F80812 		ldr	r1, [r4, #520]
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5713              		.loc 1 2684 17 view .LVU1872
 5714 013c C1F30803 		ubfx	r3, r1, #0, #9
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
ARM GAS  /tmp/cciFFPmJ.s 			page 173


 5715              		.loc 1 2684 6 view .LVU1873
 5716 0140 002B     		cmp	r3, #0
 5717 0142 DDD1     		bne	.L431
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5718              		.loc 1 2685 4 is_stmt 1 view .LVU1874
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5719              		.loc 1 2685 46 is_stmt 0 view .LVU1875
 5720 0144 D4F80002 		ldr	r0, [r4, #512]
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5721              		.loc 1 2685 50 view .LVU1876
 5722 0148 90F80262 		ldrb	r6, [r0, #514]	@ zero_extendqisi2
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5723              		.loc 1 2685 58 view .LVU1877
 5724 014c 013E     		subs	r6, r6, #1
 5725 014e F6B2     		uxtb	r6, r6
 5726              	.LVL630:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5727              		.loc 1 2686 4 is_stmt 1 view .LVU1878
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5728              		.loc 1 2686 7 is_stmt 0 view .LVU1879
 5729 0150 16EA5126 		ands	r6, r6, r1, lsr #9
 5730              	.LVL631:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5731              		.loc 1 2686 7 view .LVU1880
 5732 0154 0CD1     		bne	.L432
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
 5733              		.loc 1 2687 5 is_stmt 1 view .LVU1881
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
 5734              		.loc 1 2687 8 is_stmt 0 view .LVU1882
 5735 0156 0029     		cmp	r1, #0
 5736 0158 7FF477AF 		bne	.L433
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 5737              		.loc 1 2688 6 is_stmt 1 view .LVU1883
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 5738              		.loc 1 2688 11 is_stmt 0 view .LVU1884
 5739 015c D4F81002 		ldr	r0, [r4, #528]
 5740              	.LVL632:
 5741              	.L434:
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5742              		.loc 1 2697 5 is_stmt 1 view .LVU1885
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5743              		.loc 1 2697 8 is_stmt 0 view .LVU1886
 5744 0160 0128     		cmp	r0, #1
 5745 0162 7FF67EAF 		bls	.L457
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5746              		.loc 1 2697 44 is_stmt 1 discriminator 2 view .LVU1887
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5747              		.loc 1 2698 5 discriminator 2 view .LVU1888
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5748              		.loc 1 2698 8 is_stmt 0 discriminator 2 view .LVU1889
 5749 0166 B0F1FF3F 		cmp	r0, #-1
 5750 016a 81D0     		beq	.L458
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5751              		.loc 1 2698 55 is_stmt 1 discriminator 2 view .LVU1890
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5752              		.loc 1 2699 5 discriminator 2 view .LVU1891
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/cciFFPmJ.s 			page 174


 5753              		.loc 1 2699 15 is_stmt 0 discriminator 2 view .LVU1892
 5754 016c C4F81402 		str	r0, [r4, #532]
 5755              	.LVL633:
 5756              	.L432:
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5757              		.loc 1 2701 4 is_stmt 1 view .LVU1893
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5758              		.loc 1 2701 11 is_stmt 0 view .LVU1894
 5759 0170 D4F800B2 		ldr	fp, [r4, #512]
 5760 0174 D4F81412 		ldr	r1, [r4, #532]
 5761 0178 5846     		mov	r0, fp
 5762 017a FFF7FEFF 		bl	clust2sect
 5763              	.LVL634:
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5764              		.loc 1 2702 4 is_stmt 1 view .LVU1895
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5765              		.loc 1 2702 7 is_stmt 0 view .LVU1896
 5766 017e 8146     		mov	r9, r0
 5767 0180 0028     		cmp	r0, #0
 5768 0182 3FF47CAF 		beq	.L459
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5769              		.loc 1 2702 40 is_stmt 1 discriminator 2 view .LVU1897
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
 5770              		.loc 1 2703 4 discriminator 2 view .LVU1898
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
 5771              		.loc 1 2703 9 is_stmt 0 discriminator 2 view .LVU1899
 5772 0186 B144     		add	r9, r9, r6
 5773              	.LVL635:
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 5774              		.loc 1 2704 4 is_stmt 1 discriminator 2 view .LVU1900
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 5775              		.loc 1 2704 7 is_stmt 0 discriminator 2 view .LVU1901
 5776 0188 4FEA552A 		lsr	r10, r5, #9
 5777              	.LVL636:
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 5778              		.loc 1 2705 4 is_stmt 1 discriminator 2 view .LVU1902
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 5779              		.loc 1 2705 7 is_stmt 0 discriminator 2 view .LVU1903
 5780 018c B5F5007F 		cmp	r5, #512
 5781 0190 92D3     		bcc	.L439
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5782              		.loc 1 2706 5 is_stmt 1 view .LVU1904
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5783              		.loc 1 2706 15 is_stmt 0 view .LVU1905
 5784 0192 06EB0A03 		add	r3, r6, r10
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5785              		.loc 1 2706 28 view .LVU1906
 5786 0196 9BF80222 		ldrb	r2, [fp, #514]	@ zero_extendqisi2
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5787              		.loc 1 2706 8 view .LVU1907
 5788 019a 9342     		cmp	r3, r2
 5789 019c 01D9     		bls	.L440
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
 5790              		.loc 1 2707 6 is_stmt 1 view .LVU1908
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
 5791              		.loc 1 2707 25 is_stmt 0 view .LVU1909
 5792 019e A2EB060A 		sub	r10, r2, r6
ARM GAS  /tmp/cciFFPmJ.s 			page 175


 5793              	.LVL637:
 5794              	.L440:
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5795              		.loc 1 2708 5 is_stmt 1 view .LVU1910
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5796              		.loc 1 2708 9 is_stmt 0 view .LVU1911
 5797 01a2 5346     		mov	r3, r10
 5798 01a4 4A46     		mov	r2, r9
 5799 01a6 3946     		mov	r1, r7
 5800 01a8 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 5801 01ac FFF7FEFF 		bl	disk_read
 5802              	.LVL638:
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5803              		.loc 1 2708 8 view .LVU1912
 5804 01b0 0028     		cmp	r0, #0
 5805 01b2 3FF46BAF 		beq	.L441
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5806              		.loc 1 2709 6 is_stmt 1 view .LVU1913
 5807 01b6 4FF0010A 		mov	r10, #1
 5808              	.LVL639:
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5809              		.loc 1 2709 6 is_stmt 0 view .LVU1914
 5810 01ba 84F807A2 		strb	r10, [r4, #519]
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5811              		.loc 1 2709 6 is_stmt 1 view .LVU1915
 5812 01be CDF804A0 		str	r10, [sp, #4]
 5813              	.LVL640:
 5814              	.L428:
2745:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
2749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5815              		.loc 1 2749 1 is_stmt 0 view .LVU1916
 5816 01c2 0198     		ldr	r0, [sp, #4]
 5817 01c4 03B0     		add	sp, sp, #12
 5818              	.LCFI57:
 5819              		.cfi_remember_state
 5820              		.cfi_def_cfa_offset 36
 5821              		@ sp needed
 5822 01c6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5823              	.LVL641:
 5824              	.L455:
 5825              	.LCFI58:
 5826              		.cfi_restore_state
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5827              		.loc 1 2727 7 is_stmt 1 view .LVU1917
 5828 01ca 4FF0010A 		mov	r10, #1
 5829              	.LVL642:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5830              		.loc 1 2727 7 is_stmt 0 view .LVU1918
 5831 01ce 84F807A2 		strb	r10, [r4, #519]
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5832              		.loc 1 2727 7 is_stmt 1 view .LVU1919
 5833 01d2 CDF804A0 		str	r10, [sp, #4]
 5834 01d6 F4E7     		b	.L428
 5835              	.LVL643:
ARM GAS  /tmp/cciFFPmJ.s 			page 176


 5836              	.L456:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5837              		.loc 1 2732 6 view .LVU1920
 5838 01d8 4FF0010A 		mov	r10, #1
 5839              	.LVL644:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5840              		.loc 1 2732 6 is_stmt 0 view .LVU1921
 5841 01dc 84F807A2 		strb	r10, [r4, #519]
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5842              		.loc 1 2732 6 is_stmt 1 view .LVU1922
 5843 01e0 CDF804A0 		str	r10, [sp, #4]
 5844 01e4 EDE7     		b	.L428
 5845              	.LVL645:
 5846              	.L450:
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
 5847              		.loc 1 2678 3 is_stmt 0 view .LVU1923
 5848 01e6 0723     		movs	r3, #7
 5849 01e8 0193     		str	r3, [sp, #4]
 5850 01ea EAE7     		b	.L428
 5851              		.cfi_endproc
 5852              	.LFE101:
 5854              		.section	.text.f_write,"ax",%progbits
 5855              		.align	1
 5856              		.global	f_write
 5857              		.syntax unified
 5858              		.thumb
 5859              		.thumb_func
 5860              		.fpu softvfp
 5862              	f_write:
 5863              	.LVL646:
 5864              	.LFB102:
2750:Middlewares/Third_Party/FatFs/src/ff.c **** 
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 
2754:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2755:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2756:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
2757:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 
2759:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void *buff,	/* Pointer to the data to be written */
2762:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
2764:Middlewares/Third_Party/FatFs/src/ff.c **** )
2765:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5865              		.loc 1 2765 1 is_stmt 1 view -0
 5866              		.cfi_startproc
 5867              		@ args = 0, pretend = 0, frame = 8
 5868              		@ frame_needed = 0, uses_anonymous_args = 0
 5869              		.loc 1 2765 1 is_stmt 0 view .LVU1925
 5870 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5871              	.LCFI59:
 5872              		.cfi_def_cfa_offset 36
 5873              		.cfi_offset 4, -36
 5874              		.cfi_offset 5, -32
ARM GAS  /tmp/cciFFPmJ.s 			page 177


 5875              		.cfi_offset 6, -28
 5876              		.cfi_offset 7, -24
 5877              		.cfi_offset 8, -20
 5878              		.cfi_offset 9, -16
 5879              		.cfi_offset 10, -12
 5880              		.cfi_offset 11, -8
 5881              		.cfi_offset 14, -4
 5882 0004 83B0     		sub	sp, sp, #12
 5883              	.LCFI60:
 5884              		.cfi_def_cfa_offset 48
 5885 0006 0446     		mov	r4, r0
 5886 0008 0F46     		mov	r7, r1
 5887 000a 1546     		mov	r5, r2
 5888 000c 9846     		mov	r8, r3
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5889              		.loc 1 2766 2 is_stmt 1 view .LVU1926
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 5890              		.loc 1 2767 2 view .LVU1927
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc;
 5891              		.loc 1 2768 2 view .LVU1928
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 5892              		.loc 1 2769 2 view .LVU1929
 5893              	.LVL647:
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
 5894              		.loc 1 2770 2 view .LVU1930
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
 5895              		.loc 1 2773 2 view .LVU1931
 5896              		.loc 1 2773 6 is_stmt 0 view .LVU1932
 5897 000e 0023     		movs	r3, #0
 5898              	.LVL648:
 5899              		.loc 1 2773 6 view .LVU1933
 5900 0010 C8F80030 		str	r3, [r8]
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity */
 5901              		.loc 1 2775 2 is_stmt 1 view .LVU1934
 5902              		.loc 1 2775 8 is_stmt 0 view .LVU1935
 5903 0014 FFF7FEFF 		bl	validate
 5904              	.LVL649:
2776:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 5905              		.loc 1 2776 2 is_stmt 1 view .LVU1936
 5906              		.loc 1 2776 5 is_stmt 0 view .LVU1937
 5907 0018 0190     		str	r0, [sp, #4]
 5908 001a 0028     		cmp	r0, #0
 5909 001c 53D1     		bne	.L461
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)							/* Check error */
 5910              		.loc 1 2777 2 is_stmt 1 view .LVU1938
 5911              		.loc 1 2777 8 is_stmt 0 view .LVU1939
 5912 001e 94F80732 		ldrb	r3, [r4, #519]	@ zero_extendqisi2
 5913 0022 0193     		str	r3, [sp, #4]
 5914              		.loc 1 2777 5 view .LVU1940
 5915 0024 002B     		cmp	r3, #0
 5916 0026 4ED1     		bne	.L461
2778:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
2779:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE))				/* Check access mode */
 5917              		.loc 1 2779 2 is_stmt 1 view .LVU1941
ARM GAS  /tmp/cciFFPmJ.s 			page 178


 5918              		.loc 1 2779 10 is_stmt 0 view .LVU1942
 5919 0028 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5920              		.loc 1 2779 5 view .LVU1943
 5921 002c 13F0020F 		tst	r3, #2
 5922 0030 00F00081 		beq	.L485
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2781:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr + btw < fp->fptr) btw = 0;	/* File size cannot reach 4GB */
 5923              		.loc 1 2781 2 is_stmt 1 view .LVU1944
 5924              		.loc 1 2781 8 is_stmt 0 view .LVU1945
 5925 0034 D4F80832 		ldr	r3, [r4, #520]
 5926              		.loc 1 2781 5 view .LVU1946
 5927 0038 EB42     		cmn	r3, r5
 5928 003a C0F0BF80 		bcc	.L482
 5929              		.loc 1 2781 37 view .LVU1947
 5930 003e 0025     		movs	r5, #0
 5931              	.LVL650:
 5932              		.loc 1 2781 37 view .LVU1948
 5933 0040 BCE0     		b	.L482
 5934              	.LVL651:
 5935              	.L466:
2782:Middlewares/Third_Party/FatFs/src/ff.c **** 
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
2793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
 5936              		.loc 1 2794 6 is_stmt 1 view .LVU1949
 5937              		.loc 1 2794 12 is_stmt 0 view .LVU1950
 5938 0042 D4F82432 		ldr	r3, [r4, #548]
 5939              		.loc 1 2794 9 view .LVU1951
 5940 0046 002B     		cmp	r3, #0
 5941 0048 41D0     		beq	.L468
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5942              		.loc 1 2795 7 is_stmt 1 view .LVU1952
 5943              		.loc 1 2795 14 is_stmt 0 view .LVU1953
 5944 004a 2046     		mov	r0, r4
 5945 004c FFF7FEFF 		bl	clmt_clust
 5946              	.LVL652:
 5947 0050 0346     		mov	r3, r0
 5948              	.LVL653:
 5949              	.L467:
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
2797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, fp->clust);	/* Follow or stretch cluster chain on the FAT */
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
 5950              		.loc 1 2800 5 is_stmt 1 view .LVU1954
 5951              		.loc 1 2800 8 is_stmt 0 view .LVU1955
 5952 0052 002B     		cmp	r3, #0
 5953 0054 00F0DF80 		beq	.L469
ARM GAS  /tmp/cciFFPmJ.s 			page 179


2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 5954              		.loc 1 2801 5 is_stmt 1 view .LVU1956
 5955              		.loc 1 2801 8 is_stmt 0 view .LVU1957
 5956 0058 012B     		cmp	r3, #1
 5957 005a 3ED0     		beq	.L489
 5958              		.loc 1 2801 45 is_stmt 1 discriminator 2 view .LVU1958
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5959              		.loc 1 2802 5 discriminator 2 view .LVU1959
 5960              		.loc 1 2802 8 is_stmt 0 discriminator 2 view .LVU1960
 5961 005c B3F1FF3F 		cmp	r3, #-1
 5962 0060 42D0     		beq	.L490
 5963              		.loc 1 2802 55 is_stmt 1 discriminator 2 view .LVU1961
2803:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 5964              		.loc 1 2803 5 discriminator 2 view .LVU1962
 5965              		.loc 1 2803 15 is_stmt 0 discriminator 2 view .LVU1963
 5966 0062 C4F81432 		str	r3, [r4, #532]
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sclust == 0) fp->sclust = clst;	/* Set start cluster if the first write */
 5967              		.loc 1 2804 5 is_stmt 1 discriminator 2 view .LVU1964
 5968              		.loc 1 2804 11 is_stmt 0 discriminator 2 view .LVU1965
 5969 0066 D4F81022 		ldr	r2, [r4, #528]
 5970              		.loc 1 2804 8 discriminator 2 view .LVU1966
 5971 006a 0AB9     		cbnz	r2, .L465
 5972              		.loc 1 2804 26 is_stmt 1 discriminator 1 view .LVU1967
 5973              		.loc 1 2804 37 is_stmt 0 discriminator 1 view .LVU1968
 5974 006c C4F81032 		str	r3, [r4, #528]
 5975              	.LVL654:
 5976              	.L465:
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fs->winsect == fp->dsect && sync_window(fp->fs))	/* Write-back sector cache */
2808:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
2809:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {		/* Write-back sector cache */
 5977              		.loc 1 2810 4 is_stmt 1 view .LVU1969
 5978              		.loc 1 2810 10 is_stmt 0 view .LVU1970
 5979 0070 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5980              		.loc 1 2810 7 view .LVU1971
 5981 0074 13F0400F 		tst	r3, #64
 5982 0078 3DD1     		bne	.L491
 5983              	.L472:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2816:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
 5984              		.loc 1 2816 4 is_stmt 1 view .LVU1972
 5985              		.loc 1 2816 11 is_stmt 0 view .LVU1973
 5986 007a D4F800B2 		ldr	fp, [r4, #512]
 5987 007e D4F81412 		ldr	r1, [r4, #532]
 5988 0082 5846     		mov	r0, fp
 5989 0084 FFF7FEFF 		bl	clust2sect
 5990              	.LVL655:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5991              		.loc 1 2817 4 is_stmt 1 view .LVU1974
 5992              		.loc 1 2817 7 is_stmt 0 view .LVU1975
 5993 0088 8146     		mov	r9, r0
ARM GAS  /tmp/cciFFPmJ.s 			page 180


 5994 008a 0028     		cmp	r0, #0
 5995 008c 4CD0     		beq	.L492
 5996              		.loc 1 2817 40 is_stmt 1 discriminator 2 view .LVU1976
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5997              		.loc 1 2818 4 discriminator 2 view .LVU1977
 5998              		.loc 1 2818 9 is_stmt 0 discriminator 2 view .LVU1978
 5999 008e B144     		add	r9, r9, r6
 6000              	.LVL656:
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fp->fs);			/* When remaining bytes >= sector size, */
 6001              		.loc 1 2819 4 is_stmt 1 discriminator 2 view .LVU1979
 6002              		.loc 1 2819 7 is_stmt 0 discriminator 2 view .LVU1980
 6003 0090 4FEA552A 		lsr	r10, r5, #9
 6004              	.LVL657:
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 6005              		.loc 1 2820 4 is_stmt 1 discriminator 2 view .LVU1981
 6006              		.loc 1 2820 7 is_stmt 0 discriminator 2 view .LVU1982
 6007 0094 B5F5007F 		cmp	r5, #512
 6008 0098 64D3     		bcc	.L475
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 6009              		.loc 1 2821 5 is_stmt 1 view .LVU1983
 6010              		.loc 1 2821 15 is_stmt 0 view .LVU1984
 6011 009a 06EB0A03 		add	r3, r6, r10
 6012              		.loc 1 2821 28 view .LVU1985
 6013 009e 9BF80222 		ldrb	r2, [fp, #514]	@ zero_extendqisi2
 6014              		.loc 1 2821 8 view .LVU1986
 6015 00a2 9342     		cmp	r3, r2
 6016 00a4 01D9     		bls	.L476
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 6017              		.loc 1 2822 6 is_stmt 1 view .LVU1987
 6018              		.loc 1 2822 25 is_stmt 0 view .LVU1988
 6019 00a6 A2EB060A 		sub	r10, r2, r6
 6020              	.LVL658:
 6021              	.L476:
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, wbuff, sect, cc) != RES_OK)
 6022              		.loc 1 2823 5 is_stmt 1 view .LVU1989
 6023              		.loc 1 2823 9 is_stmt 0 view .LVU1990
 6024 00aa 5346     		mov	r3, r10
 6025 00ac 4A46     		mov	r2, r9
 6026 00ae 3946     		mov	r1, r7
 6027 00b0 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 6028 00b4 FFF7FEFF 		bl	disk_write
 6029              	.LVL659:
 6030              		.loc 1 2823 8 view .LVU1991
 6031 00b8 E8B3     		cbz	r0, .L477
2824:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6032              		.loc 1 2824 6 is_stmt 1 view .LVU1992
 6033 00ba 4FF0010A 		mov	r10, #1
 6034              	.LVL660:
 6035              		.loc 1 2824 6 is_stmt 0 view .LVU1993
 6036 00be 84F807A2 		strb	r10, [r4, #519]
 6037              		.loc 1 2824 6 is_stmt 1 view .LVU1994
 6038 00c2 CDF804A0 		str	r10, [sp, #4]
 6039              	.LVL661:
 6040              	.L461:
2825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
2826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct 
ARM GAS  /tmp/cciFFPmJ.s 			page 181


2828:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->fs->win.d8, wbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), SS(fp->fs));
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fs->wflag = 0;
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2831:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->dsect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write 
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
2835:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2837:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fp->fs) * cc;		/* Number of bytes transferred */
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->fsize) {	/* Avoid silly cache filling at growing edge */
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fp->fs)) ABORT(fp->fs, FR_DISK_ERR);
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->winsect = sect;
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2846:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {		/* Fill sector cache with file data */
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2852:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));/* Put partial sector into file I/O buffer */
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
2857:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)	/* Move sector window */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->fs->win.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fs->wflag = 1;
2862:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->buf.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr > fp->fsize) fp->fsize = fp->fptr;	/* Update file size if needed */
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
2872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6041              		.loc 1 2872 1 is_stmt 0 view .LVU1995
 6042 00c6 0198     		ldr	r0, [sp, #4]
 6043 00c8 03B0     		add	sp, sp, #12
 6044              	.LCFI61:
 6045              		.cfi_remember_state
 6046              		.cfi_def_cfa_offset 36
 6047              		@ sp needed
 6048 00ca BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6049              	.LVL662:
 6050              	.L468:
 6051              	.LCFI62:
 6052              		.cfi_restore_state
ARM GAS  /tmp/cciFFPmJ.s 			page 182


2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6053              		.loc 1 2798 7 is_stmt 1 view .LVU1996
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6054              		.loc 1 2798 14 is_stmt 0 view .LVU1997
 6055 00ce D4F81412 		ldr	r1, [r4, #532]
 6056 00d2 FFF7FEFF 		bl	create_chain
 6057              	.LVL663:
 6058 00d6 0346     		mov	r3, r0
 6059              	.LVL664:
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6060              		.loc 1 2798 14 view .LVU1998
 6061 00d8 BBE7     		b	.L467
 6062              	.LVL665:
 6063              	.L489:
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6064              		.loc 1 2801 20 is_stmt 1 discriminator 1 view .LVU1999
 6065 00da 4FF0020A 		mov	r10, #2
 6066 00de 84F807A2 		strb	r10, [r4, #519]
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6067              		.loc 1 2801 20 discriminator 1 view .LVU2000
 6068 00e2 CDF804A0 		str	r10, [sp, #4]
 6069 00e6 EEE7     		b	.L461
 6070              	.L490:
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6071              		.loc 1 2802 29 discriminator 1 view .LVU2001
 6072 00e8 4FF0010A 		mov	r10, #1
 6073 00ec 84F807A2 		strb	r10, [r4, #519]
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6074              		.loc 1 2802 29 discriminator 1 view .LVU2002
 6075 00f0 CDF804A0 		str	r10, [sp, #4]
 6076 00f4 E7E7     		b	.L461
 6077              	.LVL666:
 6078              	.L491:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6079              		.loc 1 2811 5 view .LVU2003
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6080              		.loc 1 2811 22 is_stmt 0 view .LVU2004
 6081 00f6 D4F80002 		ldr	r0, [r4, #512]
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6082              		.loc 1 2811 9 view .LVU2005
 6083 00fa 0123     		movs	r3, #1
 6084 00fc D4F81822 		ldr	r2, [r4, #536]
 6085 0100 2146     		mov	r1, r4
 6086 0102 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 6087 0106 FFF7FEFF 		bl	disk_write
 6088              	.LVL667:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6089              		.loc 1 2811 8 view .LVU2006
 6090 010a 30B9     		cbnz	r0, .L493
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6091              		.loc 1 2812 32 is_stmt 1 view .LVU2007
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6092              		.loc 1 2813 5 view .LVU2008
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6093              		.loc 1 2813 14 is_stmt 0 view .LVU2009
 6094 010c 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 6095 0110 23F04003 		bic	r3, r3, #64
ARM GAS  /tmp/cciFFPmJ.s 			page 183


 6096 0114 84F80632 		strb	r3, [r4, #518]
 6097 0118 AFE7     		b	.L472
 6098              	.L493:
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6099              		.loc 1 2812 6 is_stmt 1 view .LVU2010
 6100 011a 4FF0010A 		mov	r10, #1
 6101 011e 84F807A2 		strb	r10, [r4, #519]
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6102              		.loc 1 2812 6 view .LVU2011
 6103 0122 CDF804A0 		str	r10, [sp, #4]
 6104 0126 CEE7     		b	.L461
 6105              	.LVL668:
 6106              	.L492:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6107              		.loc 1 2817 15 discriminator 1 view .LVU2012
 6108 0128 4FF0020A 		mov	r10, #2
 6109 012c 84F807A2 		strb	r10, [r4, #519]
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6110              		.loc 1 2817 15 discriminator 1 view .LVU2013
 6111 0130 CDF804A0 		str	r10, [sp, #4]
 6112 0134 C7E7     		b	.L461
 6113              	.LVL669:
 6114              	.L477:
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6115              		.loc 1 2824 32 view .LVU2014
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6116              		.loc 1 2832 5 view .LVU2015
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6117              		.loc 1 2832 11 is_stmt 0 view .LVU2016
 6118 0136 D4F81812 		ldr	r1, [r4, #536]
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6119              		.loc 1 2832 19 view .LVU2017
 6120 013a A1EB0901 		sub	r1, r1, r9
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6121              		.loc 1 2832 8 view .LVU2018
 6122 013e 5145     		cmp	r1, r10
 6123 0140 02D3     		bcc	.L494
 6124              	.L478:
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6125              		.loc 1 2838 5 is_stmt 1 view .LVU2019
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6126              		.loc 1 2838 10 is_stmt 0 view .LVU2020
 6127 0142 4FEA4A26 		lsl	r6, r10, #9
 6128              	.LVL670:
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6129              		.loc 1 2839 5 is_stmt 1 view .LVU2021
 6130 0146 2DE0     		b	.L479
 6131              	.LVL671:
 6132              	.L494:
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6133              		.loc 1 2833 6 view .LVU2022
 6134 0148 4FF40072 		mov	r2, #512
 6135 014c 07EB4121 		add	r1, r7, r1, lsl #9
 6136 0150 2046     		mov	r0, r4
 6137 0152 FFF7FEFF 		bl	mem_cpy
 6138              	.LVL672:
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/cciFFPmJ.s 			page 184


 6139              		.loc 1 2834 6 view .LVU2023
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6140              		.loc 1 2834 15 is_stmt 0 view .LVU2024
 6141 0156 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 6142 015a 23F04003 		bic	r3, r3, #64
 6143 015e 84F80632 		strb	r3, [r4, #518]
 6144 0162 EEE7     		b	.L478
 6145              	.L475:
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6146              		.loc 1 2847 4 is_stmt 1 view .LVU2025
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6147              		.loc 1 2847 10 is_stmt 0 view .LVU2026
 6148 0164 D4F81832 		ldr	r3, [r4, #536]
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6149              		.loc 1 2847 7 view .LVU2027
 6150 0168 4B45     		cmp	r3, r9
 6151 016a 05D0     		beq	.L480
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6152              		.loc 1 2848 5 is_stmt 1 view .LVU2028
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6153              		.loc 1 2848 11 is_stmt 0 view .LVU2029
 6154 016c D4F80822 		ldr	r2, [r4, #520]
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6155              		.loc 1 2848 22 view .LVU2030
 6156 0170 D4F80C32 		ldr	r3, [r4, #524]
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6157              		.loc 1 2848 8 view .LVU2031
 6158 0174 9A42     		cmp	r2, r3
 6159 0176 3ED3     		bcc	.L495
 6160              	.L480:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6161              		.loc 1 2850 33 is_stmt 1 view .LVU2032
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6162              		.loc 1 2853 4 view .LVU2033
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6163              		.loc 1 2853 14 is_stmt 0 view .LVU2034
 6164 0178 C4F81892 		str	r9, [r4, #536]
 6165              	.LVL673:
 6166              	.L464:
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6167              		.loc 1 2855 3 is_stmt 1 view .LVU2035
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6168              		.loc 1 2855 32 is_stmt 0 view .LVU2036
 6169 017c D4F80802 		ldr	r0, [r4, #520]
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6170              		.loc 1 2855 39 view .LVU2037
 6171 0180 C0F30800 		ubfx	r0, r0, #0, #9
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6172              		.loc 1 2855 8 view .LVU2038
 6173 0184 C0F50076 		rsb	r6, r0, #512
 6174              	.LVL674:
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6175              		.loc 1 2856 3 is_stmt 1 view .LVU2039
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6176              		.loc 1 2856 6 is_stmt 0 view .LVU2040
 6177 0188 B542     		cmp	r5, r6
 6178 018a 00D2     		bcs	.L481
ARM GAS  /tmp/cciFFPmJ.s 			page 185


2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6179              		.loc 1 2856 24 view .LVU2041
 6180 018c 2E46     		mov	r6, r5
 6181              	.LVL675:
 6182              	.L481:
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
 6183              		.loc 1 2863 3 is_stmt 1 view .LVU2042
 6184 018e 3246     		mov	r2, r6
 6185 0190 3946     		mov	r1, r7
 6186 0192 2044     		add	r0, r0, r4
 6187 0194 FFF7FEFF 		bl	mem_cpy
 6188              	.LVL676:
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6189              		.loc 1 2864 3 view .LVU2043
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6190              		.loc 1 2864 12 is_stmt 0 view .LVU2044
 6191 0198 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 6192 019c 43F04003 		orr	r3, r3, #64
 6193 01a0 84F80632 		strb	r3, [r4, #518]
 6194              	.L479:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6195              		.loc 1 2784 3 is_stmt 1 view .LVU2045
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6196              		.loc 1 2784 9 is_stmt 0 view .LVU2046
 6197 01a4 3744     		add	r7, r7, r6
 6198              	.LVL677:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6199              		.loc 1 2784 27 view .LVU2047
 6200 01a6 D4F80832 		ldr	r3, [r4, #520]
 6201 01aa 3344     		add	r3, r3, r6
 6202 01ac C4F80832 		str	r3, [r4, #520]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6203              		.loc 1 2784 40 view .LVU2048
 6204 01b0 D8F80030 		ldr	r3, [r8]
 6205 01b4 3344     		add	r3, r3, r6
 6206 01b6 C8F80030 		str	r3, [r8]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6207              		.loc 1 2784 53 view .LVU2049
 6208 01ba AD1B     		subs	r5, r5, r6
 6209              	.LVL678:
 6210              	.L482:
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
 6211              		.loc 1 2783 11 is_stmt 1 view .LVU2050
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
 6212              		.loc 1 2783 2 is_stmt 0 view .LVU2051
 6213 01bc 5DB3     		cbz	r5, .L469
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6214              		.loc 1 2785 3 is_stmt 1 view .LVU2052
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6215              		.loc 1 2785 10 is_stmt 0 view .LVU2053
 6216 01be D4F80812 		ldr	r1, [r4, #520]
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6217              		.loc 1 2785 17 view .LVU2054
 6218 01c2 C1F30803 		ubfx	r3, r1, #0, #9
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6219              		.loc 1 2785 6 view .LVU2055
 6220 01c6 002B     		cmp	r3, #0
ARM GAS  /tmp/cciFFPmJ.s 			page 186


 6221 01c8 D8D1     		bne	.L464
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6222              		.loc 1 2786 4 is_stmt 1 view .LVU2056
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6223              		.loc 1 2786 46 is_stmt 0 view .LVU2057
 6224 01ca D4F80002 		ldr	r0, [r4, #512]
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6225              		.loc 1 2786 50 view .LVU2058
 6226 01ce 90F80262 		ldrb	r6, [r0, #514]	@ zero_extendqisi2
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6227              		.loc 1 2786 58 view .LVU2059
 6228 01d2 013E     		subs	r6, r6, #1
 6229 01d4 F6B2     		uxtb	r6, r6
 6230              	.LVL679:
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6231              		.loc 1 2787 4 is_stmt 1 view .LVU2060
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6232              		.loc 1 2787 7 is_stmt 0 view .LVU2061
 6233 01d6 16EA5126 		ands	r6, r6, r1, lsr #9
 6234              	.LVL680:
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6235              		.loc 1 2787 7 view .LVU2062
 6236 01da 7FF449AF 		bne	.L465
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
 6237              		.loc 1 2788 5 is_stmt 1 view .LVU2063
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
 6238              		.loc 1 2788 8 is_stmt 0 view .LVU2064
 6239 01de 0029     		cmp	r1, #0
 6240 01e0 7FF42FAF 		bne	.L466
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
 6241              		.loc 1 2789 6 is_stmt 1 view .LVU2065
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
 6242              		.loc 1 2789 11 is_stmt 0 view .LVU2066
 6243 01e4 D4F81032 		ldr	r3, [r4, #528]
 6244              	.LVL681:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
 6245              		.loc 1 2790 6 is_stmt 1 view .LVU2067
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
 6246              		.loc 1 2790 9 is_stmt 0 view .LVU2068
 6247 01e8 002B     		cmp	r3, #0
 6248 01ea 7FF432AF 		bne	.L467
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6249              		.loc 1 2791 7 is_stmt 1 view .LVU2069
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6250              		.loc 1 2791 14 is_stmt 0 view .LVU2070
 6251 01ee FFF7FEFF 		bl	create_chain
 6252              	.LVL682:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6253              		.loc 1 2791 14 view .LVU2071
 6254 01f2 0346     		mov	r3, r0
 6255              	.LVL683:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6256              		.loc 1 2791 14 view .LVU2072
 6257 01f4 2DE7     		b	.L467
 6258              	.LVL684:
 6259              	.L495:
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
ARM GAS  /tmp/cciFFPmJ.s 			page 187


 6260              		.loc 1 2849 6 discriminator 1 view .LVU2073
 6261 01f6 0123     		movs	r3, #1
 6262 01f8 4A46     		mov	r2, r9
 6263 01fa 2146     		mov	r1, r4
 6264 01fc 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 6265 0200 FFF7FEFF 		bl	disk_read
 6266              	.LVL685:
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6267              		.loc 1 2848 30 discriminator 1 view .LVU2074
 6268 0204 0028     		cmp	r0, #0
 6269 0206 B7D0     		beq	.L480
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6270              		.loc 1 2850 7 is_stmt 1 view .LVU2075
 6271 0208 4FF0010A 		mov	r10, #1
 6272              	.LVL686:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6273              		.loc 1 2850 7 is_stmt 0 view .LVU2076
 6274 020c 84F807A2 		strb	r10, [r4, #519]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6275              		.loc 1 2850 7 is_stmt 1 view .LVU2077
 6276 0210 CDF804A0 		str	r10, [sp, #4]
 6277 0214 57E7     		b	.L461
 6278              	.LVL687:
 6279              	.L469:
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6280              		.loc 1 2868 2 view .LVU2078
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6281              		.loc 1 2868 8 is_stmt 0 view .LVU2079
 6282 0216 D4F80832 		ldr	r3, [r4, #520]
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6283              		.loc 1 2868 19 view .LVU2080
 6284 021a D4F80C22 		ldr	r2, [r4, #524]
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6285              		.loc 1 2868 5 view .LVU2081
 6286 021e 9342     		cmp	r3, r2
 6287 0220 01D9     		bls	.L484
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6288              		.loc 1 2868 28 is_stmt 1 discriminator 1 view .LVU2082
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6289              		.loc 1 2868 38 is_stmt 0 discriminator 1 view .LVU2083
 6290 0222 C4F80C32 		str	r3, [r4, #524]
 6291              	.L484:
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6292              		.loc 1 2869 2 is_stmt 1 view .LVU2084
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6293              		.loc 1 2869 11 is_stmt 0 view .LVU2085
 6294 0226 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 6295 022a 43F02003 		orr	r3, r3, #32
 6296 022e 84F80632 		strb	r3, [r4, #518]
2871:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6297              		.loc 1 2871 2 is_stmt 1 view .LVU2086
 6298 0232 48E7     		b	.L461
 6299              	.LVL688:
 6300              	.L485:
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr + btw < fp->fptr) btw = 0;	/* File size cannot reach 4GB */
 6301              		.loc 1 2780 3 is_stmt 0 view .LVU2087
 6302 0234 0723     		movs	r3, #7
ARM GAS  /tmp/cciFFPmJ.s 			page 188


 6303 0236 0193     		str	r3, [sp, #4]
 6304 0238 45E7     		b	.L461
 6305              		.cfi_endproc
 6306              	.LFE102:
 6308              		.section	.text.putc_bfd,"ax",%progbits
 6309              		.align	1
 6310              		.syntax unified
 6311              		.thumb
 6312              		.thumb_func
 6313              		.fpu softvfp
 6315              	putc_bfd:
 6316              	.LVL689:
 6317              	.LFB119:
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 
2877:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2878:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 
2881:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** )
2884:Middlewares/Third_Party/FatFs/src/ff.c **** {
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
2894:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2901:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fp->fs, fp->dir_sect);
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2916:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cciFFPmJ.s 			page 189


2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
2919:Middlewares/Third_Party/FatFs/src/ff.c **** }
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 
2921:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 
2926:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2927:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
2928:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 
2930:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp		/* Pointer to the file object to be closed */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** )
2933:Middlewares/Third_Party/FatFs/src/ff.c **** {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 
2937:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
2940:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(fp);				/* Lock volume */
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2944:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2945:Middlewares/Third_Party/FatFs/src/ff.c **** 			FATFS *fs = fp->fs;
2946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->lockid);	/* Decrement file open counter */
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs = 0;				/* Invalidate file object */
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
2954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2958:Middlewares/Third_Party/FatFs/src/ff.c **** }
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** 
2961:Middlewares/Third_Party/FatFs/src/ff.c **** 
2962:Middlewares/Third_Party/FatFs/src/ff.c **** 
2963:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2964:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
2965:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 
2967:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
2968:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
2969:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** )
2972:Middlewares/Third_Party/FatFs/src/ff.c **** {
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
ARM GAS  /tmp/cciFFPmJ.s 			page 190


2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 
2979:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 
2981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
2983:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
2988:Middlewares/Third_Party/FatFs/src/ff.c **** )
2989:Middlewares/Third_Party/FatFs/src/ff.c **** {
2990:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
2992:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
2993:Middlewares/Third_Party/FatFs/src/ff.c **** 
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dj.dir) {
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->cdir = dj.sclust;	/* Start directory itself */
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.dir[DIR_Attr] & AM_DIR)	/* Reached to the directory */
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->cdir = ld_clust(dj.fs, dj.dir);
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3015:Middlewares/Third_Party/FatFs/src/ff.c **** }
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 
3018:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3019:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** )
3023:Middlewares/Third_Party/FatFs/src/ff.c **** {
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
ARM GAS  /tmp/cciFFPmJ.s 			page 191


3031:Middlewares/Third_Party/FatFs/src/ff.c **** 
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, (const TCHAR**)&buff, 0);	/* Get current volume */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = dj.fs->cdir;			/* Start to follow upper directory from current directory */
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((ccl = dj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 1);			/* Get parent directory */
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3043:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 0);
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.sclust = ld_clust(dj.fs, dj.dir);	/* Goto parent directory */
3046:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 0);
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {							/* Find the entry links to the child directory */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_read(&dj, 0);
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ccl == ld_clust(dj.fs, dj.dir)) break;	/* Found the entry */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(&dj, 0);	
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3056:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfname = buff;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfsize = i;
3059:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = fno.fname;
3062:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*buff) tp = buff;
3064:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (n = 0; tp[n]; n++) ;
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < n + 3) {
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE; break;
3068:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (n) buff[--i] = tp[--n];
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 			buff[--i] = '/';
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3074:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3077:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
ARM GAS  /tmp/cciFFPmJ.s 			page 192


3088:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3091:Middlewares/Third_Party/FatFs/src/ff.c **** }
3092:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 
3097:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3098:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3099:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3100:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 
3102:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File pointer from top of file */
3105:Middlewares/Third_Party/FatFs/src/ff.c **** )
3106:Middlewares/Third_Party/FatFs/src/ff.c **** {
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect, ifptr;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 
3119:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fp->fs->n_fatent);	/* Repeat until end of chain */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
ARM GAS  /tmp/cciFFPmJ.s 			page 193


3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->fsize)		/* Clip offset at the file size */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3157:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fp->fs->drv, fp->buf.d8, dsc, 1) != RES_OK)	/* Load current sector */
3165:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
3166:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->dsect = dsc;
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3169:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3172:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->fsize					/* In read-only mode, clip offset with the file size */
3177:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			 && !(fp->flag & FA_WRITE)
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 			) ofs = fp->fsize;
3181:Middlewares/Third_Party/FatFs/src/ff.c **** 
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->sclust;						/* start from the first cluster */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
3199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3200:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
ARM GAS  /tmp/cciFFPmJ.s 			page 194


3202:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
3204:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
3205:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3211:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3212:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, clst);	/* Follow cluster chain if not in write mode */
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
3219:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
3225:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fp->fs) && nsect != fp->dsect) {	/* Fill sector cache if needed */
3229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {			/* Write-back dirty sector cache */
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
3235:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3236:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fp->fs->drv, fp->buf.d8, nsect, 1) != RES_OK)	/* Fill sector cache */
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = nsect;
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3242:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr > fp->fsize) {			/* Set file change flag if the file size is extended */
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3248:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3251:Middlewares/Third_Party/FatFs/src/ff.c **** }
3252:Middlewares/Third_Party/FatFs/src/ff.c **** 
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cciFFPmJ.s 			page 195


3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** )
3264:Middlewares/Third_Party/FatFs/src/ff.c **** {
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
3278:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
3283:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = 0;	/* Root directory need not to be locked */
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3299:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->fs = 0;		/* Invalidate the directory object if function faild */
3305:Middlewares/Third_Party/FatFs/src/ff.c **** 
3306:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3307:Middlewares/Third_Party/FatFs/src/ff.c **** }
3308:Middlewares/Third_Party/FatFs/src/ff.c **** 
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 
3312:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3313:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
3314:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cciFFPmJ.s 			page 196


3316:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
3317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
3318:Middlewares/Third_Party/FatFs/src/ff.c **** )
3319:Middlewares/Third_Party/FatFs/src/ff.c **** {
3320:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3325:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 		FATFS *fs = dp->fs;
3327:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3328:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->lockid)				/* Decrement sub-directory open counter */
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3333:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs = 0;				/* Invalidate directory object */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
3336:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3339:Middlewares/Third_Party/FatFs/src/ff.c **** }
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 
3342:Middlewares/Third_Party/FatFs/src/ff.c **** 
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 
3344:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3345:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
3346:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 
3348:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
3350:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3351:Middlewares/Third_Party/FatFs/src/ff.c **** )
3352:Middlewares/Third_Party/FatFs/src/ff.c **** {
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);						/* Check validity of the object */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_BUF(*dp);
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
ARM GAS  /tmp/cciFFPmJ.s 			page 197


3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_BUF();
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dp->fs, res);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** }
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 
3385:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
3386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3387:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find next file                                                        */
3388:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3389:Middlewares/Third_Party/FatFs/src/ff.c **** 
3390:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
3393:Middlewares/Third_Party/FatFs/src/ff.c **** )
3394:Middlewares/Third_Party/FatFs/src/ff.c **** {
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
3401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fno->lfname && pattern_matching(dp->pat, fno->lfname, 0, 0)) break;	/* Test for LFN if exist 
3403:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;	/* Test for SFN */
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 
3408:Middlewares/Third_Party/FatFs/src/ff.c **** }
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 
3412:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3413:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find first file                                                       */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 
3416:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
3421:Middlewares/Third_Party/FatFs/src/ff.c **** )
3422:Middlewares/Third_Party/FatFs/src/ff.c **** {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
3427:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
ARM GAS  /tmp/cciFFPmJ.s 			page 198


3430:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3431:Middlewares/Third_Party/FatFs/src/ff.c **** }
3432:Middlewares/Third_Party/FatFs/src/ff.c **** 
3433:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 
3437:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
3438:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3439:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
3440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 
3442:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3445:Middlewares/Third_Party/FatFs/src/ff.c **** )
3446:Middlewares/Third_Party/FatFs/src/ff.c **** {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3468:Middlewares/Third_Party/FatFs/src/ff.c **** }
3469:Middlewares/Third_Party/FatFs/src/ff.c **** 
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 
3471:Middlewares/Third_Party/FatFs/src/ff.c **** 
3472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3474:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 
3477:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
3481:Middlewares/Third_Party/FatFs/src/ff.c **** )
3482:Middlewares/Third_Party/FatFs/src/ff.c **** {
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, sect, stat;
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
ARM GAS  /tmp/cciFFPmJ.s 			page 199


3487:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fat, *p;
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 
3489:Middlewares/Third_Party/FatFs/src/ff.c **** 
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(fatfs, &path, 0);
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust <= fs->n_fatent - 2) {
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			fat = fs->fs_type;
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
3509:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fs->n_fatent;
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fat == FS_FAT16) {
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((LD_DWORD(p) & 0x0FFFFFFF) == 0) n++;
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (--clst);
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = n;
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3535:Middlewares/Third_Party/FatFs/src/ff.c **** }
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 
3540:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3541:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
3542:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cciFFPmJ.s 			page 200


3544:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
3545:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3546:Middlewares/Third_Party/FatFs/src/ff.c **** )
3547:Middlewares/Third_Party/FatFs/src/ff.c **** {
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity of the object */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(fp->flag & FA_WRITE))		/* Check access mode */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
3568:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = get_fat(fp->fs, fp->clust);
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (fp->flag & FA__DIRTY)) {
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
3584:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) fp->err = (FRESULT)res;
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3591:Middlewares/Third_Party/FatFs/src/ff.c **** }
3592:Middlewares/Third_Party/FatFs/src/ff.c **** 
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 
3595:Middlewares/Third_Party/FatFs/src/ff.c **** 
3596:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3597:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File or Directory                                            */
3598:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
ARM GAS  /tmp/cciFFPmJ.s 			page 201


3601:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
3602:Middlewares/Third_Party/FatFs/src/ff.c **** )
3603:Middlewares/Third_Party/FatFs/src/ff.c **** {
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
3606:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
3608:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3609:Middlewares/Third_Party/FatFs/src/ff.c **** 
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
3618:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Cannot remove open object */
3620:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_RDO)
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
3632:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == dj.fs->cdir) {		 		/* Is it the current directory? */
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3636:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(&sdj, &dj, sizeof (DIR));	/* Open the sub-directory */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3646:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cciFFPmJ.s 			page 202


3658:Middlewares/Third_Party/FatFs/src/ff.c **** 
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3660:Middlewares/Third_Party/FatFs/src/ff.c **** }
3661:Middlewares/Third_Party/FatFs/src/ff.c **** 
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 
3663:Middlewares/Third_Party/FatFs/src/ff.c **** 
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 
3665:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3666:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
3667:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3668:Middlewares/Third_Party/FatFs/src/ff.c **** 
3669:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
3671:Middlewares/Third_Party/FatFs/src/ff.c **** )
3672:Middlewares/Third_Party/FatFs/src/ff.c **** {
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, n;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3678:Middlewares/Third_Party/FatFs/src/ff.c **** 
3679:Middlewares/Third_Party/FatFs/src/ff.c **** 
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
3690:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
ARM GAS  /tmp/cciFFPmJ.s 			page 203


3715:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3717:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = dir_register(&dj);	/* Register the object to the directoy */
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3728:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3730:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3732:Middlewares/Third_Party/FatFs/src/ff.c **** 
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3734:Middlewares/Third_Party/FatFs/src/ff.c **** }
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 
3739:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3740:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
3741:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 
3743:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
3747:Middlewares/Third_Party/FatFs/src/ff.c **** )
3748:Middlewares/Third_Party/FatFs/src/ff.c **** {
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3753:Middlewares/Third_Party/FatFs/src/ff.c **** 
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
ARM GAS  /tmp/cciFFPmJ.s 			page 204


3772:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** }
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 
3782:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3783:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename File/Directory                                                 */
3784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 
3786:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object to be renamed */
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** )
3790:Middlewares/Third_Party/FatFs/src/ff.c **** {
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[21], *dir;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number of the source object */
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&djo.fs, &path_old, 1);
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
3804:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&djo, 2);
3808:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Old object is found */
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about object except name */
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_INVALID_DRIVE;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3823:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
ARM GAS  /tmp/cciFFPmJ.s 			page 205


3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(djo.fs, dw);
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
3845:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of critical section */
3847:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3848:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3850:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3851:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3853:Middlewares/Third_Party/FatFs/src/ff.c **** 
3854:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(djo.fs, res);
3855:Middlewares/Third_Party/FatFs/src/ff.c **** }
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 
3860:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3861:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
3862:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
3865:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
3866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
3867:Middlewares/Third_Party/FatFs/src/ff.c **** )
3868:Middlewares/Third_Party/FatFs/src/ff.c **** {
3869:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3871:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
ARM GAS  /tmp/cciFFPmJ.s 			page 206


3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3887:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtTime, fno->ftime);
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 
3896:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3897:Middlewares/Third_Party/FatFs/src/ff.c **** }
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 
3899:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
3901:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
3902:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
3903:Middlewares/Third_Party/FatFs/src/ff.c **** 
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 
3907:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
3908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get volume label                                                      */
3910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 
3912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
3916:Middlewares/Third_Party/FatFs/src/ff.c **** )
3917:Middlewares/Third_Party/FatFs/src/ff.c **** {
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3920:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
3921:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3924:Middlewares/Third_Party/FatFs/src/ff.c **** 
3925:Middlewares/Third_Party/FatFs/src/ff.c **** 
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = 0;					/* Open root directory */
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {			/* A volume label is exist */
3936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = j = 0;
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (i < 11) ? dj.dir[i++] : ' ';
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsDBCS1(w) && i < 11 && IsDBCS2(dj.dir[i]))
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = w << 8 | dj.dir[i++];
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j++] = ff_convert(w, 1);	/* OEM -> Unicode */
ARM GAS  /tmp/cciFFPmJ.s 			page 207


3943:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (j < 11);
3944:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(label, dj.dir, 11);
3946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				j = 11;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j] = 0;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!j) break;
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (label[--j] == ' ');
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {	/* No label, return nul string */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 				label[0] = 0;
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dj.fs, dj.fs->volbase);
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = dj.fs->fs_type == FS_FAT32 ? BS_VolID32 : BS_VolID;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = LD_DWORD(&dj.fs->win.d8[i]);
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3970:Middlewares/Third_Party/FatFs/src/ff.c **** }
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 
3972:Middlewares/Third_Party/FatFs/src/ff.c **** 
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 
3974:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3976:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set volume label                                                      */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 
3979:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
3981:Middlewares/Third_Party/FatFs/src/ff.c **** )
3982:Middlewares/Third_Party/FatFs/src/ff.c **** {
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE vn[11];
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, sl;
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3989:Middlewares/Third_Party/FatFs/src/ff.c **** 
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &label, 1);
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res) LEAVE_FF(dj.fs, res);
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create a volume label in directory form */
3996:Middlewares/Third_Party/FatFs/src/ff.c **** 	vn[0] = 0;
3997:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (sl = 0; label[sl]; sl++) ;				/* Get name length */
3998:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ; sl && label[sl - 1] == ' '; sl--) ;	/* Remove trailing spaces */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sl) {	/* Create volume label in directory form */
ARM GAS  /tmp/cciFFPmJ.s 			page 208


4000:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = j = 0;
4001:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4002:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(label[i++]), 0);
4004:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (BYTE)label[i++];
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w))
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (j < 10 && i < sl && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
4014:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4017:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4018:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("\"*+,.:;<=>\?[]|\x7F", w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) /* Reject i
4020:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(dj.fs, FR_INVALID_NAME);
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x100) vn[j++] = (BYTE)(w >> 8);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 			vn[j++] = (BYTE)w;
4023:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i < sl);
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j < 11) vn[j++] = ' ';	/* Fill remaining name field */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (vn[0] == DDEM) LEAVE_FF(dj.fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.sclust = 0;					/* Open root directory */
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* A volume label is found */
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (vn[0]) {
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir, vn, 11);	/* Change the volume label name */
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dj.dir + DIR_WrtTime, tm);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[0] = DDEM;			/* Remove the volume label */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.fs->wflag = 1;
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(dj.fs);
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {					/* No volume label is found or error */
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (vn[0]) {				/* Create volume label as new */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry for volume label */
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZ_DIRE);	/* Set volume label */
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dj.dir, vn, 11);
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.dir[DIR_Attr] = AM_VOL;
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 						tm = GET_FATTIME();
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 						ST_DWORD(dj.dir + DIR_WrtTime, tm);
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->wflag = 1;
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(dj.fs);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/cciFFPmJ.s 			page 209


4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4059:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4060:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** }
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
4067:Middlewares/Third_Party/FatFs/src/ff.c **** 
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 
4070:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4071:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly (available on only tiny cfg)      */
4072:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD && _FS_TINY
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
4077:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
4079:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
4080:Middlewares/Third_Party/FatFs/src/ff.c **** )
4081:Middlewares/Third_Party/FatFs/src/ff.c **** {
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD remain, clst, sect;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);								/* Check validity of the object */
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)									/* Check error */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
4094:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ))						/* Check access mode */
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream becomes busy */
4101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {			/* On the sector boundary? */
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {							/* On the cluster boundary? */
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust : get_fat(fp->fs, fp->clust);
4107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fp->fs, FR_INT_ERR);
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fp->fs, fp->clust);		/* Get current data sector */
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fp->fs, FR_INT_ERR);
ARM GAS  /tmp/cciFFPmJ.s 			page 210


4114:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, sect) != FR_OK)		/* Move sector window */
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->dsect = sect;
4118:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - (WORD)(fp->fptr % SS(fp->fs));	/* Forward data from sector window */
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(&fp->fs->win.d8[(WORD)fp->fptr % SS(fp->fs)], rcnt);
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fp->fs, FR_INT_ERR);
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
4125:Middlewares/Third_Party/FatFs/src/ff.c **** }
4126:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 
4130:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
4131:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4132:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create file system on the logical drive                               */
4133:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4134:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_ROOTDIR	512		/* Number of root directory entries for FAT12/16 */
4135:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_FATS		1		/* Number of FATs (1 or 2) */
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 
4138:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
4139:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
4140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sfd,			/* Partitioning rule 0:FDISK, 1:SFD */
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT au				/* Size of allocation unit in unit of byte or sector */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** )
4143:Middlewares/Third_Party/FatFs/src/ff.c **** {
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
4145:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
4147:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, md, sys, *tbl, pdrv, part;
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_clst, vs, n, wsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_dir, b_data;	/* LBA */
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_vol, n_rsv, n_fat, n_dir;	/* Size */
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD eb[2];
4156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4157:Middlewares/Third_Party/FatFs/src/ff.c **** 
4158:Middlewares/Third_Party/FatFs/src/ff.c **** 
4159:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfd > 1) return FR_INVALID_PARAMETER;
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get disk statics */
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
ARM GAS  /tmp/cciFFPmJ.s 			page 211


4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
4173:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK || SS(fs) > _MAX_SS || SS(fs) < _MIN_SS)
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
4176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, fs->win.d8, 0, 1) != RES_OK) return FR_DISK_ERR;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!tbl[4]) return FR_MKFS_ABORTED;	/* No partition? */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = LD_DWORD(tbl + 8);	/* Volume start sector */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol = LD_DWORD(tbl + 12);	/* Volume size */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a partition in this function */
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &n_vol) != RES_OK || n_vol < 128)
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au & (au - 1)) au = 0;
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au >= _MIN_SS) au /= SS(fs);	/* Number of sectors per cluster */
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-compute number of clusters and FAT sub-type */
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = n_vol / au;
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine offset and size of FAT structure */
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
4214:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (fmt == FS_FAT12) ? (n_clst * 3 + 1) / 2 + 3 : (n_clst * 2) + 4;
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_fat = b_vol + n_rsv;				/* FAT area start sector */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Align data start sector to erase block boundary (for flash memory media) */
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &n) != RES_OK || !n || n > 32768) n = 1;
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
ARM GAS  /tmp/cciFFPmJ.s 			page 212


4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
4232:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat += n;
4234:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine number of clusters and final check of validity of the FAT sub-type */
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = (n_vol - n_rsv - n_fat * N_FATS - n_dir) / au;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 
4242:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT12 && n_vol < 0x10000) {
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = (n_vol < 0x10000) ? 0x04 : 0x06;	/* FAT16(<65536) : FAT12/16(>=65536) */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 
4253:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[4] = sys;
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to teh MBR */
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 		md = 0xF8;
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sfd) {	/* No partition table (SFD) */
4262:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
4263:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {	/* Create partition table (FDISK) */
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
4265:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create BPB in the VBR */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fs->win.d8;							/* Clear sector */
ARM GAS  /tmp/cciFFPmJ.s 			page 213


4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SS(fs);								/* Sector size */
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
4296:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_TotSec32, n_vol);
4298:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_Media] = md;					/* Media descriptor */
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID, n);		/* VSN */
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BS_55AA, 0xAA55);			/* Signature (Offset is fixed here regardless of sector size) */
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
4322:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize FAT area */
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	wsect = b_fat;
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < N_FATS; i++) {		/* Initialize each FAT copy */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= 0xFFFFFF00;
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
ARM GAS  /tmp/cciFFPmJ.s 			page 214


4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4348:Middlewares/Third_Party/FatFs/src/ff.c **** 
4349:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize root directory */
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? au : (UINT)n_dir;
4351:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4353:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 
4356:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM	/* Erase data area if needed */
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 		eb[0] = wsect; eb[1] = wsect + (n_clst - ((fmt == FS_FAT32) ? 1 : 0)) * au - 1;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, eb);
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4361:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create FSINFO if needed */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_ioctl(pdrv, CTRL_SYNC, 0) == RES_OK) ? FR_OK : FR_DISK_ERR;
4375:Middlewares/Third_Party/FatFs/src/ff.c **** }
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 
4379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
4380:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4381:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
4382:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4383:Middlewares/Third_Party/FatFs/src/ff.c **** 
4384:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
4385:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD szt[],	/* Pointer to the size table for each partitions */
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
4388:Middlewares/Third_Party/FatFs/src/ff.c **** )
4389:Middlewares/Third_Party/FatFs/src/ff.c **** {
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
4392:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
ARM GAS  /tmp/cciFFPmJ.s 			page 215


4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine CHS in the table regardless of the drive geometry */
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
4421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x06;						/* System type (temporary setting) */
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 8, s_part);			/* Start sector in LBA */
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 12, sz_part);			/* Partition size */
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
4438:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(p, 0xAA55);
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
4443:Middlewares/Third_Party/FatFs/src/ff.c **** }
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 
4446:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
4447:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 
4452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
4453:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
4455:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cciFFPmJ.s 			page 216


4456:Middlewares/Third_Party/FatFs/src/ff.c **** 
4457:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** )
4462:Middlewares/Third_Party/FatFs/src/ff.c **** {
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
4470:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4471:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
4472:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4473:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4475:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence */
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence */
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4493:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
4497:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
4501:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
4511:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
4512:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cciFFPmJ.s 			page 217


4513:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4517:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
4522:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
4525:Middlewares/Third_Party/FatFs/src/ff.c **** }
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 
4527:Middlewares/Third_Party/FatFs/src/ff.c **** 
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 
4530:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4531:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
4532:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4533:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
4534:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4535:Middlewares/Third_Party/FatFs/src/ff.c **** 
4536:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp;
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];
4540:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 
4543:Middlewares/Third_Party/FatFs/src/ff.c **** static
4544:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
4547:Middlewares/Third_Party/FatFs/src/ff.c **** )
4548:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6318              		.loc 1 4548 1 is_stmt 1 view -0
 6319              		.cfi_startproc
 6320              		@ args = 0, pretend = 0, frame = 8
 6321              		@ frame_needed = 0, uses_anonymous_args = 0
 6322              		.loc 1 4548 1 is_stmt 0 view .LVU2089
 6323 0000 70B5     		push	{r4, r5, r6, lr}
 6324              	.LCFI63:
 6325              		.cfi_def_cfa_offset 16
 6326              		.cfi_offset 4, -16
 6327              		.cfi_offset 5, -12
 6328              		.cfi_offset 6, -8
 6329              		.cfi_offset 14, -4
 6330 0002 82B0     		sub	sp, sp, #8
 6331              	.LCFI64:
 6332              		.cfi_def_cfa_offset 24
 6333 0004 0446     		mov	r4, r0
 6334 0006 0D46     		mov	r5, r1
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 6335              		.loc 1 4549 2 is_stmt 1 view .LVU2090
4550:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
 6336              		.loc 1 4550 2 view .LVU2091
ARM GAS  /tmp/cciFFPmJ.s 			page 218


4551:Middlewares/Third_Party/FatFs/src/ff.c **** 
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n')	 /* LF -> CRLF conversion */
 6337              		.loc 1 4553 2 view .LVU2092
 6338              		.loc 1 4553 5 is_stmt 0 view .LVU2093
 6339 0008 0A29     		cmp	r1, #10
 6340 000a 0DD0     		beq	.L503
 6341              	.LVL690:
 6342              	.L497:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;	/* Buffer write index (-1:error) */
 6343              		.loc 1 4556 2 is_stmt 1 view .LVU2094
 6344              		.loc 1 4556 4 is_stmt 0 view .LVU2095
 6345 000c 6368     		ldr	r3, [r4, #4]
 6346              	.LVL691:
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 6347              		.loc 1 4557 2 is_stmt 1 view .LVU2096
 6348              		.loc 1 4557 5 is_stmt 0 view .LVU2097
 6349 000e 002B     		cmp	r3, #0
 6350 0010 08DB     		blt	.L496
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 
4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
4567:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
4576:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4578:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
4580:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
 6351              		.loc 1 4586 2 is_stmt 1 view .LVU2098
 6352              		.loc 1 4586 11 is_stmt 0 view .LVU2099
 6353 0012 5E1C     		adds	r6, r3, #1
 6354              	.LVL692:
 6355              		.loc 1 4586 15 view .LVU2100
 6356 0014 2344     		add	r3, r3, r4
 6357 0016 1D73     		strb	r5, [r3, #12]
ARM GAS  /tmp/cciFFPmJ.s 			page 219


4587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
 6358              		.loc 1 4589 2 is_stmt 1 view .LVU2101
 6359              		.loc 1 4589 5 is_stmt 0 view .LVU2102
 6360 0018 3C2E     		cmp	r6, #60
 6361 001a 09DC     		bgt	.L504
 6362              	.LVL693:
 6363              	.L500:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
 6364              		.loc 1 4593 2 is_stmt 1 view .LVU2103
 6365              		.loc 1 4593 10 is_stmt 0 view .LVU2104
 6366 001c 6660     		str	r6, [r4, #4]
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 6367              		.loc 1 4594 2 is_stmt 1 view .LVU2105
 6368              		.loc 1 4594 4 is_stmt 0 view .LVU2106
 6369 001e A368     		ldr	r3, [r4, #8]
 6370              		.loc 1 4594 10 view .LVU2107
 6371 0020 0133     		adds	r3, r3, #1
 6372 0022 A360     		str	r3, [r4, #8]
 6373              	.LVL694:
 6374              	.L496:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6375              		.loc 1 4595 1 view .LVU2108
 6376 0024 02B0     		add	sp, sp, #8
 6377              	.LCFI65:
 6378              		.cfi_remember_state
 6379              		.cfi_def_cfa_offset 16
 6380              		@ sp needed
 6381 0026 70BD     		pop	{r4, r5, r6, pc}
 6382              	.LVL695:
 6383              	.L503:
 6384              	.LCFI66:
 6385              		.cfi_restore_state
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6386              		.loc 1 4554 3 is_stmt 1 view .LVU2109
 6387 0028 0D21     		movs	r1, #13
 6388              	.LVL696:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6389              		.loc 1 4554 3 is_stmt 0 view .LVU2110
 6390 002a FFF7E9FF 		bl	putc_bfd
 6391              	.LVL697:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6392              		.loc 1 4554 3 view .LVU2111
 6393 002e EDE7     		b	.L497
 6394              	.LVL698:
 6395              	.L504:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6396              		.loc 1 4590 3 is_stmt 1 view .LVU2112
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6397              		.loc 1 4590 21 is_stmt 0 view .LVU2113
 6398 0030 2146     		mov	r1, r4
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6399              		.loc 1 4590 3 view .LVU2114
ARM GAS  /tmp/cciFFPmJ.s 			page 220


 6400 0032 51F80C0B 		ldr	r0, [r1], #12
 6401 0036 01AB     		add	r3, sp, #4
 6402 0038 3246     		mov	r2, r6
 6403 003a FFF7FEFF 		bl	f_write
 6404              	.LVL699:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6405              		.loc 1 4591 3 is_stmt 1 view .LVU2115
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6406              		.loc 1 4591 11 is_stmt 0 view .LVU2116
 6407 003e 019B     		ldr	r3, [sp, #4]
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6408              		.loc 1 4591 27 view .LVU2117
 6409 0040 9E42     		cmp	r6, r3
 6410 0042 02D0     		beq	.L505
 6411 0044 4FF0FF36 		mov	r6, #-1
 6412              	.LVL700:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6413              		.loc 1 4591 27 view .LVU2118
 6414 0048 E8E7     		b	.L500
 6415              	.LVL701:
 6416              	.L505:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6417              		.loc 1 4591 27 view .LVU2119
 6418 004a 0026     		movs	r6, #0
 6419              	.LVL702:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6420              		.loc 1 4591 27 view .LVU2120
 6421 004c E6E7     		b	.L500
 6422              		.cfi_endproc
 6423              	.LFE119:
 6425              		.section	.text.f_sync,"ax",%progbits
 6426              		.align	1
 6427              		.global	f_sync
 6428              		.syntax unified
 6429              		.thumb
 6430              		.thumb_func
 6431              		.fpu softvfp
 6433              	f_sync:
 6434              	.LVL703:
 6435              	.LFB103:
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6436              		.loc 1 2884 1 is_stmt 1 view -0
 6437              		.cfi_startproc
 6438              		@ args = 0, pretend = 0, frame = 0
 6439              		@ frame_needed = 0, uses_anonymous_args = 0
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6440              		.loc 1 2884 1 is_stmt 0 view .LVU2122
 6441 0000 38B5     		push	{r3, r4, r5, lr}
 6442              	.LCFI67:
 6443              		.cfi_def_cfa_offset 16
 6444              		.cfi_offset 3, -16
 6445              		.cfi_offset 4, -12
 6446              		.cfi_offset 5, -8
 6447              		.cfi_offset 14, -4
 6448 0002 0446     		mov	r4, r0
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 6449              		.loc 1 2885 2 is_stmt 1 view .LVU2123
ARM GAS  /tmp/cciFFPmJ.s 			page 221


2886:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 6450              		.loc 1 2886 2 view .LVU2124
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6451              		.loc 1 2887 2 view .LVU2125
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6452              		.loc 1 2890 2 view .LVU2126
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6453              		.loc 1 2890 8 is_stmt 0 view .LVU2127
 6454 0004 FFF7FEFF 		bl	validate
 6455              	.LVL704:
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
 6456              		.loc 1 2891 2 is_stmt 1 view .LVU2128
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
 6457              		.loc 1 2891 5 is_stmt 0 view .LVU2129
 6458 0008 00BB     		cbnz	r0, .L507
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6459              		.loc 1 2892 3 is_stmt 1 view .LVU2130
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6460              		.loc 1 2892 9 is_stmt 0 view .LVU2131
 6461 000a 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6462              		.loc 1 2892 6 view .LVU2132
 6463 000e 13F0200F 		tst	r3, #32
 6464 0012 1BD0     		beq	.L507
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6465              		.loc 1 2895 4 is_stmt 1 view .LVU2133
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6466              		.loc 1 2895 7 is_stmt 0 view .LVU2134
 6467 0014 13F0400F 		tst	r3, #64
 6468 0018 11D0     		beq	.L508
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6469              		.loc 1 2896 5 is_stmt 1 view .LVU2135
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6470              		.loc 1 2896 22 is_stmt 0 view .LVU2136
 6471 001a D4F80002 		ldr	r0, [r4, #512]
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6472              		.loc 1 2896 9 view .LVU2137
 6473 001e 0123     		movs	r3, #1
 6474 0020 D4F81822 		ldr	r2, [r4, #536]
 6475 0024 2146     		mov	r1, r4
 6476 0026 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 6477 002a FFF7FEFF 		bl	disk_write
 6478              	.LVL705:
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6479              		.loc 1 2896 8 view .LVU2138
 6480 002e 0028     		cmp	r0, #0
 6481 0030 43D1     		bne	.L509
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6482              		.loc 1 2898 5 is_stmt 1 view .LVU2139
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6483              		.loc 1 2898 14 is_stmt 0 view .LVU2140
 6484 0032 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 6485 0036 23F04003 		bic	r3, r3, #64
 6486 003a 84F80632 		strb	r3, [r4, #518]
 6487              	.L508:
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 6488              		.loc 1 2902 4 is_stmt 1 view .LVU2141
ARM GAS  /tmp/cciFFPmJ.s 			page 222


2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 6489              		.loc 1 2902 10 is_stmt 0 view .LVU2142
 6490 003e D4F81C12 		ldr	r1, [r4, #540]
 6491 0042 D4F80002 		ldr	r0, [r4, #512]
 6492 0046 FFF7FEFF 		bl	move_window
 6493              	.LVL706:
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
 6494              		.loc 1 2903 4 is_stmt 1 view .LVU2143
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
 6495              		.loc 1 2903 7 is_stmt 0 view .LVU2144
 6496 004a 00B1     		cbz	r0, .L511
 6497              	.LVL707:
 6498              	.L507:
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6499              		.loc 1 2919 1 view .LVU2145
 6500 004c 38BD     		pop	{r3, r4, r5, pc}
 6501              	.LVL708:
 6502              	.L511:
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 6503              		.loc 1 2904 5 is_stmt 1 view .LVU2146
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 6504              		.loc 1 2904 9 is_stmt 0 view .LVU2147
 6505 004e D4F82052 		ldr	r5, [r4, #544]
 6506              	.LVL709:
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 6507              		.loc 1 2905 5 is_stmt 1 view .LVU2148
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 6508              		.loc 1 2905 19 is_stmt 0 view .LVU2149
 6509 0052 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
 6510 0054 43F02003 		orr	r3, r3, #32
 6511 0058 EB72     		strb	r3, [r5, #11]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6512              		.loc 1 2906 5 is_stmt 1 view .LVU2150
 6513 005a 94F80C32 		ldrb	r3, [r4, #524]	@ zero_extendqisi2
 6514 005e 2B77     		strb	r3, [r5, #28]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6515              		.loc 1 2906 5 view .LVU2151
 6516 0060 B4F80C32 		ldrh	r3, [r4, #524]
 6517 0064 1B0A     		lsrs	r3, r3, #8
 6518 0066 6B77     		strb	r3, [r5, #29]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6519              		.loc 1 2906 5 view .LVU2152
 6520 0068 94F80E32 		ldrb	r3, [r4, #526]	@ zero_extendqisi2
 6521 006c AB77     		strb	r3, [r5, #30]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6522              		.loc 1 2906 5 view .LVU2153
 6523 006e 94F80F32 		ldrb	r3, [r4, #527]	@ zero_extendqisi2
 6524 0072 EB77     		strb	r3, [r5, #31]
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
 6525              		.loc 1 2907 5 view .LVU2154
 6526 0074 D4F81012 		ldr	r1, [r4, #528]
 6527 0078 2846     		mov	r0, r5
 6528              	.LVL710:
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
 6529              		.loc 1 2907 5 is_stmt 0 view .LVU2155
 6530 007a FFF7FEFF 		bl	st_clust
 6531              	.LVL711:
ARM GAS  /tmp/cciFFPmJ.s 			page 223


2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 6532              		.loc 1 2908 5 is_stmt 1 view .LVU2156
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 6533              		.loc 1 2908 10 is_stmt 0 view .LVU2157
 6534 007e FFF7FEFF 		bl	get_fattime
 6535              	.LVL712:
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6536              		.loc 1 2909 5 is_stmt 1 view .LVU2158
 6537 0082 A875     		strb	r0, [r5, #22]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6538              		.loc 1 2909 5 view .LVU2159
 6539 0084 C0F30723 		ubfx	r3, r0, #8, #8
 6540 0088 EB75     		strb	r3, [r5, #23]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6541              		.loc 1 2909 5 view .LVU2160
 6542 008a C0F30743 		ubfx	r3, r0, #16, #8
 6543 008e 2B76     		strb	r3, [r5, #24]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6544              		.loc 1 2909 5 view .LVU2161
 6545 0090 000E     		lsrs	r0, r0, #24
 6546              	.LVL713:
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6547              		.loc 1 2909 5 is_stmt 0 view .LVU2162
 6548 0092 6876     		strb	r0, [r5, #25]
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
 6549              		.loc 1 2910 5 is_stmt 1 view .LVU2163
 6550 0094 0023     		movs	r3, #0
 6551 0096 AB74     		strb	r3, [r5, #18]
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
 6552              		.loc 1 2910 5 view .LVU2164
 6553 0098 EB74     		strb	r3, [r5, #19]
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 6554              		.loc 1 2911 5 view .LVU2165
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 6555              		.loc 1 2911 14 is_stmt 0 view .LVU2166
 6556 009a 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 6557 009e 23F02003 		bic	r3, r3, #32
 6558 00a2 84F80632 		strb	r3, [r4, #518]
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 6559              		.loc 1 2912 5 is_stmt 1 view .LVU2167
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 6560              		.loc 1 2912 7 is_stmt 0 view .LVU2168
 6561 00a6 D4F80032 		ldr	r3, [r4, #512]
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 6562              		.loc 1 2912 19 view .LVU2169
 6563 00aa 0122     		movs	r2, #1
 6564 00ac 83F80422 		strb	r2, [r3, #516]
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6565              		.loc 1 2913 5 is_stmt 1 view .LVU2170
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6566              		.loc 1 2913 11 is_stmt 0 view .LVU2171
 6567 00b0 D4F80002 		ldr	r0, [r4, #512]
 6568 00b4 FFF7FEFF 		bl	sync_fs
 6569              	.LVL714:
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6570              		.loc 1 2913 11 view .LVU2172
 6571 00b8 C8E7     		b	.L507
ARM GAS  /tmp/cciFFPmJ.s 			page 224


 6572              	.LVL715:
 6573              	.L509:
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6574              		.loc 1 2897 6 view .LVU2173
 6575 00ba 0120     		movs	r0, #1
 6576 00bc C6E7     		b	.L507
 6577              		.cfi_endproc
 6578              	.LFE103:
 6580              		.section	.text.f_close,"ax",%progbits
 6581              		.align	1
 6582              		.global	f_close
 6583              		.syntax unified
 6584              		.thumb
 6585              		.thumb_func
 6586              		.fpu softvfp
 6588              	f_close:
 6589              	.LVL716:
 6590              	.LFB104:
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6591              		.loc 1 2933 1 is_stmt 1 view -0
 6592              		.cfi_startproc
 6593              		@ args = 0, pretend = 0, frame = 0
 6594              		@ frame_needed = 0, uses_anonymous_args = 0
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6595              		.loc 1 2933 1 is_stmt 0 view .LVU2175
 6596 0000 10B5     		push	{r4, lr}
 6597              	.LCFI68:
 6598              		.cfi_def_cfa_offset 8
 6599              		.cfi_offset 4, -8
 6600              		.cfi_offset 14, -4
 6601 0002 0446     		mov	r4, r0
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6602              		.loc 1 2934 2 is_stmt 1 view .LVU2176
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 6603              		.loc 1 2938 2 view .LVU2177
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 6604              		.loc 1 2938 8 is_stmt 0 view .LVU2178
 6605 0004 FFF7FEFF 		bl	f_sync
 6606              	.LVL717:
2939:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6607              		.loc 1 2939 2 is_stmt 1 view .LVU2179
2939:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6608              		.loc 1 2939 5 is_stmt 0 view .LVU2180
 6609 0008 00B1     		cbz	r0, .L515
 6610              	.L513:
 6611              	.LVL718:
2957:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6612              		.loc 1 2957 2 is_stmt 1 view .LVU2181
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6613              		.loc 1 2958 1 is_stmt 0 view .LVU2182
 6614 000a 10BD     		pop	{r4, pc}
 6615              	.LVL719:
 6616              	.L515:
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6617              		.loc 1 2942 3 is_stmt 1 view .LVU2183
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6618              		.loc 1 2942 9 is_stmt 0 view .LVU2184
ARM GAS  /tmp/cciFFPmJ.s 			page 225


 6619 000c 2046     		mov	r0, r4
 6620 000e FFF7FEFF 		bl	validate
 6621              	.LVL720:
2943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6622              		.loc 1 2943 3 is_stmt 1 view .LVU2185
2943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6623              		.loc 1 2943 6 is_stmt 0 view .LVU2186
 6624 0012 0028     		cmp	r0, #0
 6625 0014 F9D1     		bne	.L513
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 6626              		.loc 1 2948 4 is_stmt 1 view .LVU2187
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 6627              		.loc 1 2948 10 is_stmt 0 view .LVU2188
 6628 0016 D4F82802 		ldr	r0, [r4, #552]
 6629              	.LVL721:
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 6630              		.loc 1 2948 10 view .LVU2189
 6631 001a FFF7FEFF 		bl	dec_lock
 6632              	.LVL722:
2949:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6633              		.loc 1 2949 4 is_stmt 1 view .LVU2190
2949:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6634              		.loc 1 2949 7 is_stmt 0 view .LVU2191
 6635 001e 0028     		cmp	r0, #0
 6636 0020 F3D1     		bne	.L513
2951:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6637              		.loc 1 2951 5 is_stmt 1 view .LVU2192
2951:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6638              		.loc 1 2951 12 is_stmt 0 view .LVU2193
 6639 0022 C4F80002 		str	r0, [r4, #512]
 6640 0026 F0E7     		b	.L513
 6641              		.cfi_endproc
 6642              	.LFE104:
 6644              		.section	.text.f_lseek,"ax",%progbits
 6645              		.align	1
 6646              		.global	f_lseek
 6647              		.syntax unified
 6648              		.thumb
 6649              		.thumb_func
 6650              		.fpu softvfp
 6652              	f_lseek:
 6653              	.LVL723:
 6654              	.LFB105:
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6655              		.loc 1 3106 1 is_stmt 1 view -0
 6656              		.cfi_startproc
 6657              		@ args = 0, pretend = 0, frame = 0
 6658              		@ frame_needed = 0, uses_anonymous_args = 0
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6659              		.loc 1 3106 1 is_stmt 0 view .LVU2195
 6660 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6661              	.LCFI69:
 6662              		.cfi_def_cfa_offset 40
 6663              		.cfi_offset 3, -40
 6664              		.cfi_offset 4, -36
 6665              		.cfi_offset 5, -32
 6666              		.cfi_offset 6, -28
ARM GAS  /tmp/cciFFPmJ.s 			page 226


 6667              		.cfi_offset 7, -24
 6668              		.cfi_offset 8, -20
 6669              		.cfi_offset 9, -16
 6670              		.cfi_offset 10, -12
 6671              		.cfi_offset 11, -8
 6672              		.cfi_offset 14, -4
 6673 0004 0446     		mov	r4, r0
 6674 0006 0D46     		mov	r5, r1
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect, ifptr;
 6675              		.loc 1 3107 2 is_stmt 1 view .LVU2196
3108:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 6676              		.loc 1 3108 2 view .LVU2197
3110:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6677              		.loc 1 3110 2 view .LVU2198
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 6678              		.loc 1 3114 2 view .LVU2199
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 6679              		.loc 1 3114 8 is_stmt 0 view .LVU2200
 6680 0008 FFF7FEFF 		bl	validate
 6681              	.LVL724:
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
 6682              		.loc 1 3115 2 is_stmt 1 view .LVU2201
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
 6683              		.loc 1 3115 5 is_stmt 0 view .LVU2202
 6684 000c 0646     		mov	r6, r0
 6685 000e 0028     		cmp	r0, #0
 6686 0010 40F07981 		bne	.L517
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 6687              		.loc 1 3116 2 is_stmt 1 view .LVU2203
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 6688              		.loc 1 3116 8 is_stmt 0 view .LVU2204
 6689 0014 94F80732 		ldrb	r3, [r4, #519]	@ zero_extendqisi2
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 6690              		.loc 1 3116 5 view .LVU2205
 6691 0018 002B     		cmp	r3, #0
 6692 001a 40F07381 		bne	.L551
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 6693              		.loc 1 3120 2 is_stmt 1 view .LVU2206
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 6694              		.loc 1 3120 8 is_stmt 0 view .LVU2207
 6695 001e D4F82432 		ldr	r3, [r4, #548]
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 6696              		.loc 1 3120 5 view .LVU2208
 6697 0022 002B     		cmp	r3, #0
 6698 0024 00F09D80 		beq	.L518
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 6699              		.loc 1 3121 3 is_stmt 1 view .LVU2209
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 6700              		.loc 1 3121 6 is_stmt 0 view .LVU2210
 6701 0028 B5F1FF3F 		cmp	r5, #-1
 6702 002c 4BD0     		beq	.L559
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 6703              		.loc 1 3147 4 is_stmt 1 view .LVU2211
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 6704              		.loc 1 3147 16 is_stmt 0 view .LVU2212
 6705 002e D4F80C72 		ldr	r7, [r4, #524]
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
ARM GAS  /tmp/cciFFPmJ.s 			page 227


 6706              		.loc 1 3147 7 view .LVU2213
 6707 0032 AF42     		cmp	r7, r5
 6708 0034 00D3     		bcc	.L526
 6709 0036 2F46     		mov	r7, r5
 6710              	.L526:
 6711              	.LVL725:
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 6712              		.loc 1 3149 4 is_stmt 1 view .LVU2214
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 6713              		.loc 1 3149 13 is_stmt 0 view .LVU2215
 6714 0038 C4F80872 		str	r7, [r4, #520]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 6715              		.loc 1 3150 4 is_stmt 1 view .LVU2216
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 6716              		.loc 1 3150 7 is_stmt 0 view .LVU2217
 6717 003c 002F     		cmp	r7, #0
 6718 003e 00F06281 		beq	.L517
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6719              		.loc 1 3151 5 is_stmt 1 view .LVU2218
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6720              		.loc 1 3151 17 is_stmt 0 view .LVU2219
 6721 0042 07F1FF38 		add	r8, r7, #-1
 6722 0046 4146     		mov	r1, r8
 6723 0048 2046     		mov	r0, r4
 6724              	.LVL726:
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6725              		.loc 1 3151 17 view .LVU2220
 6726 004a FFF7FEFF 		bl	clmt_clust
 6727              	.LVL727:
 6728 004e 0146     		mov	r1, r0
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6729              		.loc 1 3151 15 view .LVU2221
 6730 0050 C4F81402 		str	r0, [r4, #532]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
 6731              		.loc 1 3152 5 is_stmt 1 view .LVU2222
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
 6732              		.loc 1 3152 11 is_stmt 0 view .LVU2223
 6733 0054 D4F80052 		ldr	r5, [r4, #512]
 6734 0058 2846     		mov	r0, r5
 6735 005a FFF7FEFF 		bl	clust2sect
 6736              	.LVL728:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6737              		.loc 1 3153 5 is_stmt 1 view .LVU2224
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6738              		.loc 1 3153 8 is_stmt 0 view .LVU2225
 6739 005e 0028     		cmp	r0, #0
 6740 0060 73D0     		beq	.L560
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6741              		.loc 1 3153 40 is_stmt 1 discriminator 2 view .LVU2226
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6742              		.loc 1 3154 5 discriminator 2 view .LVU2227
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6743              		.loc 1 3154 44 is_stmt 0 discriminator 2 view .LVU2228
 6744 0062 95F80212 		ldrb	r1, [r5, #514]	@ zero_extendqisi2
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6745              		.loc 1 3154 52 discriminator 2 view .LVU2229
 6746 0066 0139     		subs	r1, r1, #1
ARM GAS  /tmp/cciFFPmJ.s 			page 228


3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6747              		.loc 1 3154 35 discriminator 2 view .LVU2230
 6748 0068 01EA5821 		and	r1, r1, r8, lsr #9
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6749              		.loc 1 3154 9 discriminator 2 view .LVU2231
 6750 006c 01EB0008 		add	r8, r1, r0
 6751              	.LVL729:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6752              		.loc 1 3155 5 is_stmt 1 discriminator 2 view .LVU2232
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6753              		.loc 1 3155 18 is_stmt 0 discriminator 2 view .LVU2233
 6754 0070 C7F30807 		ubfx	r7, r7, #0, #9
 6755              	.LVL730:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6756              		.loc 1 3155 8 discriminator 2 view .LVU2234
 6757 0074 002F     		cmp	r7, #0
 6758 0076 00F04681 		beq	.L517
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6759              		.loc 1 3155 43 discriminator 1 view .LVU2235
 6760 007a D4F81822 		ldr	r2, [r4, #536]
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6761              		.loc 1 3155 31 discriminator 1 view .LVU2236
 6762 007e 4245     		cmp	r2, r8
 6763 0080 00F04181 		beq	.L517
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6764              		.loc 1 3158 6 is_stmt 1 view .LVU2237
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6765              		.loc 1 3158 12 is_stmt 0 view .LVU2238
 6766 0084 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6767              		.loc 1 3158 9 view .LVU2239
 6768 0088 13F0400F 		tst	r3, #64
 6769 008c 0DD0     		beq	.L528
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 6770              		.loc 1 3159 7 is_stmt 1 view .LVU2240
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 6771              		.loc 1 3159 11 is_stmt 0 view .LVU2241
 6772 008e 0123     		movs	r3, #1
 6773 0090 2146     		mov	r1, r4
 6774 0092 95F80102 		ldrb	r0, [r5, #513]	@ zero_extendqisi2
 6775 0096 FFF7FEFF 		bl	disk_write
 6776              	.LVL731:
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 6777              		.loc 1 3159 10 view .LVU2242
 6778 009a 0028     		cmp	r0, #0
 6779 009c 59D1     		bne	.L561
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 6780              		.loc 1 3160 34 is_stmt 1 view .LVU2243
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6781              		.loc 1 3161 7 view .LVU2244
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6782              		.loc 1 3161 16 is_stmt 0 view .LVU2245
 6783 009e 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 6784 00a2 23F04003 		bic	r3, r3, #64
 6785 00a6 84F80632 		strb	r3, [r4, #518]
 6786              	.L528:
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
ARM GAS  /tmp/cciFFPmJ.s 			page 229


 6787              		.loc 1 3164 6 is_stmt 1 view .LVU2246
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6788              		.loc 1 3164 22 is_stmt 0 view .LVU2247
 6789 00aa D4F80002 		ldr	r0, [r4, #512]
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6790              		.loc 1 3164 10 view .LVU2248
 6791 00ae 0123     		movs	r3, #1
 6792 00b0 4246     		mov	r2, r8
 6793 00b2 2146     		mov	r1, r4
 6794 00b4 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 6795 00b8 FFF7FEFF 		bl	disk_read
 6796              	.LVL732:
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6797              		.loc 1 3164 9 view .LVU2249
 6798 00bc 0028     		cmp	r0, #0
 6799 00be 4CD1     		bne	.L562
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6800              		.loc 1 3165 33 is_stmt 1 view .LVU2250
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6801              		.loc 1 3167 6 view .LVU2251
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6802              		.loc 1 3167 16 is_stmt 0 view .LVU2252
 6803 00c0 C4F81882 		str	r8, [r4, #536]
 6804 00c4 1FE1     		b	.L517
 6805              	.LVL733:
 6806              	.L559:
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 6807              		.loc 1 3122 4 is_stmt 1 view .LVU2253
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6808              		.loc 1 3123 4 view .LVU2254
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6809              		.loc 1 3123 15 is_stmt 0 view .LVU2255
 6810 00c6 9846     		mov	r8, r3
 6811              	.LVL734:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6812              		.loc 1 3123 9 view .LVU2256
 6813 00c8 58F804BB 		ldr	fp, [r8], #4
 6814              	.LVL735:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6815              		.loc 1 3123 19 is_stmt 1 view .LVU2257
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 6816              		.loc 1 3124 4 view .LVU2258
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 6817              		.loc 1 3124 7 is_stmt 0 view .LVU2259
 6818 00cc D4F810A2 		ldr	r10, [r4, #528]
 6819              	.LVL736:
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 6820              		.loc 1 3125 4 is_stmt 1 view .LVU2260
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 6821              		.loc 1 3125 7 is_stmt 0 view .LVU2261
 6822 00d0 BAF1000F 		cmp	r10, #0
 6823 00d4 2CD0     		beq	.L552
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6824              		.loc 1 3123 24 view .LVU2262
 6825 00d6 4FF00209 		mov	r9, #2
 6826              	.LVL737:
 6827              	.L525:
ARM GAS  /tmp/cciFFPmJ.s 			page 230


3126:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
 6828              		.loc 1 3126 5 is_stmt 1 view .LVU2263
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6829              		.loc 1 3128 6 view .LVU2264
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6830              		.loc 1 3128 16 view .LVU2265
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6831              		.loc 1 3128 25 view .LVU2266
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6832              		.loc 1 3128 30 is_stmt 0 view .LVU2267
 6833 00da 09F10209 		add	r9, r9, #2
 6834              	.LVL738:
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6835              		.loc 1 3128 30 view .LVU2268
 6836 00de 5146     		mov	r1, r10
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6837              		.loc 1 3128 20 view .LVU2269
 6838 00e0 0027     		movs	r7, #0
 6839              	.LVL739:
 6840              	.L523:
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 6841              		.loc 1 3129 6 is_stmt 1 view .LVU2270
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 6842              		.loc 1 3130 7 view .LVU2271
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 6843              		.loc 1 3130 17 view .LVU2272
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 6844              		.loc 1 3130 20 is_stmt 0 view .LVU2273
 6845 00e2 0137     		adds	r7, r7, #1
 6846              	.LVL740:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6847              		.loc 1 3131 7 is_stmt 1 view .LVU2274
 6848 00e4 0D46     		mov	r5, r1
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6849              		.loc 1 3131 12 is_stmt 0 view .LVU2275
 6850 00e6 D4F80002 		ldr	r0, [r4, #512]
 6851 00ea FFF7FEFF 		bl	get_fat
 6852              	.LVL741:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6853              		.loc 1 3131 12 view .LVU2276
 6854 00ee 0146     		mov	r1, r0
 6855              	.LVL742:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6856              		.loc 1 3132 7 is_stmt 1 view .LVU2277
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6857              		.loc 1 3132 10 is_stmt 0 view .LVU2278
 6858 00f0 0128     		cmp	r0, #1
 6859 00f2 15D9     		bls	.L563
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6860              		.loc 1 3132 45 is_stmt 1 discriminator 2 view .LVU2279
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6861              		.loc 1 3133 7 discriminator 2 view .LVU2280
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6862              		.loc 1 3133 10 is_stmt 0 discriminator 2 view .LVU2281
 6863 00f4 B0F1FF3F 		cmp	r0, #-1
 6864 00f8 16D0     		beq	.L564
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
ARM GAS  /tmp/cciFFPmJ.s 			page 231


 6865              		.loc 1 3133 55 is_stmt 1 discriminator 2 view .LVU2282
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 6866              		.loc 1 3134 14 discriminator 2 view .LVU2283
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 6867              		.loc 1 3134 25 is_stmt 0 discriminator 2 view .LVU2284
 6868 00fa 0135     		adds	r5, r5, #1
 6869              	.LVL743:
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 6870              		.loc 1 3134 6 discriminator 2 view .LVU2285
 6871 00fc 8542     		cmp	r5, r0
 6872 00fe F0D0     		beq	.L523
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 6873              		.loc 1 3135 6 is_stmt 1 view .LVU2286
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 6874              		.loc 1 3135 9 is_stmt 0 view .LVU2287
 6875 0100 CB45     		cmp	fp, r9
 6876 0102 05D3     		bcc	.L524
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6877              		.loc 1 3136 7 is_stmt 1 view .LVU2288
 6878              	.LVL744:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6879              		.loc 1 3136 14 is_stmt 0 view .LVU2289
 6880 0104 4346     		mov	r3, r8
 6881 0106 43F8087B 		str	r7, [r3], #8
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6882              		.loc 1 3136 21 is_stmt 1 view .LVU2290
 6883              	.LVL745:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6884              		.loc 1 3136 28 is_stmt 0 view .LVU2291
 6885 010a C8F804A0 		str	r10, [r8, #4]
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6886              		.loc 1 3136 25 view .LVU2292
 6887 010e 9846     		mov	r8, r3
 6888              	.LVL746:
 6889              	.L524:
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6890              		.loc 1 3138 13 is_stmt 1 view .LVU2293
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6891              		.loc 1 3138 21 is_stmt 0 view .LVU2294
 6892 0110 D4F80032 		ldr	r3, [r4, #512]
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6893              		.loc 1 3138 25 view .LVU2295
 6894 0114 D3F81432 		ldr	r3, [r3, #532]
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6895              		.loc 1 3138 5 view .LVU2296
 6896 0118 8B42     		cmp	r3, r1
 6897 011a 0BD9     		bls	.L520
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6898              		.loc 1 3131 12 view .LVU2297
 6899 011c 8A46     		mov	r10, r1
 6900              	.LVL747:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6901              		.loc 1 3131 12 view .LVU2298
 6902 011e DCE7     		b	.L525
 6903              	.LVL748:
 6904              	.L563:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
ARM GAS  /tmp/cciFFPmJ.s 			page 232


 6905              		.loc 1 3132 20 is_stmt 1 discriminator 1 view .LVU2299
 6906 0120 0226     		movs	r6, #2
 6907 0122 84F80762 		strb	r6, [r4, #519]
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6908              		.loc 1 3132 20 discriminator 1 view .LVU2300
 6909 0126 EEE0     		b	.L517
 6910              	.L564:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6911              		.loc 1 3133 29 discriminator 1 view .LVU2301
 6912 0128 0126     		movs	r6, #1
 6913 012a 84F80762 		strb	r6, [r4, #519]
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6914              		.loc 1 3133 29 discriminator 1 view .LVU2302
 6915 012e EAE0     		b	.L517
 6916              	.LVL749:
 6917              	.L552:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6918              		.loc 1 3123 24 is_stmt 0 view .LVU2303
 6919 0130 4FF00209 		mov	r9, #2
 6920              	.LVL750:
 6921              	.L520:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 6922              		.loc 1 3140 4 is_stmt 1 view .LVU2304
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 6923              		.loc 1 3140 7 is_stmt 0 view .LVU2305
 6924 0134 D4F82432 		ldr	r3, [r4, #548]
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 6925              		.loc 1 3140 15 view .LVU2306
 6926 0138 C3F80090 		str	r9, [r3]
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 6927              		.loc 1 3141 4 is_stmt 1 view .LVU2307
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 6928              		.loc 1 3141 7 is_stmt 0 view .LVU2308
 6929 013c D945     		cmp	r9, fp
 6930 013e 00F2E580 		bhi	.L554
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
 6931              		.loc 1 3142 5 is_stmt 1 view .LVU2309
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
 6932              		.loc 1 3142 10 is_stmt 0 view .LVU2310
 6933 0142 0023     		movs	r3, #0
 6934 0144 C8F80030 		str	r3, [r8]
 6935 0148 DDE0     		b	.L517
 6936              	.LVL751:
 6937              	.L560:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6938              		.loc 1 3153 15 is_stmt 1 discriminator 1 view .LVU2311
 6939 014a 0226     		movs	r6, #2
 6940 014c 84F80762 		strb	r6, [r4, #519]
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6941              		.loc 1 3153 15 discriminator 1 view .LVU2312
 6942 0150 D9E0     		b	.L517
 6943              	.LVL752:
 6944              	.L561:
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 6945              		.loc 1 3160 8 view .LVU2313
 6946 0152 0126     		movs	r6, #1
 6947 0154 84F80762 		strb	r6, [r4, #519]
ARM GAS  /tmp/cciFFPmJ.s 			page 233


3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 6948              		.loc 1 3160 8 view .LVU2314
 6949 0158 D5E0     		b	.L517
 6950              	.L562:
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6951              		.loc 1 3165 7 view .LVU2315
 6952 015a 0126     		movs	r6, #1
 6953 015c 84F80762 		strb	r6, [r4, #519]
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6954              		.loc 1 3165 7 view .LVU2316
 6955 0160 D1E0     		b	.L517
 6956              	.LVL753:
 6957              	.L518:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6958              		.loc 1 3176 3 view .LVU2317
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6959              		.loc 1 3176 15 is_stmt 0 view .LVU2318
 6960 0162 D4F80C32 		ldr	r3, [r4, #524]
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6961              		.loc 1 3176 6 view .LVU2319
 6962 0166 AB42     		cmp	r3, r5
 6963 0168 05D2     		bcs	.L531
3178:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6964              		.loc 1 3178 12 view .LVU2320
 6965 016a 94F80622 		ldrb	r2, [r4, #518]	@ zero_extendqisi2
3178:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6966              		.loc 1 3178 5 view .LVU2321
 6967 016e 12F0020F 		tst	r2, #2
 6968 0172 00D1     		bne	.L531
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6969              		.loc 1 3180 10 view .LVU2322
 6970 0174 1D46     		mov	r5, r3
 6971              	.LVL754:
 6972              	.L531:
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 6973              		.loc 1 3182 3 is_stmt 1 view .LVU2323
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 6974              		.loc 1 3182 9 is_stmt 0 view .LVU2324
 6975 0176 D4F80832 		ldr	r3, [r4, #520]
 6976              	.LVL755:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 6977              		.loc 1 3183 3 is_stmt 1 view .LVU2325
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 6978              		.loc 1 3183 12 is_stmt 0 view .LVU2326
 6979 017a 0022     		movs	r2, #0
 6980 017c C4F80822 		str	r2, [r4, #520]
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
 6981              		.loc 1 3184 3 is_stmt 1 view .LVU2327
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
 6982              		.loc 1 3184 6 is_stmt 0 view .LVU2328
 6983 0180 0DB3     		cbz	r5, .L532
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 6984              		.loc 1 3185 4 is_stmt 1 view .LVU2329
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 6985              		.loc 1 3185 19 is_stmt 0 view .LVU2330
 6986 0182 D4F80002 		ldr	r0, [r4, #512]
 6987              	.LVL756:
ARM GAS  /tmp/cciFFPmJ.s 			page 234


3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 6988              		.loc 1 3185 23 view .LVU2331
 6989 0186 90F80282 		ldrb	r8, [r0, #514]	@ zero_extendqisi2
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 6990              		.loc 1 3185 8 view .LVU2332
 6991 018a 4FEA4828 		lsl	r8, r8, #9
 6992              	.LVL757:
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 6993              		.loc 1 3186 4 is_stmt 1 view .LVU2333
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 6994              		.loc 1 3186 7 is_stmt 0 view .LVU2334
 6995 018e 83B1     		cbz	r3, .L533
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 6996              		.loc 1 3187 10 discriminator 1 view .LVU2335
 6997 0190 6A1E     		subs	r2, r5, #1
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 6998              		.loc 1 3187 15 discriminator 1 view .LVU2336
 6999 0192 B2FBF8F2 		udiv	r2, r2, r8
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7000              		.loc 1 3187 31 discriminator 1 view .LVU2337
 7001 0196 013B     		subs	r3, r3, #1
 7002              	.LVL758:
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7003              		.loc 1 3187 36 discriminator 1 view .LVU2338
 7004 0198 B3FBF8F1 		udiv	r1, r3, r8
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7005              		.loc 1 3186 18 discriminator 1 view .LVU2339
 7006 019c 8A42     		cmp	r2, r1
 7007 019e 08D3     		bcc	.L533
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7008              		.loc 1 3188 5 is_stmt 1 view .LVU2340
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7009              		.loc 1 3188 30 is_stmt 0 view .LVU2341
 7010 01a0 C8F10007 		rsb	r7, r8, #0
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7011              		.loc 1 3188 28 view .LVU2342
 7012 01a4 1F40     		ands	r7, r7, r3
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7013              		.loc 1 3188 14 view .LVU2343
 7014 01a6 C4F80872 		str	r7, [r4, #520]
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 7015              		.loc 1 3189 5 is_stmt 1 view .LVU2344
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 7016              		.loc 1 3189 9 is_stmt 0 view .LVU2345
 7017 01aa EF1B     		subs	r7, r5, r7
 7018              	.LVL759:
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7019              		.loc 1 3190 5 is_stmt 1 view .LVU2346
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7020              		.loc 1 3190 10 is_stmt 0 view .LVU2347
 7021 01ac D4F81452 		ldr	r5, [r4, #532]
 7022              	.LVL760:
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7023              		.loc 1 3190 10 view .LVU2348
 7024 01b0 07E0     		b	.L534
 7025              	.LVL761:
 7026              	.L533:
ARM GAS  /tmp/cciFFPmJ.s 			page 235


3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7027              		.loc 1 3192 5 is_stmt 1 view .LVU2349
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7028              		.loc 1 3192 10 is_stmt 0 view .LVU2350
 7029 01b2 D4F81032 		ldr	r3, [r4, #528]
 7030              	.LVL762:
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 7031              		.loc 1 3194 5 is_stmt 1 view .LVU2351
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 7032              		.loc 1 3194 8 is_stmt 0 view .LVU2352
 7033 01b6 002B     		cmp	r3, #0
 7034 01b8 3FD0     		beq	.L565
 7035              	.L535:
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7036              		.loc 1 3201 5 is_stmt 1 view .LVU2353
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7037              		.loc 1 3201 15 is_stmt 0 view .LVU2354
 7038 01ba C4F81432 		str	r3, [r4, #532]
 7039 01be 2F46     		mov	r7, r5
 7040 01c0 1D46     		mov	r5, r3
 7041              	.LVL763:
 7042              	.L534:
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7043              		.loc 1 3203 4 is_stmt 1 view .LVU2355
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7044              		.loc 1 3203 7 is_stmt 0 view .LVU2356
 7045 01c2 002D     		cmp	r5, #0
 7046 01c4 67D1     		bne	.L538
 7047              	.LVL764:
 7048              	.L532:
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7049              		.loc 1 3228 3 is_stmt 1 view .LVU2357
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7050              		.loc 1 3228 9 is_stmt 0 view .LVU2358
 7051 01c6 D4F80832 		ldr	r3, [r4, #520]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7052              		.loc 1 3228 16 view .LVU2359
 7053 01ca C3F30803 		ubfx	r3, r3, #0, #9
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7054              		.loc 1 3228 6 view .LVU2360
 7055 01ce 2BB3     		cbz	r3, .L547
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7056              		.loc 1 3228 43 discriminator 1 view .LVU2361
 7057 01d0 D4F81822 		ldr	r2, [r4, #536]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7058              		.loc 1 3228 29 discriminator 1 view .LVU2362
 7059 01d4 AA42     		cmp	r2, r5
 7060 01d6 21D0     		beq	.L547
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7061              		.loc 1 3231 4 is_stmt 1 view .LVU2363
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7062              		.loc 1 3231 10 is_stmt 0 view .LVU2364
 7063 01d8 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7064              		.loc 1 3231 7 view .LVU2365
 7065 01dc 13F0400F 		tst	r3, #64
 7066 01e0 0FD0     		beq	.L548
ARM GAS  /tmp/cciFFPmJ.s 			page 236


3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7067              		.loc 1 3232 5 is_stmt 1 view .LVU2366
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7068              		.loc 1 3232 22 is_stmt 0 view .LVU2367
 7069 01e2 D4F80002 		ldr	r0, [r4, #512]
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7070              		.loc 1 3232 9 view .LVU2368
 7071 01e6 0123     		movs	r3, #1
 7072 01e8 2146     		mov	r1, r4
 7073 01ea 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 7074 01ee FFF7FEFF 		bl	disk_write
 7075              	.LVL765:
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7076              		.loc 1 3232 8 view .LVU2369
 7077 01f2 0028     		cmp	r0, #0
 7078 01f4 7ED1     		bne	.L566
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7079              		.loc 1 3233 32 is_stmt 1 view .LVU2370
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7080              		.loc 1 3234 5 view .LVU2371
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7081              		.loc 1 3234 14 is_stmt 0 view .LVU2372
 7082 01f6 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 7083 01fa 23F04003 		bic	r3, r3, #64
 7084 01fe 84F80632 		strb	r3, [r4, #518]
 7085              	.L548:
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7086              		.loc 1 3237 4 is_stmt 1 view .LVU2373
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7087              		.loc 1 3237 20 is_stmt 0 view .LVU2374
 7088 0202 D4F80002 		ldr	r0, [r4, #512]
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7089              		.loc 1 3237 8 view .LVU2375
 7090 0206 0123     		movs	r3, #1
 7091 0208 2A46     		mov	r2, r5
 7092 020a 2146     		mov	r1, r4
 7093 020c 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 7094 0210 FFF7FEFF 		bl	disk_read
 7095              	.LVL766:
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7096              		.loc 1 3237 7 view .LVU2376
 7097 0214 0028     		cmp	r0, #0
 7098 0216 71D1     		bne	.L567
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7099              		.loc 1 3238 31 is_stmt 1 view .LVU2377
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7100              		.loc 1 3240 4 view .LVU2378
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7101              		.loc 1 3240 14 is_stmt 0 view .LVU2379
 7102 0218 C4F81852 		str	r5, [r4, #536]
 7103              	.L547:
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7104              		.loc 1 3243 3 is_stmt 1 view .LVU2380
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7105              		.loc 1 3243 9 is_stmt 0 view .LVU2381
 7106 021c D4F80832 		ldr	r3, [r4, #520]
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
ARM GAS  /tmp/cciFFPmJ.s 			page 237


 7107              		.loc 1 3243 20 view .LVU2382
 7108 0220 D4F80C22 		ldr	r2, [r4, #524]
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7109              		.loc 1 3243 6 view .LVU2383
 7110 0224 9342     		cmp	r3, r2
 7111 0226 6ED9     		bls	.L517
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 7112              		.loc 1 3244 4 is_stmt 1 view .LVU2384
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 7113              		.loc 1 3244 14 is_stmt 0 view .LVU2385
 7114 0228 C4F80C32 		str	r3, [r4, #524]
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7115              		.loc 1 3245 4 is_stmt 1 view .LVU2386
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7116              		.loc 1 3245 13 is_stmt 0 view .LVU2387
 7117 022c 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 7118 0230 43F02003 		orr	r3, r3, #32
 7119 0234 84F80632 		strb	r3, [r4, #518]
 7120 0238 65E0     		b	.L517
 7121              	.LVL767:
 7122              	.L565:
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7123              		.loc 1 3195 6 is_stmt 1 view .LVU2388
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7124              		.loc 1 3195 13 is_stmt 0 view .LVU2389
 7125 023a 0021     		movs	r1, #0
 7126 023c FFF7FEFF 		bl	create_chain
 7127              	.LVL768:
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7128              		.loc 1 3195 13 view .LVU2390
 7129 0240 0346     		mov	r3, r0
 7130              	.LVL769:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7131              		.loc 1 3196 6 is_stmt 1 view .LVU2391
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7132              		.loc 1 3196 9 is_stmt 0 view .LVU2392
 7133 0242 0128     		cmp	r0, #1
 7134 0244 05D0     		beq	.L568
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7135              		.loc 1 3196 46 is_stmt 1 discriminator 2 view .LVU2393
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7136              		.loc 1 3197 6 discriminator 2 view .LVU2394
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7137              		.loc 1 3197 9 is_stmt 0 discriminator 2 view .LVU2395
 7138 0246 B0F1FF3F 		cmp	r0, #-1
 7139 024a 06D0     		beq	.L569
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7140              		.loc 1 3197 56 is_stmt 1 discriminator 2 view .LVU2396
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7141              		.loc 1 3198 6 discriminator 2 view .LVU2397
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7142              		.loc 1 3198 17 is_stmt 0 discriminator 2 view .LVU2398
 7143 024c C4F81002 		str	r0, [r4, #528]
 7144 0250 B3E7     		b	.L535
 7145              	.L568:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7146              		.loc 1 3196 21 is_stmt 1 discriminator 1 view .LVU2399
ARM GAS  /tmp/cciFFPmJ.s 			page 238


 7147 0252 0226     		movs	r6, #2
 7148 0254 84F80762 		strb	r6, [r4, #519]
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7149              		.loc 1 3196 21 discriminator 1 view .LVU2400
 7150 0258 55E0     		b	.L517
 7151              	.L569:
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7152              		.loc 1 3197 30 discriminator 1 view .LVU2401
 7153 025a 0126     		movs	r6, #1
 7154 025c 84F80762 		strb	r6, [r4, #519]
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7155              		.loc 1 3197 30 discriminator 1 view .LVU2402
 7156 0260 51E0     		b	.L517
 7157              	.LVL770:
 7158              	.L539:
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7159              		.loc 1 3213 7 view .LVU2403
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7160              		.loc 1 3213 14 is_stmt 0 view .LVU2404
 7161 0262 2946     		mov	r1, r5
 7162 0264 D4F80002 		ldr	r0, [r4, #512]
 7163 0268 FFF7FEFF 		bl	get_fat
 7164              	.LVL771:
 7165 026c 0546     		mov	r5, r0
 7166              	.LVL772:
 7167              	.L541:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7168              		.loc 1 3214 6 is_stmt 1 view .LVU2405
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7169              		.loc 1 3214 9 is_stmt 0 view .LVU2406
 7170 026e B5F1FF3F 		cmp	r5, #-1
 7171 0272 31D0     		beq	.L570
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7172              		.loc 1 3214 56 is_stmt 1 discriminator 2 view .LVU2407
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7173              		.loc 1 3215 6 discriminator 2 view .LVU2408
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7174              		.loc 1 3215 9 is_stmt 0 discriminator 2 view .LVU2409
 7175 0274 012D     		cmp	r5, #1
 7176 0276 33D9     		bls	.L543
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7177              		.loc 1 3215 33 discriminator 2 view .LVU2410
 7178 0278 D4F80032 		ldr	r3, [r4, #512]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7179              		.loc 1 3215 37 discriminator 2 view .LVU2411
 7180 027c D3F81432 		ldr	r3, [r3, #532]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7181              		.loc 1 3215 20 discriminator 2 view .LVU2412
 7182 0280 AB42     		cmp	r3, r5
 7183 0282 2DD9     		bls	.L543
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7184              		.loc 1 3215 74 is_stmt 1 discriminator 4 view .LVU2413
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 7185              		.loc 1 3216 6 discriminator 4 view .LVU2414
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 7186              		.loc 1 3216 16 is_stmt 0 discriminator 4 view .LVU2415
 7187 0284 C4F81452 		str	r5, [r4, #532]
ARM GAS  /tmp/cciFFPmJ.s 			page 239


3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7188              		.loc 1 3217 6 is_stmt 1 discriminator 4 view .LVU2416
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7189              		.loc 1 3217 15 is_stmt 0 discriminator 4 view .LVU2417
 7190 0288 D4F80832 		ldr	r3, [r4, #520]
 7191 028c 4344     		add	r3, r3, r8
 7192 028e C4F80832 		str	r3, [r4, #520]
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7193              		.loc 1 3218 6 is_stmt 1 discriminator 4 view .LVU2418
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7194              		.loc 1 3218 10 is_stmt 0 discriminator 4 view .LVU2419
 7195 0292 A7EB0807 		sub	r7, r7, r8
 7196              	.LVL773:
 7197              	.L538:
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7198              		.loc 1 3204 11 is_stmt 1 view .LVU2420
 7199 0296 4745     		cmp	r7, r8
 7200 0298 0DD9     		bls	.L540
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7201              		.loc 1 3206 6 view .LVU2421
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7202              		.loc 1 3206 12 is_stmt 0 view .LVU2422
 7203 029a 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7204              		.loc 1 3206 9 view .LVU2423
 7205 029e 13F0020F 		tst	r3, #2
 7206 02a2 DED0     		beq	.L539
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
 7207              		.loc 1 3207 7 is_stmt 1 view .LVU2424
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
 7208              		.loc 1 3207 14 is_stmt 0 view .LVU2425
 7209 02a4 2946     		mov	r1, r5
 7210 02a6 D4F80002 		ldr	r0, [r4, #512]
 7211 02aa FFF7FEFF 		bl	create_chain
 7212              	.LVL774:
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
 7213              		.loc 1 3208 7 is_stmt 1 view .LVU2426
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
 7214              		.loc 1 3208 10 is_stmt 0 view .LVU2427
 7215 02ae 0546     		mov	r5, r0
 7216 02b0 0028     		cmp	r0, #0
 7217 02b2 DCD1     		bne	.L541
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7218              		.loc 1 3209 12 view .LVU2428
 7219 02b4 4746     		mov	r7, r8
 7220              	.LVL775:
 7221              	.L540:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7222              		.loc 1 3220 5 is_stmt 1 view .LVU2429
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7223              		.loc 1 3220 14 is_stmt 0 view .LVU2430
 7224 02b6 D4F80832 		ldr	r3, [r4, #520]
 7225 02ba 3B44     		add	r3, r3, r7
 7226 02bc C4F80832 		str	r3, [r4, #520]
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7227              		.loc 1 3221 5 is_stmt 1 view .LVU2431
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
ARM GAS  /tmp/cciFFPmJ.s 			page 240


 7228              		.loc 1 3221 13 is_stmt 0 view .LVU2432
 7229 02c0 C7F30803 		ubfx	r3, r7, #0, #9
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7230              		.loc 1 3221 8 view .LVU2433
 7231 02c4 A3B1     		cbz	r3, .L557
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 7232              		.loc 1 3222 6 is_stmt 1 view .LVU2434
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 7233              		.loc 1 3222 14 is_stmt 0 view .LVU2435
 7234 02c6 2946     		mov	r1, r5
 7235 02c8 D4F80002 		ldr	r0, [r4, #512]
 7236 02cc FFF7FEFF 		bl	clust2sect
 7237              	.LVL776:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7238              		.loc 1 3223 6 is_stmt 1 view .LVU2436
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7239              		.loc 1 3223 9 is_stmt 0 view .LVU2437
 7240 02d0 50B1     		cbz	r0, .L571
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7241              		.loc 1 3223 43 is_stmt 1 discriminator 2 view .LVU2438
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7242              		.loc 1 3224 6 discriminator 2 view .LVU2439
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7243              		.loc 1 3224 12 is_stmt 0 discriminator 2 view .LVU2440
 7244 02d2 00EB5725 		add	r5, r0, r7, lsr #9
 7245              	.LVL777:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7246              		.loc 1 3224 12 discriminator 2 view .LVU2441
 7247 02d6 76E7     		b	.L532
 7248              	.LVL778:
 7249              	.L570:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7250              		.loc 1 3214 30 is_stmt 1 discriminator 1 view .LVU2442
 7251 02d8 0126     		movs	r6, #1
 7252 02da 84F80762 		strb	r6, [r4, #519]
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7253              		.loc 1 3214 30 discriminator 1 view .LVU2443
 7254 02de 12E0     		b	.L517
 7255              	.L543:
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7256              		.loc 1 3215 49 discriminator 3 view .LVU2444
 7257 02e0 0226     		movs	r6, #2
 7258 02e2 84F80762 		strb	r6, [r4, #519]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7259              		.loc 1 3215 49 discriminator 3 view .LVU2445
 7260 02e6 0EE0     		b	.L517
 7261              	.LVL779:
 7262              	.L571:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7263              		.loc 1 3223 18 discriminator 1 view .LVU2446
 7264 02e8 0226     		movs	r6, #2
 7265 02ea 84F80762 		strb	r6, [r4, #519]
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7266              		.loc 1 3223 18 discriminator 1 view .LVU2447
 7267 02ee 0AE0     		b	.L517
 7268              	.LVL780:
 7269              	.L557:
ARM GAS  /tmp/cciFFPmJ.s 			page 241


3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7270              		.loc 1 3183 20 is_stmt 0 view .LVU2448
 7271 02f0 1D46     		mov	r5, r3
 7272              	.LVL781:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7273              		.loc 1 3183 20 view .LVU2449
 7274 02f2 68E7     		b	.L532
 7275              	.LVL782:
 7276              	.L566:
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7277              		.loc 1 3233 6 is_stmt 1 view .LVU2450
 7278 02f4 0126     		movs	r6, #1
 7279 02f6 84F80762 		strb	r6, [r4, #519]
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7280              		.loc 1 3233 6 view .LVU2451
 7281 02fa 04E0     		b	.L517
 7282              	.L567:
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7283              		.loc 1 3238 5 view .LVU2452
 7284 02fc 0126     		movs	r6, #1
 7285 02fe 84F80762 		strb	r6, [r4, #519]
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7286              		.loc 1 3238 5 view .LVU2453
 7287 0302 00E0     		b	.L517
 7288              	.LVL783:
 7289              	.L551:
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7290              		.loc 1 3117 3 is_stmt 0 view .LVU2454
 7291 0304 1E46     		mov	r6, r3
 7292              	.LVL784:
 7293              	.L517:
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7294              		.loc 1 3251 1 view .LVU2455
 7295 0306 3046     		mov	r0, r6
 7296 0308 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7297              	.LVL785:
 7298              	.L554:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7299              		.loc 1 3144 9 view .LVU2456
 7300 030c 1126     		movs	r6, #17
 7301 030e FAE7     		b	.L517
 7302              		.cfi_endproc
 7303              	.LFE105:
 7305              		.section	.text.f_opendir,"ax",%progbits
 7306              		.align	1
 7307              		.global	f_opendir
 7308              		.syntax unified
 7309              		.thumb
 7310              		.thumb_func
 7311              		.fpu softvfp
 7313              	f_opendir:
 7314              	.LVL786:
 7315              	.LFB106:
3264:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7316              		.loc 1 3264 1 is_stmt 1 view -0
 7317              		.cfi_startproc
 7318              		@ args = 0, pretend = 0, frame = 24
ARM GAS  /tmp/cciFFPmJ.s 			page 242


 7319              		@ frame_needed = 0, uses_anonymous_args = 0
3264:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7320              		.loc 1 3264 1 is_stmt 0 view .LVU2458
 7321 0000 30B5     		push	{r4, r5, lr}
 7322              	.LCFI70:
 7323              		.cfi_def_cfa_offset 12
 7324              		.cfi_offset 4, -12
 7325              		.cfi_offset 5, -8
 7326              		.cfi_offset 14, -4
 7327 0002 87B0     		sub	sp, sp, #28
 7328              	.LCFI71:
 7329              		.cfi_def_cfa_offset 40
 7330 0004 0191     		str	r1, [sp, #4]
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs;
 7331              		.loc 1 3265 2 is_stmt 1 view .LVU2459
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7332              		.loc 1 3266 2 view .LVU2460
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7333              		.loc 1 3267 2 view .LVU2461
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7334              		.loc 1 3270 2 view .LVU2462
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7335              		.loc 1 3270 5 is_stmt 0 view .LVU2463
 7336 0006 0028     		cmp	r0, #0
 7337 0008 46D0     		beq	.L579
 7338 000a 0546     		mov	r5, r0
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7339              		.loc 1 3273 2 is_stmt 1 view .LVU2464
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7340              		.loc 1 3273 8 is_stmt 0 view .LVU2465
 7341 000c 0022     		movs	r2, #0
 7342 000e 01A9     		add	r1, sp, #4
 7343              	.LVL787:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7344              		.loc 1 3273 8 view .LVU2466
 7345 0010 05A8     		add	r0, sp, #20
 7346              	.LVL788:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7347              		.loc 1 3273 8 view .LVU2467
 7348 0012 FFF7FEFF 		bl	find_volume
 7349              	.LVL789:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
 7350              		.loc 1 3274 2 is_stmt 1 view .LVU2468
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
 7351              		.loc 1 3274 5 is_stmt 0 view .LVU2469
 7352 0016 0446     		mov	r4, r0
 7353 0018 30B1     		cbz	r0, .L584
 7354              	.L574:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7355              		.loc 1 3304 2 is_stmt 1 view .LVU2470
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7356              		.loc 1 3304 5 is_stmt 0 view .LVU2471
 7357 001a 14B1     		cbz	r4, .L573
 7358              	.L578:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7359              		.loc 1 3304 20 is_stmt 1 discriminator 1 view .LVU2472
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cciFFPmJ.s 			page 243


 7360              		.loc 1 3304 27 is_stmt 0 discriminator 1 view .LVU2473
 7361 001c 0023     		movs	r3, #0
 7362 001e C5F80032 		str	r3, [r5, #512]
 7363              	.LVL790:
 7364              	.L573:
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7365              		.loc 1 3307 1 view .LVU2474
 7366 0022 2046     		mov	r0, r4
 7367 0024 07B0     		add	sp, sp, #28
 7368              	.LCFI72:
 7369              		.cfi_remember_state
 7370              		.cfi_def_cfa_offset 12
 7371              		@ sp needed
 7372 0026 30BD     		pop	{r4, r5, pc}
 7373              	.LVL791:
 7374              	.L584:
 7375              	.LCFI73:
 7376              		.cfi_restore_state
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 7377              		.loc 1 3275 3 is_stmt 1 view .LVU2475
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 7378              		.loc 1 3275 10 is_stmt 0 view .LVU2476
 7379 0028 059B     		ldr	r3, [sp, #20]
 7380 002a C5F80032 		str	r3, [r5, #512]
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 7381              		.loc 1 3276 3 is_stmt 1 view .LVU2477
 7382 002e 02AB     		add	r3, sp, #8
 7383 0030 C5F81832 		str	r3, [r5, #536]
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 7384              		.loc 1 3277 3 view .LVU2478
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 7385              		.loc 1 3277 9 is_stmt 0 view .LVU2479
 7386 0034 0199     		ldr	r1, [sp, #4]
 7387 0036 2846     		mov	r0, r5
 7388 0038 FFF7FEFF 		bl	follow_path
 7389              	.LVL792:
3278:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 7390              		.loc 1 3278 13 is_stmt 1 view .LVU2480
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
 7391              		.loc 1 3279 3 view .LVU2481
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
 7392              		.loc 1 3279 6 is_stmt 0 view .LVU2482
 7393 003c 0446     		mov	r4, r0
 7394 003e 38BB     		cbnz	r0, .L575
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 7395              		.loc 1 3280 4 is_stmt 1 view .LVU2483
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 7396              		.loc 1 3280 10 is_stmt 0 view .LVU2484
 7397 0040 D5F81412 		ldr	r1, [r5, #532]
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 7398              		.loc 1 3280 7 view .LVU2485
 7399 0044 41B1     		cbz	r1, .L576
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 7400              		.loc 1 3281 5 is_stmt 1 view .LVU2486
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 7401              		.loc 1 3281 16 is_stmt 0 view .LVU2487
 7402 0046 CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
ARM GAS  /tmp/cciFFPmJ.s 			page 244


3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 7403              		.loc 1 3281 8 view .LVU2488
 7404 0048 13F0100F 		tst	r3, #16
 7405 004c 1FD0     		beq	.L580
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7406              		.loc 1 3282 6 is_stmt 1 view .LVU2489
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7407              		.loc 1 3282 19 is_stmt 0 view .LVU2490
 7408 004e 0598     		ldr	r0, [sp, #20]
 7409 0050 FFF7FEFF 		bl	ld_clust
 7410              	.LVL793:
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7411              		.loc 1 3282 17 view .LVU2491
 7412 0054 C5F80802 		str	r0, [r5, #520]
 7413              	.L576:
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
 7414              		.loc 1 3286 4 is_stmt 1 view .LVU2492
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 7415              		.loc 1 3287 5 view .LVU2493
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 7416              		.loc 1 3287 16 is_stmt 0 view .LVU2494
 7417 0058 059B     		ldr	r3, [sp, #20]
 7418 005a B3F80632 		ldrh	r3, [r3, #518]
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 7419              		.loc 1 3287 12 view .LVU2495
 7420 005e A5F80432 		strh	r3, [r5, #516]	@ movhi
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 7421              		.loc 1 3288 5 is_stmt 1 view .LVU2496
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 7422              		.loc 1 3288 11 is_stmt 0 view .LVU2497
 7423 0062 0021     		movs	r1, #0
 7424 0064 2846     		mov	r0, r5
 7425 0066 FFF7FEFF 		bl	dir_sdi
 7426              	.LVL794:
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
 7427              		.loc 1 3290 5 is_stmt 1 view .LVU2498
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
 7428              		.loc 1 3290 8 is_stmt 0 view .LVU2499
 7429 006a 0446     		mov	r4, r0
 7430 006c 80B9     		cbnz	r0, .L575
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 7431              		.loc 1 3291 6 is_stmt 1 view .LVU2500
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 7432              		.loc 1 3291 12 is_stmt 0 view .LVU2501
 7433 006e D5F80832 		ldr	r3, [r5, #520]
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 7434              		.loc 1 3291 9 view .LVU2502
 7435 0072 1BB9     		cbnz	r3, .L585
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7436              		.loc 1 3296 7 is_stmt 1 view .LVU2503
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7437              		.loc 1 3296 18 is_stmt 0 view .LVU2504
 7438 0074 0023     		movs	r3, #0
 7439 0076 C5F81C32 		str	r3, [r5, #540]
 7440 007a 09E0     		b	.L575
 7441              	.L585:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
ARM GAS  /tmp/cciFFPmJ.s 			page 245


 7442              		.loc 1 3292 7 is_stmt 1 view .LVU2505
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7443              		.loc 1 3292 20 is_stmt 0 view .LVU2506
 7444 007c 0021     		movs	r1, #0
 7445 007e 2846     		mov	r0, r5
 7446 0080 FFF7FEFF 		bl	inc_lock
 7447              	.LVL795:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7448              		.loc 1 3292 18 view .LVU2507
 7449 0084 C5F81C02 		str	r0, [r5, #540]
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
 7450              		.loc 1 3293 7 is_stmt 1 view .LVU2508
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
 7451              		.loc 1 3293 10 is_stmt 0 view .LVU2509
 7452 0088 10B9     		cbnz	r0, .L575
 7453              	.LVL796:
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7454              		.loc 1 3294 12 view .LVU2510
 7455 008a 1224     		movs	r4, #18
 7456 008c C5E7     		b	.L574
 7457              	.LVL797:
 7458              	.L580:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7459              		.loc 1 3284 10 view .LVU2511
 7460 008e 0524     		movs	r4, #5
 7461              	.LVL798:
 7462              	.L575:
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7463              		.loc 1 3302 3 is_stmt 1 view .LVU2512
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7464              		.loc 1 3302 6 is_stmt 0 view .LVU2513
 7465 0090 042C     		cmp	r4, #4
 7466 0092 C2D1     		bne	.L574
 7467              	.LVL799:
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7468              		.loc 1 3302 30 view .LVU2514
 7469 0094 0524     		movs	r4, #5
 7470 0096 C1E7     		b	.L578
 7471              	.LVL800:
 7472              	.L579:
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7473              		.loc 1 3270 18 view .LVU2515
 7474 0098 0924     		movs	r4, #9
 7475 009a C2E7     		b	.L573
 7476              		.cfi_endproc
 7477              	.LFE106:
 7479              		.section	.text.f_closedir,"ax",%progbits
 7480              		.align	1
 7481              		.global	f_closedir
 7482              		.syntax unified
 7483              		.thumb
 7484              		.thumb_func
 7485              		.fpu softvfp
 7487              	f_closedir:
 7488              	.LVL801:
 7489              	.LFB107:
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/cciFFPmJ.s 			page 246


 7490              		.loc 1 3319 1 is_stmt 1 view -0
 7491              		.cfi_startproc
 7492              		@ args = 0, pretend = 0, frame = 0
 7493              		@ frame_needed = 0, uses_anonymous_args = 0
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7494              		.loc 1 3319 1 is_stmt 0 view .LVU2517
 7495 0000 10B5     		push	{r4, lr}
 7496              	.LCFI74:
 7497              		.cfi_def_cfa_offset 8
 7498              		.cfi_offset 4, -8
 7499              		.cfi_offset 14, -4
 7500 0002 0446     		mov	r4, r0
3320:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7501              		.loc 1 3320 2 is_stmt 1 view .LVU2518
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7502              		.loc 1 3323 2 view .LVU2519
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7503              		.loc 1 3323 8 is_stmt 0 view .LVU2520
 7504 0004 FFF7FEFF 		bl	validate
 7505              	.LVL802:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7506              		.loc 1 3324 2 is_stmt 1 view .LVU2521
3324:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7507              		.loc 1 3324 5 is_stmt 0 view .LVU2522
 7508 0008 30B9     		cbnz	r0, .L587
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 7509              		.loc 1 3329 3 is_stmt 1 view .LVU2523
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 7510              		.loc 1 3329 9 is_stmt 0 view .LVU2524
 7511 000a D4F81C32 		ldr	r3, [r4, #540]
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 7512              		.loc 1 3329 6 view .LVU2525
 7513 000e 23B9     		cbnz	r3, .L590
 7514              	.L588:
 7515              	.LVL803:
3331:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7516              		.loc 1 3331 3 is_stmt 1 view .LVU2526
3331:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7517              		.loc 1 3331 6 is_stmt 0 view .LVU2527
 7518 0010 10B9     		cbnz	r0, .L587
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7519              		.loc 1 3333 4 is_stmt 1 view .LVU2528
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7520              		.loc 1 3333 11 is_stmt 0 view .LVU2529
 7521 0012 0023     		movs	r3, #0
 7522 0014 C4F80032 		str	r3, [r4, #512]
 7523              	.LVL804:
 7524              	.L587:
3338:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7525              		.loc 1 3338 2 is_stmt 1 view .LVU2530
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7526              		.loc 1 3339 1 is_stmt 0 view .LVU2531
 7527 0018 10BD     		pop	{r4, pc}
 7528              	.LVL805:
 7529              	.L590:
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 7530              		.loc 1 3330 4 is_stmt 1 view .LVU2532
ARM GAS  /tmp/cciFFPmJ.s 			page 247


3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 7531              		.loc 1 3330 10 is_stmt 0 view .LVU2533
 7532 001a 1846     		mov	r0, r3
 7533 001c FFF7FEFF 		bl	dec_lock
 7534              	.LVL806:
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 7535              		.loc 1 3330 10 view .LVU2534
 7536 0020 F6E7     		b	.L588
 7537              		.cfi_endproc
 7538              	.LFE107:
 7540              		.section	.text.f_readdir,"ax",%progbits
 7541              		.align	1
 7542              		.global	f_readdir
 7543              		.syntax unified
 7544              		.thumb
 7545              		.thumb_func
 7546              		.fpu softvfp
 7548              	f_readdir:
 7549              	.LVL807:
 7550              	.LFB108:
3352:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7551              		.loc 1 3352 1 is_stmt 1 view -0
 7552              		.cfi_startproc
 7553              		@ args = 0, pretend = 0, frame = 16
 7554              		@ frame_needed = 0, uses_anonymous_args = 0
3352:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7555              		.loc 1 3352 1 is_stmt 0 view .LVU2536
 7556 0000 70B5     		push	{r4, r5, r6, lr}
 7557              	.LCFI75:
 7558              		.cfi_def_cfa_offset 16
 7559              		.cfi_offset 4, -16
 7560              		.cfi_offset 5, -12
 7561              		.cfi_offset 6, -8
 7562              		.cfi_offset 14, -4
 7563 0002 84B0     		sub	sp, sp, #16
 7564              	.LCFI76:
 7565              		.cfi_def_cfa_offset 32
 7566 0004 0446     		mov	r4, r0
 7567 0006 0D46     		mov	r5, r1
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7568              		.loc 1 3353 2 is_stmt 1 view .LVU2537
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7569              		.loc 1 3354 2 view .LVU2538
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7570              		.loc 1 3357 2 view .LVU2539
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7571              		.loc 1 3357 8 is_stmt 0 view .LVU2540
 7572 0008 FFF7FEFF 		bl	validate
 7573              	.LVL808:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 7574              		.loc 1 3358 2 is_stmt 1 view .LVU2541
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 7575              		.loc 1 3358 5 is_stmt 0 view .LVU2542
 7576 000c 0646     		mov	r6, r0
 7577 000e 00BB     		cbnz	r0, .L592
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 7578              		.loc 1 3359 3 is_stmt 1 view .LVU2543
ARM GAS  /tmp/cciFFPmJ.s 			page 248


3359:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 7579              		.loc 1 3359 6 is_stmt 0 view .LVU2544
 7580 0010 5DB1     		cbz	r5, .L599
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 7581              		.loc 1 3362 4 is_stmt 1 view .LVU2545
 7582 0012 01AB     		add	r3, sp, #4
 7583 0014 C4F81832 		str	r3, [r4, #536]
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7584              		.loc 1 3363 4 view .LVU2546
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7585              		.loc 1 3363 10 is_stmt 0 view .LVU2547
 7586 0018 0021     		movs	r1, #0
 7587 001a 2046     		mov	r0, r4
 7588              	.LVL809:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7589              		.loc 1 3363 10 view .LVU2548
 7590 001c FFF7FEFF 		bl	dir_read
 7591              	.LVL810:
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
 7592              		.loc 1 3364 4 is_stmt 1 view .LVU2549
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
 7593              		.loc 1 3364 7 is_stmt 0 view .LVU2550
 7594 0020 0428     		cmp	r0, #4
 7595 0022 08D0     		beq	.L600
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 7596              		.loc 1 3368 4 is_stmt 1 view .LVU2551
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 7597              		.loc 1 3368 7 is_stmt 0 view .LVU2552
 7598 0024 50B1     		cbz	r0, .L595
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7599              		.loc 1 3363 10 view .LVU2553
 7600 0026 0646     		mov	r6, r0
 7601 0028 13E0     		b	.L592
 7602              	.L599:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7603              		.loc 1 3360 4 is_stmt 1 view .LVU2554
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7604              		.loc 1 3360 10 is_stmt 0 view .LVU2555
 7605 002a 0021     		movs	r1, #0
 7606 002c 2046     		mov	r0, r4
 7607              	.LVL811:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7608              		.loc 1 3360 10 view .LVU2556
 7609 002e FFF7FEFF 		bl	dir_sdi
 7610              	.LVL812:
 7611 0032 0646     		mov	r6, r0
 7612              	.LVL813:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7613              		.loc 1 3360 10 view .LVU2557
 7614 0034 0DE0     		b	.L592
 7615              	.LVL814:
 7616              	.L600:
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 7617              		.loc 1 3365 5 is_stmt 1 view .LVU2558
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 7618              		.loc 1 3365 14 is_stmt 0 view .LVU2559
 7619 0036 0023     		movs	r3, #0
ARM GAS  /tmp/cciFFPmJ.s 			page 249


 7620 0038 C4F81032 		str	r3, [r4, #528]
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7621              		.loc 1 3366 5 is_stmt 1 view .LVU2560
 7622              	.LVL815:
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 7623              		.loc 1 3368 4 view .LVU2561
 7624              	.L595:
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 7625              		.loc 1 3369 5 view .LVU2562
 7626 003c 2946     		mov	r1, r5
 7627 003e 2046     		mov	r0, r4
 7628 0040 FFF7FEFF 		bl	get_fileinfo
 7629              	.LVL816:
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 7630              		.loc 1 3370 5 view .LVU2563
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 7631              		.loc 1 3370 11 is_stmt 0 view .LVU2564
 7632 0044 0021     		movs	r1, #0
 7633 0046 2046     		mov	r0, r4
 7634 0048 FFF7FEFF 		bl	dir_next
 7635              	.LVL817:
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
 7636              		.loc 1 3371 5 is_stmt 1 view .LVU2565
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
 7637              		.loc 1 3371 8 is_stmt 0 view .LVU2566
 7638 004c 0428     		cmp	r0, #4
 7639 004e 03D0     		beq	.L601
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 7640              		.loc 1 3370 11 view .LVU2567
 7641 0050 0646     		mov	r6, r0
 7642              	.LVL818:
 7643              	.L592:
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7644              		.loc 1 3376 14 is_stmt 1 view .LVU2568
3380:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7645              		.loc 1 3380 2 view .LVU2569
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7646              		.loc 1 3381 1 is_stmt 0 view .LVU2570
 7647 0052 3046     		mov	r0, r6
 7648 0054 04B0     		add	sp, sp, #16
 7649              	.LCFI77:
 7650              		.cfi_remember_state
 7651              		.cfi_def_cfa_offset 16
 7652              		@ sp needed
 7653 0056 70BD     		pop	{r4, r5, r6, pc}
 7654              	.LVL819:
 7655              	.L601:
 7656              	.LCFI78:
 7657              		.cfi_restore_state
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
 7658              		.loc 1 3372 6 is_stmt 1 view .LVU2571
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
 7659              		.loc 1 3372 15 is_stmt 0 view .LVU2572
 7660 0058 0023     		movs	r3, #0
 7661 005a C4F81032 		str	r3, [r4, #528]
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7662              		.loc 1 3373 6 is_stmt 1 view .LVU2573
ARM GAS  /tmp/cciFFPmJ.s 			page 250


 7663              	.LVL820:
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7664              		.loc 1 3373 6 is_stmt 0 view .LVU2574
 7665 005e F8E7     		b	.L592
 7666              		.cfi_endproc
 7667              	.LFE108:
 7669              		.section	.text.f_stat,"ax",%progbits
 7670              		.align	1
 7671              		.global	f_stat
 7672              		.syntax unified
 7673              		.thumb
 7674              		.thumb_func
 7675              		.fpu softvfp
 7677              	f_stat:
 7678              	.LVL821:
 7679              	.LFB109:
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7680              		.loc 1 3446 1 is_stmt 1 view -0
 7681              		.cfi_startproc
 7682              		@ args = 0, pretend = 0, frame = 568
 7683              		@ frame_needed = 0, uses_anonymous_args = 0
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7684              		.loc 1 3446 1 is_stmt 0 view .LVU2576
 7685 0000 30B5     		push	{r4, r5, lr}
 7686              	.LCFI79:
 7687              		.cfi_def_cfa_offset 12
 7688              		.cfi_offset 4, -12
 7689              		.cfi_offset 5, -8
 7690              		.cfi_offset 14, -4
 7691 0002 ADF50F7D 		sub	sp, sp, #572
 7692              	.LCFI80:
 7693              		.cfi_def_cfa_offset 584
 7694 0006 0190     		str	r0, [sp, #4]
 7695 0008 0C46     		mov	r4, r1
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 7696              		.loc 1 3447 2 is_stmt 1 view .LVU2577
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7697              		.loc 1 3448 2 view .LVU2578
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7698              		.loc 1 3449 2 view .LVU2579
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7699              		.loc 1 3453 2 view .LVU2580
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7700              		.loc 1 3453 8 is_stmt 0 view .LVU2581
 7701 000a 0022     		movs	r2, #0
 7702 000c 01A9     		add	r1, sp, #4
 7703              	.LVL822:
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7704              		.loc 1 3453 8 view .LVU2582
 7705 000e 86A8     		add	r0, sp, #536
 7706              	.LVL823:
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7707              		.loc 1 3453 8 view .LVU2583
 7708 0010 FFF7FEFF 		bl	find_volume
 7709              	.LVL824:
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 7710              		.loc 1 3454 2 is_stmt 1 view .LVU2584
ARM GAS  /tmp/cciFFPmJ.s 			page 251


3454:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 7711              		.loc 1 3454 5 is_stmt 0 view .LVU2585
 7712 0014 0546     		mov	r5, r0
 7713 0016 18B1     		cbz	r0, .L606
 7714              	.LVL825:
 7715              	.L603:
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7716              		.loc 1 3464 13 is_stmt 1 view .LVU2586
3467:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7717              		.loc 1 3467 2 view .LVU2587
3468:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7718              		.loc 1 3468 1 is_stmt 0 view .LVU2588
 7719 0018 2846     		mov	r0, r5
 7720 001a 0DF50F7D 		add	sp, sp, #572
 7721              	.LCFI81:
 7722              		.cfi_remember_state
 7723              		.cfi_def_cfa_offset 12
 7724              		@ sp needed
 7725 001e 30BD     		pop	{r4, r5, pc}
 7726              	.LVL826:
 7727              	.L606:
 7728              	.LCFI82:
 7729              		.cfi_restore_state
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 7730              		.loc 1 3455 3 is_stmt 1 view .LVU2589
 7731 0020 03AB     		add	r3, sp, #12
 7732 0022 8C93     		str	r3, [sp, #560]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 7733              		.loc 1 3456 3 view .LVU2590
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 7734              		.loc 1 3456 9 is_stmt 0 view .LVU2591
 7735 0024 0199     		ldr	r1, [sp, #4]
 7736 0026 06A8     		add	r0, sp, #24
 7737              	.LVL827:
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 7738              		.loc 1 3456 9 view .LVU2592
 7739 0028 FFF7FEFF 		bl	follow_path
 7740              	.LVL828:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
 7741              		.loc 1 3457 3 is_stmt 1 view .LVU2593
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
 7742              		.loc 1 3457 6 is_stmt 0 view .LVU2594
 7743 002c 0546     		mov	r5, r0
 7744 002e 0028     		cmp	r0, #0
 7745 0030 F2D1     		bne	.L603
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 7746              		.loc 1 3458 4 is_stmt 1 view .LVU2595
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 7747              		.loc 1 3458 10 is_stmt 0 view .LVU2596
 7748 0032 8B9B     		ldr	r3, [sp, #556]
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 7749              		.loc 1 3458 7 view .LVU2597
 7750 0034 33B1     		cbz	r3, .L604
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7751              		.loc 1 3459 5 is_stmt 1 view .LVU2598
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7752              		.loc 1 3459 8 is_stmt 0 view .LVU2599
ARM GAS  /tmp/cciFFPmJ.s 			page 252


 7753 0036 002C     		cmp	r4, #0
 7754 0038 EED0     		beq	.L603
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7755              		.loc 1 3459 14 is_stmt 1 discriminator 1 view .LVU2600
 7756 003a 2146     		mov	r1, r4
 7757 003c 06A8     		add	r0, sp, #24
 7758              	.LVL829:
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7759              		.loc 1 3459 14 is_stmt 0 discriminator 1 view .LVU2601
 7760 003e FFF7FEFF 		bl	get_fileinfo
 7761              	.LVL830:
 7762 0042 E9E7     		b	.L603
 7763              	.LVL831:
 7764              	.L604:
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7765              		.loc 1 3461 9 view .LVU2602
 7766 0044 0625     		movs	r5, #6
 7767 0046 E7E7     		b	.L603
 7768              		.cfi_endproc
 7769              	.LFE109:
 7771              		.section	.text.f_getfree,"ax",%progbits
 7772              		.align	1
 7773              		.global	f_getfree
 7774              		.syntax unified
 7775              		.thumb
 7776              		.thumb_func
 7777              		.fpu softvfp
 7779              	f_getfree:
 7780              	.LVL832:
 7781              	.LFB110:
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7782              		.loc 1 3482 1 is_stmt 1 view -0
 7783              		.cfi_startproc
 7784              		@ args = 0, pretend = 0, frame = 8
 7785              		@ frame_needed = 0, uses_anonymous_args = 0
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7786              		.loc 1 3482 1 is_stmt 0 view .LVU2604
 7787 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 7788              	.LCFI83:
 7789              		.cfi_def_cfa_offset 32
 7790              		.cfi_offset 4, -32
 7791              		.cfi_offset 5, -28
 7792              		.cfi_offset 6, -24
 7793              		.cfi_offset 7, -20
 7794              		.cfi_offset 8, -16
 7795              		.cfi_offset 9, -12
 7796              		.cfi_offset 10, -8
 7797              		.cfi_offset 14, -4
 7798 0004 82B0     		sub	sp, sp, #8
 7799              	.LCFI84:
 7800              		.cfi_def_cfa_offset 40
 7801 0006 0190     		str	r0, [sp, #4]
 7802 0008 0F46     		mov	r7, r1
 7803 000a 1446     		mov	r4, r2
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7804              		.loc 1 3483 2 is_stmt 1 view .LVU2605
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, sect, stat;
ARM GAS  /tmp/cciFFPmJ.s 			page 253


 7805              		.loc 1 3484 2 view .LVU2606
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 7806              		.loc 1 3485 2 view .LVU2607
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fat, *p;
 7807              		.loc 1 3486 2 view .LVU2608
3487:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7808              		.loc 1 3487 2 view .LVU2609
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7809              		.loc 1 3491 2 view .LVU2610
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7810              		.loc 1 3491 8 is_stmt 0 view .LVU2611
 7811 000c 0022     		movs	r2, #0
 7812              	.LVL833:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7813              		.loc 1 3491 8 view .LVU2612
 7814 000e 01A9     		add	r1, sp, #4
 7815              	.LVL834:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7816              		.loc 1 3491 8 view .LVU2613
 7817 0010 2046     		mov	r0, r4
 7818              	.LVL835:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7819              		.loc 1 3491 8 view .LVU2614
 7820 0012 FFF7FEFF 		bl	find_volume
 7821              	.LVL836:
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7822              		.loc 1 3492 2 is_stmt 1 view .LVU2615
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7823              		.loc 1 3492 5 is_stmt 0 view .LVU2616
 7824 0016 2568     		ldr	r5, [r4]
 7825              	.LVL837:
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
 7826              		.loc 1 3493 2 is_stmt 1 view .LVU2617
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
 7827              		.loc 1 3493 5 is_stmt 0 view .LVU2618
 7828 0018 8046     		mov	r8, r0
 7829 001a 38B9     		cbnz	r0, .L608
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7830              		.loc 1 3495 3 is_stmt 1 view .LVU2619
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7831              		.loc 1 3495 9 is_stmt 0 view .LVU2620
 7832 001c D5F81032 		ldr	r3, [r5, #528]
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7833              		.loc 1 3495 27 view .LVU2621
 7834 0020 D5F81442 		ldr	r4, [r5, #532]
 7835              	.LVL838:
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7836              		.loc 1 3495 38 view .LVU2622
 7837 0024 A21E     		subs	r2, r4, #2
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7838              		.loc 1 3495 6 view .LVU2623
 7839 0026 9342     		cmp	r3, r2
 7840 0028 04D8     		bhi	.L609
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7841              		.loc 1 3496 4 is_stmt 1 view .LVU2624
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7842              		.loc 1 3496 11 is_stmt 0 view .LVU2625
ARM GAS  /tmp/cciFFPmJ.s 			page 254


 7843 002a 3B60     		str	r3, [r7]
 7844              	.LVL839:
 7845              	.L608:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7846              		.loc 1 3534 2 is_stmt 1 view .LVU2626
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7847              		.loc 1 3535 1 is_stmt 0 view .LVU2627
 7848 002c 4046     		mov	r0, r8
 7849 002e 02B0     		add	sp, sp, #8
 7850              	.LCFI85:
 7851              		.cfi_remember_state
 7852              		.cfi_def_cfa_offset 32
 7853              		@ sp needed
 7854 0030 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 7855              	.LVL840:
 7856              	.L609:
 7857              	.LCFI86:
 7858              		.cfi_restore_state
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
 7859              		.loc 1 3499 4 is_stmt 1 view .LVU2628
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
 7860              		.loc 1 3499 8 is_stmt 0 view .LVU2629
 7861 0034 95F80092 		ldrb	r9, [r5, #512]	@ zero_extendqisi2
 7862              	.LVL841:
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 7863              		.loc 1 3500 4 is_stmt 1 view .LVU2630
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
 7864              		.loc 1 3501 4 view .LVU2631
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
 7865              		.loc 1 3501 7 is_stmt 0 view .LVU2632
 7866 0038 B9F1010F 		cmp	r9, #1
 7867 003c 05D0     		beq	.L623
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
 7868              		.loc 1 3510 5 is_stmt 1 view .LVU2633
 7869              	.LVL842:
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
 7870              		.loc 1 3511 5 view .LVU2634
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
 7871              		.loc 1 3511 10 is_stmt 0 view .LVU2635
 7872 003e D5F82012 		ldr	r1, [r5, #544]
 7873              	.LVL843:
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7874              		.loc 1 3512 5 is_stmt 1 view .LVU2636
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7875              		.loc 1 3512 12 view .LVU2637
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7876              		.loc 1 3512 14 is_stmt 0 view .LVU2638
 7877 0042 0022     		movs	r2, #0
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7878              		.loc 1 3512 7 view .LVU2639
 7879 0044 1046     		mov	r0, r2
 7880              	.LVL844:
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 7881              		.loc 1 3500 6 view .LVU2640
 7882 0046 1646     		mov	r6, r2
 7883 0048 2FE0     		b	.L619
 7884              	.LVL845:
ARM GAS  /tmp/cciFFPmJ.s 			page 255


 7885              	.L623:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7886              		.loc 1 3502 10 view .LVU2641
 7887 004a 0224     		movs	r4, #2
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 7888              		.loc 1 3500 6 view .LVU2642
 7889 004c 0026     		movs	r6, #0
 7890 004e 04E0     		b	.L613
 7891              	.LVL846:
 7892              	.L612:
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7893              		.loc 1 3508 13 is_stmt 1 view .LVU2643
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7894              		.loc 1 3508 5 is_stmt 0 view .LVU2644
 7895 0050 0134     		adds	r4, r4, #1
 7896              	.LVL847:
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7897              		.loc 1 3508 25 view .LVU2645
 7898 0052 D5F81432 		ldr	r3, [r5, #532]
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7899              		.loc 1 3508 5 view .LVU2646
 7900 0056 A342     		cmp	r3, r4
 7901 0058 40D9     		bls	.L611
 7902              	.LVL848:
 7903              	.L613:
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
 7904              		.loc 1 3503 5 is_stmt 1 view .LVU2647
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 7905              		.loc 1 3504 6 view .LVU2648
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 7906              		.loc 1 3504 13 is_stmt 0 view .LVU2649
 7907 005a 2146     		mov	r1, r4
 7908 005c 2846     		mov	r0, r5
 7909 005e FFF7FEFF 		bl	get_fat
 7910              	.LVL849:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 7911              		.loc 1 3505 6 is_stmt 1 view .LVU2650
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 7912              		.loc 1 3505 9 is_stmt 0 view .LVU2651
 7913 0062 B0F1FF3F 		cmp	r0, #-1
 7914 0066 38D0     		beq	.L620
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 7915              		.loc 1 3506 6 is_stmt 1 view .LVU2652
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 7916              		.loc 1 3506 9 is_stmt 0 view .LVU2653
 7917 0068 0128     		cmp	r0, #1
 7918 006a 41D0     		beq	.L621
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7919              		.loc 1 3507 6 is_stmt 1 view .LVU2654
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7920              		.loc 1 3507 9 is_stmt 0 view .LVU2655
 7921 006c 0028     		cmp	r0, #0
 7922 006e EFD1     		bne	.L612
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7923              		.loc 1 3507 21 is_stmt 1 discriminator 1 view .LVU2656
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7924              		.loc 1 3507 22 is_stmt 0 discriminator 1 view .LVU2657
ARM GAS  /tmp/cciFFPmJ.s 			page 256


 7925 0070 0136     		adds	r6, r6, #1
 7926              	.LVL850:
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7927              		.loc 1 3507 22 discriminator 1 view .LVU2658
 7928 0072 EDE7     		b	.L612
 7929              	.LVL851:
 7930              	.L624:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7931              		.loc 1 3515 7 is_stmt 1 view .LVU2659
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7932              		.loc 1 3515 13 is_stmt 0 view .LVU2660
 7933 0074 01F1010A 		add	r10, r1, #1
 7934              	.LVL852:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7935              		.loc 1 3515 13 view .LVU2661
 7936 0078 2846     		mov	r0, r5
 7937              	.LVL853:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7938              		.loc 1 3515 13 view .LVU2662
 7939 007a FFF7FEFF 		bl	move_window
 7940              	.LVL854:
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
 7941              		.loc 1 3516 7 is_stmt 1 view .LVU2663
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
 7942              		.loc 1 3516 10 is_stmt 0 view .LVU2664
 7943 007e 8046     		mov	r8, r0
 7944 0080 60BB     		cbnz	r0, .L611
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
 7945              		.loc 1 3517 7 is_stmt 1 view .LVU2665
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
 7946              		.loc 1 3517 9 is_stmt 0 view .LVU2666
 7947 0082 2A46     		mov	r2, r5
 7948              	.LVL855:
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7949              		.loc 1 3518 7 is_stmt 1 view .LVU2667
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7950              		.loc 1 3515 13 is_stmt 0 view .LVU2668
 7951 0084 5146     		mov	r1, r10
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7952              		.loc 1 3518 9 view .LVU2669
 7953 0086 4FF40070 		mov	r0, #512
 7954              	.LVL856:
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7955              		.loc 1 3518 9 view .LVU2670
 7956 008a 10E0     		b	.L614
 7957              	.LVL857:
 7958              	.L625:
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7959              		.loc 1 3521 7 is_stmt 1 view .LVU2671
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7960              		.loc 1 3521 11 is_stmt 0 view .LVU2672
 7961 008c 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
 7962 0090 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 7963 0092 43EA0C23 		orr	r3, r3, ip, lsl #8
 7964 0096 1BB2     		sxth	r3, r3
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7965              		.loc 1 3521 10 view .LVU2673
ARM GAS  /tmp/cciFFPmJ.s 			page 257


 7966 0098 03B9     		cbnz	r3, .L616
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7967              		.loc 1 3521 28 is_stmt 1 discriminator 1 view .LVU2674
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7968              		.loc 1 3521 29 is_stmt 0 discriminator 1 view .LVU2675
 7969 009a 0136     		adds	r6, r6, #1
 7970              	.LVL858:
 7971              	.L616:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7972              		.loc 1 3522 7 is_stmt 1 view .LVU2676
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7973              		.loc 1 3522 9 is_stmt 0 view .LVU2677
 7974 009c 0232     		adds	r2, r2, #2
 7975              	.LVL859:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7976              		.loc 1 3522 15 is_stmt 1 view .LVU2678
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7977              		.loc 1 3522 17 is_stmt 0 view .LVU2679
 7978 009e 0238     		subs	r0, r0, #2
 7979              	.LVL860:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7980              		.loc 1 3522 17 view .LVU2680
 7981 00a0 01E0     		b	.L617
 7982              	.L618:
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7983              		.loc 1 3525 7 is_stmt 1 view .LVU2681
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7984              		.loc 1 3525 9 is_stmt 0 view .LVU2682
 7985 00a2 0432     		adds	r2, r2, #4
 7986              	.LVL861:
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7987              		.loc 1 3525 15 is_stmt 1 view .LVU2683
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7988              		.loc 1 3525 17 is_stmt 0 view .LVU2684
 7989 00a4 0438     		subs	r0, r0, #4
 7990              	.LVL862:
 7991              	.L617:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7992              		.loc 1 3527 13 is_stmt 1 view .LVU2685
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7993              		.loc 1 3527 5 is_stmt 0 view .LVU2686
 7994 00a6 013C     		subs	r4, r4, #1
 7995              	.LVL863:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7996              		.loc 1 3527 5 view .LVU2687
 7997 00a8 18D0     		beq	.L611
 7998              	.LVL864:
 7999              	.L619:
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
 8000              		.loc 1 3513 5 is_stmt 1 view .LVU2688
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 8001              		.loc 1 3514 6 view .LVU2689
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 8002              		.loc 1 3514 9 is_stmt 0 view .LVU2690
 8003 00aa 0028     		cmp	r0, #0
 8004 00ac E2D0     		beq	.L624
 8005              	.LVL865:
ARM GAS  /tmp/cciFFPmJ.s 			page 258


 8006              	.L614:
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
 8007              		.loc 1 3520 6 is_stmt 1 view .LVU2691
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
 8008              		.loc 1 3520 9 is_stmt 0 view .LVU2692
 8009 00ae B9F1020F 		cmp	r9, #2
 8010 00b2 EBD0     		beq	.L625
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8011              		.loc 1 3524 7 is_stmt 1 view .LVU2693
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8012              		.loc 1 3524 12 is_stmt 0 view .LVU2694
 8013 00b4 92F803C0 		ldrb	ip, [r2, #3]	@ zero_extendqisi2
 8014 00b8 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 8015 00ba 1B04     		lsls	r3, r3, #16
 8016 00bc 43EA0C63 		orr	r3, r3, ip, lsl #24
 8017 00c0 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
 8018 00c4 43EA0C23 		orr	r3, r3, ip, lsl #8
 8019 00c8 92F800C0 		ldrb	ip, [r2]	@ zero_extendqisi2
 8020 00cc 43EA0C03 		orr	r3, r3, ip
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8021              		.loc 1 3524 10 view .LVU2695
 8022 00d0 33F07043 		bics	r3, r3, #-268435456
 8023 00d4 E5D1     		bne	.L618
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8024              		.loc 1 3524 44 is_stmt 1 discriminator 1 view .LVU2696
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8025              		.loc 1 3524 45 is_stmt 0 discriminator 1 view .LVU2697
 8026 00d6 0136     		adds	r6, r6, #1
 8027              	.LVL866:
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8028              		.loc 1 3524 45 discriminator 1 view .LVU2698
 8029 00d8 E3E7     		b	.L618
 8030              	.LVL867:
 8031              	.L620:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8032              		.loc 1 3505 36 view .LVU2699
 8033 00da C846     		mov	r8, r9
 8034              	.LVL868:
 8035              	.L611:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 8036              		.loc 1 3529 4 is_stmt 1 view .LVU2700
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 8037              		.loc 1 3529 19 is_stmt 0 view .LVU2701
 8038 00dc C5F81062 		str	r6, [r5, #528]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8039              		.loc 1 3530 4 is_stmt 1 view .LVU2702
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8040              		.loc 1 3530 17 is_stmt 0 view .LVU2703
 8041 00e0 95F80532 		ldrb	r3, [r5, #517]	@ zero_extendqisi2
 8042 00e4 43F00103 		orr	r3, r3, #1
 8043 00e8 85F80532 		strb	r3, [r5, #517]
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8044              		.loc 1 3531 4 is_stmt 1 view .LVU2704
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8045              		.loc 1 3531 11 is_stmt 0 view .LVU2705
 8046 00ec 3E60     		str	r6, [r7]
 8047 00ee 9DE7     		b	.L608
ARM GAS  /tmp/cciFFPmJ.s 			page 259


 8048              	.LVL869:
 8049              	.L621:
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8050              		.loc 1 3506 27 view .LVU2706
 8051 00f0 4FF00208 		mov	r8, #2
 8052 00f4 F2E7     		b	.L611
 8053              		.cfi_endproc
 8054              	.LFE110:
 8056              		.section	.text.f_truncate,"ax",%progbits
 8057              		.align	1
 8058              		.global	f_truncate
 8059              		.syntax unified
 8060              		.thumb
 8061              		.thumb_func
 8062              		.fpu softvfp
 8064              	f_truncate:
 8065              	.LVL870:
 8066              	.LFB111:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8067              		.loc 1 3547 1 is_stmt 1 view -0
 8068              		.cfi_startproc
 8069              		@ args = 0, pretend = 0, frame = 0
 8070              		@ frame_needed = 0, uses_anonymous_args = 0
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8071              		.loc 1 3547 1 is_stmt 0 view .LVU2708
 8072 0000 70B5     		push	{r4, r5, r6, lr}
 8073              	.LCFI87:
 8074              		.cfi_def_cfa_offset 16
 8075              		.cfi_offset 4, -16
 8076              		.cfi_offset 5, -12
 8077              		.cfi_offset 6, -8
 8078              		.cfi_offset 14, -4
 8079 0002 0446     		mov	r4, r0
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
 8080              		.loc 1 3548 2 is_stmt 1 view .LVU2709
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8081              		.loc 1 3549 2 view .LVU2710
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8082              		.loc 1 3552 2 view .LVU2711
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8083              		.loc 1 3552 8 is_stmt 0 view .LVU2712
 8084 0004 FFF7FEFF 		bl	validate
 8085              	.LVL871:
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
 8086              		.loc 1 3553 2 is_stmt 1 view .LVU2713
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
 8087              		.loc 1 3553 5 is_stmt 0 view .LVU2714
 8088 0008 0546     		mov	r5, r0
 8089 000a 50B9     		cbnz	r0, .L627
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8090              		.loc 1 3554 3 is_stmt 1 view .LVU2715
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8091              		.loc 1 3554 9 is_stmt 0 view .LVU2716
 8092 000c 94F80732 		ldrb	r3, [r4, #519]	@ zero_extendqisi2
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8093              		.loc 1 3554 6 view .LVU2717
 8094 0010 33B9     		cbnz	r3, .L634
ARM GAS  /tmp/cciFFPmJ.s 			page 260


3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8095              		.loc 1 3557 4 is_stmt 1 view .LVU2718
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8096              		.loc 1 3557 12 is_stmt 0 view .LVU2719
 8097 0012 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8098              		.loc 1 3557 7 view .LVU2720
 8099 0016 13F0020F 		tst	r3, #2
 8100 001a 02D1     		bne	.L627
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8101              		.loc 1 3558 9 view .LVU2721
 8102 001c 0725     		movs	r5, #7
 8103 001e 23E0     		b	.L628
 8104              	.L634:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8105              		.loc 1 3555 8 view .LVU2722
 8106 0020 1D46     		mov	r5, r3
 8107              	.L627:
 8108              	.LVL872:
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
 8109              		.loc 1 3561 2 is_stmt 1 view .LVU2723
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
 8110              		.loc 1 3561 5 is_stmt 0 view .LVU2724
 8111 0022 0DBB     		cbnz	r5, .L628
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8112              		.loc 1 3562 3 is_stmt 1 view .LVU2725
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8113              		.loc 1 3562 9 is_stmt 0 view .LVU2726
 8114 0024 D4F80C22 		ldr	r2, [r4, #524]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8115              		.loc 1 3562 21 view .LVU2727
 8116 0028 D4F80832 		ldr	r3, [r4, #520]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8117              		.loc 1 3562 6 view .LVU2728
 8118 002c 9A42     		cmp	r2, r3
 8119 002e 18D9     		bls	.L629
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 8120              		.loc 1 3563 4 is_stmt 1 view .LVU2729
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 8121              		.loc 1 3563 14 is_stmt 0 view .LVU2730
 8122 0030 C4F80C32 		str	r3, [r4, #524]
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8123              		.loc 1 3564 4 is_stmt 1 view .LVU2731
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8124              		.loc 1 3564 13 is_stmt 0 view .LVU2732
 8125 0034 94F80622 		ldrb	r2, [r4, #518]	@ zero_extendqisi2
 8126 0038 42F02002 		orr	r2, r2, #32
 8127 003c 84F80622 		strb	r2, [r4, #518]
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 8128              		.loc 1 3565 4 is_stmt 1 view .LVU2733
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 8129              		.loc 1 3565 7 is_stmt 0 view .LVU2734
 8130 0040 A3B9     		cbnz	r3, .L630
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
 8131              		.loc 1 3566 5 is_stmt 1 view .LVU2735
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
 8132              		.loc 1 3566 11 is_stmt 0 view .LVU2736
ARM GAS  /tmp/cciFFPmJ.s 			page 261


 8133 0042 D4F81012 		ldr	r1, [r4, #528]
 8134 0046 D4F80002 		ldr	r0, [r4, #512]
 8135 004a FFF7FEFF 		bl	remove_chain
 8136              	.LVL873:
 8137 004e 0546     		mov	r5, r0
 8138              	.LVL874:
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
 8139              		.loc 1 3567 5 is_stmt 1 view .LVU2737
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
 8140              		.loc 1 3567 16 is_stmt 0 view .LVU2738
 8141 0050 0023     		movs	r3, #0
 8142 0052 C4F81032 		str	r3, [r4, #528]
 8143              	.LVL875:
 8144              	.L631:
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8145              		.loc 1 3579 4 is_stmt 1 view .LVU2739
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8146              		.loc 1 3579 7 is_stmt 0 view .LVU2740
 8147 0056 25B9     		cbnz	r5, .L629
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8148              		.loc 1 3579 27 discriminator 1 view .LVU2741
 8149 0058 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8150              		.loc 1 3579 21 discriminator 1 view .LVU2742
 8151 005c 13F0400F 		tst	r3, #64
 8152 0060 2CD1     		bne	.L640
 8153              	.L629:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8154              		.loc 1 3587 3 is_stmt 1 view .LVU2743
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8155              		.loc 1 3587 6 is_stmt 0 view .LVU2744
 8156 0062 0DB1     		cbz	r5, .L628
 8157              	.LVL876:
 8158              	.L633:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8159              		.loc 1 3587 21 is_stmt 1 discriminator 1 view .LVU2745
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8160              		.loc 1 3587 29 is_stmt 0 discriminator 1 view .LVU2746
 8161 0064 84F80752 		strb	r5, [r4, #519]
 8162              	.L628:
 8163              	.LVL877:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8164              		.loc 1 3590 2 is_stmt 1 view .LVU2747
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8165              		.loc 1 3591 1 is_stmt 0 view .LVU2748
 8166 0068 2846     		mov	r0, r5
 8167 006a 70BD     		pop	{r4, r5, r6, pc}
 8168              	.LVL878:
 8169              	.L630:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8170              		.loc 1 3569 5 is_stmt 1 view .LVU2749
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8171              		.loc 1 3569 11 is_stmt 0 view .LVU2750
 8172 006c D4F81412 		ldr	r1, [r4, #532]
 8173 0070 D4F80002 		ldr	r0, [r4, #512]
 8174 0074 FFF7FEFF 		bl	get_fat
 8175              	.LVL879:
ARM GAS  /tmp/cciFFPmJ.s 			page 262


 8176 0078 0646     		mov	r6, r0
 8177              	.LVL880:
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8178              		.loc 1 3570 5 is_stmt 1 view .LVU2751
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8179              		.loc 1 3571 5 view .LVU2752
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8180              		.loc 1 3571 8 is_stmt 0 view .LVU2753
 8181 007a B0F1FF3F 		cmp	r0, #-1
 8182 007e 19D0     		beq	.L641
 8183              	.L632:
 8184              	.LVL881:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8185              		.loc 1 3572 5 is_stmt 1 view .LVU2754
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8186              		.loc 1 3572 8 is_stmt 0 view .LVU2755
 8187 0080 012E     		cmp	r6, #1
 8188 0082 19D0     		beq	.L637
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8189              		.loc 1 3573 5 is_stmt 1 view .LVU2756
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8190              		.loc 1 3573 8 is_stmt 0 view .LVU2757
 8191 0084 002D     		cmp	r5, #0
 8192 0086 E6D1     		bne	.L631
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8193              		.loc 1 3573 33 discriminator 1 view .LVU2758
 8194 0088 D4F80002 		ldr	r0, [r4, #512]
 8195              	.LVL882:
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8196              		.loc 1 3573 37 discriminator 1 view .LVU2759
 8197 008c D0F81432 		ldr	r3, [r0, #532]
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8198              		.loc 1 3573 22 discriminator 1 view .LVU2760
 8199 0090 B342     		cmp	r3, r6
 8200 0092 E0D9     		bls	.L631
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 8201              		.loc 1 3574 6 is_stmt 1 view .LVU2761
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 8202              		.loc 1 3574 12 is_stmt 0 view .LVU2762
 8203 0094 6FF07042 		mvn	r2, #-268435456
 8204 0098 D4F81412 		ldr	r1, [r4, #532]
 8205 009c FFF7FEFF 		bl	put_fat
 8206              	.LVL883:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8207              		.loc 1 3575 6 is_stmt 1 view .LVU2763
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8208              		.loc 1 3575 9 is_stmt 0 view .LVU2764
 8209 00a0 0546     		mov	r5, r0
 8210 00a2 0028     		cmp	r0, #0
 8211 00a4 D7D1     		bne	.L631
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8212              		.loc 1 3575 24 is_stmt 1 discriminator 1 view .LVU2765
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8213              		.loc 1 3575 30 is_stmt 0 discriminator 1 view .LVU2766
 8214 00a6 3146     		mov	r1, r6
 8215 00a8 D4F80002 		ldr	r0, [r4, #512]
 8216              	.LVL884:
ARM GAS  /tmp/cciFFPmJ.s 			page 263


3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8217              		.loc 1 3575 30 discriminator 1 view .LVU2767
 8218 00ac FFF7FEFF 		bl	remove_chain
 8219              	.LVL885:
 8220 00b0 0546     		mov	r5, r0
 8221              	.LVL886:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8222              		.loc 1 3575 30 discriminator 1 view .LVU2768
 8223 00b2 D0E7     		b	.L631
 8224              	.LVL887:
 8225              	.L641:
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8226              		.loc 1 3571 32 view .LVU2769
 8227 00b4 0125     		movs	r5, #1
 8228 00b6 E3E7     		b	.L632
 8229              	.LVL888:
 8230              	.L637:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8231              		.loc 1 3572 23 view .LVU2770
 8232 00b8 0225     		movs	r5, #2
 8233              	.LVL889:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8234              		.loc 1 3572 23 view .LVU2771
 8235 00ba CCE7     		b	.L631
 8236              	.LVL890:
 8237              	.L640:
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8238              		.loc 1 3580 5 is_stmt 1 view .LVU2772
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8239              		.loc 1 3580 22 is_stmt 0 view .LVU2773
 8240 00bc D4F80002 		ldr	r0, [r4, #512]
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8241              		.loc 1 3580 9 view .LVU2774
 8242 00c0 0123     		movs	r3, #1
 8243 00c2 D4F81822 		ldr	r2, [r4, #536]
 8244 00c6 2146     		mov	r1, r4
 8245 00c8 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 8246 00cc FFF7FEFF 		bl	disk_write
 8247              	.LVL891:
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8248              		.loc 1 3580 8 view .LVU2775
 8249 00d0 30B9     		cbnz	r0, .L638
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8250              		.loc 1 3583 6 is_stmt 1 view .LVU2776
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8251              		.loc 1 3583 15 is_stmt 0 view .LVU2777
 8252 00d2 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 8253 00d6 23F04003 		bic	r3, r3, #64
 8254 00da 84F80632 		strb	r3, [r4, #518]
 8255 00de C0E7     		b	.L629
 8256              	.L638:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 8257              		.loc 1 3581 10 view .LVU2778
 8258 00e0 0125     		movs	r5, #1
 8259              	.LVL892:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 8260              		.loc 1 3581 10 view .LVU2779
ARM GAS  /tmp/cciFFPmJ.s 			page 264


 8261 00e2 BFE7     		b	.L633
 8262              		.cfi_endproc
 8263              	.LFE111:
 8265              		.section	.text.f_unlink,"ax",%progbits
 8266              		.align	1
 8267              		.global	f_unlink
 8268              		.syntax unified
 8269              		.thumb
 8270              		.thumb_func
 8271              		.fpu softvfp
 8273              	f_unlink:
 8274              	.LVL893:
 8275              	.LFB112:
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8276              		.loc 1 3603 1 is_stmt 1 view -0
 8277              		.cfi_startproc
 8278              		@ args = 0, pretend = 0, frame = 1112
 8279              		@ frame_needed = 0, uses_anonymous_args = 0
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8280              		.loc 1 3603 1 is_stmt 0 view .LVU2781
 8281 0000 70B5     		push	{r4, r5, r6, lr}
 8282              	.LCFI88:
 8283              		.cfi_def_cfa_offset 16
 8284              		.cfi_offset 4, -16
 8285              		.cfi_offset 5, -12
 8286              		.cfi_offset 6, -8
 8287              		.cfi_offset 14, -4
 8288 0002 ADF58B6D 		sub	sp, sp, #1112
 8289              	.LCFI89:
 8290              		.cfi_def_cfa_offset 1128
 8291 0006 0190     		str	r0, [sp, #4]
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
 8292              		.loc 1 3604 2 is_stmt 1 view .LVU2782
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 8293              		.loc 1 3605 2 view .LVU2783
3606:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 8294              		.loc 1 3606 2 view .LVU2784
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8295              		.loc 1 3607 2 view .LVU2785
 8296              	.LVL894:
3608:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8297              		.loc 1 3608 2 view .LVU2786
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8298              		.loc 1 3612 2 view .LVU2787
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8299              		.loc 1 3612 8 is_stmt 0 view .LVU2788
 8300 0008 0122     		movs	r2, #1
 8301 000a 01A9     		add	r1, sp, #4
 8302 000c 0DF58760 		add	r0, sp, #1080
 8303              	.LVL895:
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8304              		.loc 1 3612 8 view .LVU2789
 8305 0010 FFF7FEFF 		bl	find_volume
 8306              	.LVL896:
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8307              		.loc 1 3613 2 is_stmt 1 view .LVU2790
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
ARM GAS  /tmp/cciFFPmJ.s 			page 265


 8308              		.loc 1 3613 5 is_stmt 0 view .LVU2791
 8309 0014 0446     		mov	r4, r0
 8310 0016 18B1     		cbz	r0, .L652
 8311              	.LVL897:
 8312              	.L643:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8313              		.loc 1 3656 13 is_stmt 1 view .LVU2792
3659:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8314              		.loc 1 3659 2 view .LVU2793
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8315              		.loc 1 3660 1 is_stmt 0 view .LVU2794
 8316 0018 2046     		mov	r0, r4
 8317 001a 0DF58B6D 		add	sp, sp, #1112
 8318              	.LCFI90:
 8319              		.cfi_remember_state
 8320              		.cfi_def_cfa_offset 16
 8321              		@ sp needed
 8322 001e 70BD     		pop	{r4, r5, r6, pc}
 8323              	.LVL898:
 8324              	.L652:
 8325              	.LCFI91:
 8326              		.cfi_restore_state
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 8327              		.loc 1 3614 3 is_stmt 1 view .LVU2795
 8328 0020 03AB     		add	r3, sp, #12
 8329 0022 CDF85034 		str	r3, [sp, #1104]
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8330              		.loc 1 3615 3 view .LVU2796
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8331              		.loc 1 3615 9 is_stmt 0 view .LVU2797
 8332 0026 0199     		ldr	r1, [sp, #4]
 8333 0028 8EA8     		add	r0, sp, #568
 8334              	.LVL899:
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8335              		.loc 1 3615 9 view .LVU2798
 8336 002a FFF7FEFF 		bl	follow_path
 8337              	.LVL900:
3616:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 8338              		.loc 1 3616 3 is_stmt 1 view .LVU2799
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8339              		.loc 1 3619 3 view .LVU2800
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8340              		.loc 1 3619 6 is_stmt 0 view .LVU2801
 8341 002e 0446     		mov	r4, r0
 8342 0030 20B9     		cbnz	r0, .L644
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8343              		.loc 1 3619 21 is_stmt 1 discriminator 1 view .LVU2802
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8344              		.loc 1 3619 27 is_stmt 0 discriminator 1 view .LVU2803
 8345 0032 0221     		movs	r1, #2
 8346 0034 8EA8     		add	r0, sp, #568
 8347              	.LVL901:
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8348              		.loc 1 3619 27 discriminator 1 view .LVU2804
 8349 0036 FFF7FEFF 		bl	chk_lock
 8350              	.LVL902:
 8351 003a 0446     		mov	r4, r0
ARM GAS  /tmp/cciFFPmJ.s 			page 266


 8352              	.LVL903:
 8353              	.L644:
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8354              		.loc 1 3621 3 is_stmt 1 view .LVU2805
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8355              		.loc 1 3621 6 is_stmt 0 view .LVU2806
 8356 003c 002C     		cmp	r4, #0
 8357 003e EBD1     		bne	.L643
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
 8358              		.loc 1 3622 4 is_stmt 1 view .LVU2807
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
 8359              		.loc 1 3622 8 is_stmt 0 view .LVU2808
 8360 0040 DDF84C14 		ldr	r1, [sp, #1100]
 8361              	.LVL904:
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 8362              		.loc 1 3623 4 is_stmt 1 view .LVU2809
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 8363              		.loc 1 3623 7 is_stmt 0 view .LVU2810
 8364 0044 11B3     		cbz	r1, .L648
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 8365              		.loc 1 3626 5 is_stmt 1 view .LVU2811
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 8366              		.loc 1 3626 12 is_stmt 0 view .LVU2812
 8367 0046 CD7A     		ldrb	r5, [r1, #11]	@ zero_extendqisi2
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 8368              		.loc 1 3626 8 view .LVU2813
 8369 0048 15F0010F 		tst	r5, #1
 8370 004c 21D1     		bne	.L649
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
 8371              		.loc 1 3629 4 is_stmt 1 view .LVU2814
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 8372              		.loc 1 3630 5 view .LVU2815
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 8373              		.loc 1 3630 13 is_stmt 0 view .LVU2816
 8374 004e DDF83804 		ldr	r0, [sp, #1080]
 8375 0052 FFF7FEFF 		bl	ld_clust
 8376              	.LVL905:
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 8377              		.loc 1 3631 5 is_stmt 1 view .LVU2817
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 8378              		.loc 1 3631 8 is_stmt 0 view .LVU2818
 8379 0056 0646     		mov	r6, r0
 8380 0058 E8B1     		cbz	r0, .L645
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 8381              		.loc 1 3631 15 discriminator 1 view .LVU2819
 8382 005a 15F0100F 		tst	r5, #16
 8383 005e 1AD0     		beq	.L645
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 8384              		.loc 1 3638 7 is_stmt 1 view .LVU2820
 8385 0060 4FF40872 		mov	r2, #544
 8386 0064 8EA9     		add	r1, sp, #568
 8387 0066 06A8     		add	r0, sp, #24
 8388              	.LVL906:
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 8389              		.loc 1 3638 7 is_stmt 0 view .LVU2821
 8390 0068 FFF7FEFF 		bl	mem_cpy
 8391              	.LVL907:
ARM GAS  /tmp/cciFFPmJ.s 			page 267


3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 8392              		.loc 1 3639 7 is_stmt 1 view .LVU2822
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 8393              		.loc 1 3639 18 is_stmt 0 view .LVU2823
 8394 006c 8896     		str	r6, [sp, #544]
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 8395              		.loc 1 3640 7 is_stmt 1 view .LVU2824
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 8396              		.loc 1 3640 13 is_stmt 0 view .LVU2825
 8397 006e 0221     		movs	r1, #2
 8398 0070 06A8     		add	r0, sp, #24
 8399 0072 FFF7FEFF 		bl	dir_sdi
 8400              	.LVL908:
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
 8401              		.loc 1 3641 7 is_stmt 1 view .LVU2826
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
 8402              		.loc 1 3641 10 is_stmt 0 view .LVU2827
 8403 0076 0446     		mov	r4, r0
 8404 0078 68B9     		cbnz	r0, .L645
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 8405              		.loc 1 3642 8 is_stmt 1 view .LVU2828
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 8406              		.loc 1 3642 14 is_stmt 0 view .LVU2829
 8407 007a 0021     		movs	r1, #0
 8408 007c 06A8     		add	r0, sp, #24
 8409              	.LVL909:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 8410              		.loc 1 3642 14 view .LVU2830
 8411 007e FFF7FEFF 		bl	dir_read
 8412              	.LVL910:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 8413              		.loc 1 3643 8 is_stmt 1 view .LVU2831
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 8414              		.loc 1 3643 11 is_stmt 0 view .LVU2832
 8415 0082 0446     		mov	r4, r0
 8416 0084 B8B1     		cbz	r0, .L650
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8417              		.loc 1 3644 8 is_stmt 1 view .LVU2833
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8418              		.loc 1 3644 11 is_stmt 0 view .LVU2834
 8419 0086 0428     		cmp	r0, #4
 8420 0088 05D1     		bne	.L645
 8421 008a 06E0     		b	.L646
 8422              	.LVL911:
 8423              	.L648:
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8424              		.loc 1 3607 8 view .LVU2835
 8425 008c 0026     		movs	r6, #0
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8426              		.loc 1 3624 9 view .LVU2836
 8427 008e 0624     		movs	r4, #6
 8428              	.LVL912:
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8429              		.loc 1 3624 9 view .LVU2837
 8430 0090 01E0     		b	.L645
 8431              	.LVL913:
 8432              	.L649:
ARM GAS  /tmp/cciFFPmJ.s 			page 268


3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8433              		.loc 1 3607 8 view .LVU2838
 8434 0092 0026     		movs	r6, #0
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8435              		.loc 1 3627 10 view .LVU2839
 8436 0094 0724     		movs	r4, #7
 8437              	.LVL914:
 8438              	.L645:
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
 8439              		.loc 1 3649 4 is_stmt 1 view .LVU2840
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
 8440              		.loc 1 3649 7 is_stmt 0 view .LVU2841
 8441 0096 002C     		cmp	r4, #0
 8442 0098 BED1     		bne	.L643
 8443              	.LVL915:
 8444              	.L646:
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
 8445              		.loc 1 3650 5 is_stmt 1 view .LVU2842
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
 8446              		.loc 1 3650 11 is_stmt 0 view .LVU2843
 8447 009a 8EA8     		add	r0, sp, #568
 8448 009c FFF7FEFF 		bl	dir_remove
 8449              	.LVL916:
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 8450              		.loc 1 3651 5 is_stmt 1 view .LVU2844
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 8451              		.loc 1 3651 8 is_stmt 0 view .LVU2845
 8452 00a0 0446     		mov	r4, r0
 8453 00a2 00B9     		cbnz	r0, .L647
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 8454              		.loc 1 3651 22 discriminator 1 view .LVU2846
 8455 00a4 4EB9     		cbnz	r6, .L653
 8456              	.LVL917:
 8457              	.L647:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8458              		.loc 1 3653 5 is_stmt 1 view .LVU2847
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8459              		.loc 1 3653 8 is_stmt 0 view .LVU2848
 8460 00a6 002C     		cmp	r4, #0
 8461 00a8 B6D1     		bne	.L643
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8462              		.loc 1 3653 23 is_stmt 1 discriminator 1 view .LVU2849
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8463              		.loc 1 3653 29 is_stmt 0 discriminator 1 view .LVU2850
 8464 00aa DDF83804 		ldr	r0, [sp, #1080]
 8465 00ae FFF7FEFF 		bl	sync_fs
 8466              	.LVL918:
 8467 00b2 0446     		mov	r4, r0
 8468              	.LVL919:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8469              		.loc 1 3653 29 discriminator 1 view .LVU2851
 8470 00b4 B0E7     		b	.L643
 8471              	.LVL920:
 8472              	.L650:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 8473              		.loc 1 3643 30 view .LVU2852
 8474 00b6 0724     		movs	r4, #7
ARM GAS  /tmp/cciFFPmJ.s 			page 269


 8475 00b8 EDE7     		b	.L645
 8476              	.LVL921:
 8477              	.L653:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8478              		.loc 1 3652 6 is_stmt 1 view .LVU2853
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8479              		.loc 1 3652 12 is_stmt 0 view .LVU2854
 8480 00ba 3146     		mov	r1, r6
 8481 00bc DDF83804 		ldr	r0, [sp, #1080]
 8482              	.LVL922:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8483              		.loc 1 3652 12 view .LVU2855
 8484 00c0 FFF7FEFF 		bl	remove_chain
 8485              	.LVL923:
 8486 00c4 0446     		mov	r4, r0
 8487              	.LVL924:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8488              		.loc 1 3652 12 view .LVU2856
 8489 00c6 EEE7     		b	.L647
 8490              		.cfi_endproc
 8491              	.LFE112:
 8493              		.section	.text.f_mkdir,"ax",%progbits
 8494              		.align	1
 8495              		.global	f_mkdir
 8496              		.syntax unified
 8497              		.thumb
 8498              		.thumb_func
 8499              		.fpu softvfp
 8501              	f_mkdir:
 8502              	.LVL925:
 8503              	.LFB113:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8504              		.loc 1 3672 1 is_stmt 1 view -0
 8505              		.cfi_startproc
 8506              		@ args = 0, pretend = 0, frame = 568
 8507              		@ frame_needed = 0, uses_anonymous_args = 0
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8508              		.loc 1 3672 1 is_stmt 0 view .LVU2858
 8509 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 8510              	.LCFI92:
 8511              		.cfi_def_cfa_offset 36
 8512              		.cfi_offset 4, -36
 8513              		.cfi_offset 5, -32
 8514              		.cfi_offset 6, -28
 8515              		.cfi_offset 7, -24
 8516              		.cfi_offset 8, -20
 8517              		.cfi_offset 9, -16
 8518              		.cfi_offset 10, -12
 8519              		.cfi_offset 11, -8
 8520              		.cfi_offset 14, -4
 8521 0004 ADF50F7D 		sub	sp, sp, #572
 8522              	.LCFI93:
 8523              		.cfi_def_cfa_offset 608
 8524 0008 0190     		str	r0, [sp, #4]
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 8525              		.loc 1 3673 2 is_stmt 1 view .LVU2859
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, n;
ARM GAS  /tmp/cciFFPmJ.s 			page 270


 8526              		.loc 1 3674 2 view .LVU2860
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
 8527              		.loc 1 3675 2 view .LVU2861
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8528              		.loc 1 3676 2 view .LVU2862
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8529              		.loc 1 3676 28 is_stmt 0 view .LVU2863
 8530 000a FFF7FEFF 		bl	get_fattime
 8531              	.LVL926:
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8532              		.loc 1 3676 28 view .LVU2864
 8533 000e 0546     		mov	r5, r0
 8534              	.LVL927:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8535              		.loc 1 3677 2 is_stmt 1 view .LVU2865
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8536              		.loc 1 3681 2 view .LVU2866
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8537              		.loc 1 3681 8 is_stmt 0 view .LVU2867
 8538 0010 0122     		movs	r2, #1
 8539 0012 01A9     		add	r1, sp, #4
 8540 0014 86A8     		add	r0, sp, #536
 8541              	.LVL928:
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8542              		.loc 1 3681 8 view .LVU2868
 8543 0016 FFF7FEFF 		bl	find_volume
 8544              	.LVL929:
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8545              		.loc 1 3682 2 is_stmt 1 view .LVU2869
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8546              		.loc 1 3682 5 is_stmt 0 view .LVU2870
 8547 001a 0446     		mov	r4, r0
 8548 001c 20B1     		cbz	r0, .L672
 8549              	.LVL930:
 8550              	.L655:
3730:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8551              		.loc 1 3730 13 is_stmt 1 view .LVU2871
3733:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8552              		.loc 1 3733 2 view .LVU2872
3734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8553              		.loc 1 3734 1 is_stmt 0 view .LVU2873
 8554 001e 2046     		mov	r0, r4
 8555 0020 0DF50F7D 		add	sp, sp, #572
 8556              	.LCFI94:
 8557              		.cfi_remember_state
 8558              		.cfi_def_cfa_offset 36
 8559              		@ sp needed
 8560 0024 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 8561              	.LVL931:
 8562              	.L672:
 8563              	.LCFI95:
 8564              		.cfi_restore_state
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 8565              		.loc 1 3683 3 is_stmt 1 view .LVU2874
 8566 0028 03AB     		add	r3, sp, #12
 8567 002a 8C93     		str	r3, [sp, #560]
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
ARM GAS  /tmp/cciFFPmJ.s 			page 271


 8568              		.loc 1 3684 3 view .LVU2875
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 8569              		.loc 1 3684 9 is_stmt 0 view .LVU2876
 8570 002c 0199     		ldr	r1, [sp, #4]
 8571 002e 06A8     		add	r0, sp, #24
 8572              	.LVL932:
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 8573              		.loc 1 3684 9 view .LVU2877
 8574 0030 FFF7FEFF 		bl	follow_path
 8575              	.LVL933:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 8576              		.loc 1 3685 3 is_stmt 1 view .LVU2878
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 8577              		.loc 1 3685 6 is_stmt 0 view .LVU2879
 8578 0034 0028     		cmp	r0, #0
 8579 0036 00F09A80 		beq	.L665
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 8580              		.loc 1 3686 3 is_stmt 1 view .LVU2880
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
 8581              		.loc 1 3688 3 view .LVU2881
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
 8582              		.loc 1 3688 6 is_stmt 0 view .LVU2882
 8583 003a 0428     		cmp	r0, #4
 8584 003c 01D0     		beq	.L673
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 8585              		.loc 1 3684 9 view .LVU2883
 8586 003e 0446     		mov	r4, r0
 8587 0040 EDE7     		b	.L655
 8588              	.L673:
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8589              		.loc 1 3689 4 is_stmt 1 view .LVU2884
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8590              		.loc 1 3689 10 is_stmt 0 view .LVU2885
 8591 0042 0021     		movs	r1, #0
 8592 0044 8698     		ldr	r0, [sp, #536]
 8593              	.LVL934:
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8594              		.loc 1 3689 10 view .LVU2886
 8595 0046 FFF7FEFF 		bl	create_chain
 8596              	.LVL935:
3690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 8597              		.loc 1 3690 4 is_stmt 1 view .LVU2887
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 8598              		.loc 1 3691 4 view .LVU2888
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 8599              		.loc 1 3691 7 is_stmt 0 view .LVU2889
 8600 004a 8146     		mov	r9, r0
 8601 004c 00B9     		cbnz	r0, .L656
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 8602              		.loc 1 3691 22 view .LVU2890
 8603 004e 0724     		movs	r4, #7
 8604              	.L656:
 8605              	.LVL936:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8606              		.loc 1 3692 4 is_stmt 1 view .LVU2891
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8607              		.loc 1 3692 7 is_stmt 0 view .LVU2892
ARM GAS  /tmp/cciFFPmJ.s 			page 272


 8608 0050 B9F1010F 		cmp	r9, #1
 8609 0054 0DD0     		beq	.L674
 8610              	.LVL937:
 8611              	.L657:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 8612              		.loc 1 3693 4 is_stmt 1 view .LVU2893
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 8613              		.loc 1 3693 7 is_stmt 0 view .LVU2894
 8614 0056 B9F1FF3F 		cmp	r9, #-1
 8615 005a 11D0     		beq	.L669
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
 8616              		.loc 1 3694 4 is_stmt 1 view .LVU2895
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
 8617              		.loc 1 3694 7 is_stmt 0 view .LVU2896
 8618 005c 5CB1     		cbz	r4, .L675
 8619              	.LVL938:
 8620              	.L658:
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 8621              		.loc 1 3696 4 is_stmt 1 view .LVU2897
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 8622              		.loc 1 3696 7 is_stmt 0 view .LVU2898
 8623 005e 8CB1     		cbz	r4, .L676
 8624              	.LVL939:
 8625              	.L659:
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8626              		.loc 1 3718 4 is_stmt 1 view .LVU2899
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8627              		.loc 1 3718 7 is_stmt 0 view .LVU2900
 8628 0060 002C     		cmp	r4, #0
 8629 0062 68D0     		beq	.L677
 8630              	.L663:
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
 8631              		.loc 1 3719 4 is_stmt 1 view .LVU2901
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
 8632              		.loc 1 3719 7 is_stmt 0 view .LVU2902
 8633 0064 002C     		cmp	r4, #0
 8634 0066 6BD0     		beq	.L664
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8635              		.loc 1 3720 5 is_stmt 1 view .LVU2903
 8636 0068 4946     		mov	r1, r9
 8637 006a 8698     		ldr	r0, [sp, #536]
 8638 006c FFF7FEFF 		bl	remove_chain
 8639              	.LVL940:
 8640 0070 D5E7     		b	.L655
 8641              	.LVL941:
 8642              	.L674:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8643              		.loc 1 3692 22 is_stmt 0 view .LVU2904
 8644 0072 0224     		movs	r4, #2
 8645              	.LVL942:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8646              		.loc 1 3692 22 view .LVU2905
 8647 0074 EFE7     		b	.L657
 8648              	.LVL943:
 8649              	.L675:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8650              		.loc 1 3695 5 is_stmt 1 view .LVU2906
ARM GAS  /tmp/cciFFPmJ.s 			page 273


3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8651              		.loc 1 3695 11 is_stmt 0 view .LVU2907
 8652 0076 8698     		ldr	r0, [sp, #536]
 8653              	.LVL944:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8654              		.loc 1 3695 11 view .LVU2908
 8655 0078 FFF7FEFF 		bl	sync_window
 8656              	.LVL945:
 8657 007c 0446     		mov	r4, r0
 8658              	.LVL946:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8659              		.loc 1 3695 11 view .LVU2909
 8660 007e EEE7     		b	.L658
 8661              	.LVL947:
 8662              	.L669:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 8663              		.loc 1 3693 31 view .LVU2910
 8664 0080 0124     		movs	r4, #1
 8665              	.LVL948:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 8666              		.loc 1 3693 31 view .LVU2911
 8667 0082 ECE7     		b	.L658
 8668              	.LVL949:
 8669              	.L676:
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 8670              		.loc 1 3697 5 is_stmt 1 view .LVU2912
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 8671              		.loc 1 3697 11 is_stmt 0 view .LVU2913
 8672 0084 869E     		ldr	r6, [sp, #536]
 8673 0086 4946     		mov	r1, r9
 8674 0088 3046     		mov	r0, r6
 8675 008a FFF7FEFF 		bl	clust2sect
 8676              	.LVL950:
 8677 008e 0746     		mov	r7, r0
 8678              	.LVL951:
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
 8679              		.loc 1 3698 5 is_stmt 1 view .LVU2914
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
 8680              		.loc 1 3698 9 is_stmt 0 view .LVU2915
 8681 0090 B246     		mov	r10, r6
 8682              	.LVL952:
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 8683              		.loc 1 3699 5 is_stmt 1 view .LVU2916
 8684 0092 4FF40072 		mov	r2, #512
 8685 0096 0021     		movs	r1, #0
 8686 0098 3046     		mov	r0, r6
 8687              	.LVL953:
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 8688              		.loc 1 3699 5 is_stmt 0 view .LVU2917
 8689 009a FFF7FEFF 		bl	mem_set
 8690              	.LVL954:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
 8691              		.loc 1 3700 5 is_stmt 1 view .LVU2918
 8692 009e 0B22     		movs	r2, #11
 8693 00a0 2021     		movs	r1, #32
 8694 00a2 3046     		mov	r0, r6
 8695 00a4 FFF7FEFF 		bl	mem_set
ARM GAS  /tmp/cciFFPmJ.s 			page 274


 8696              	.LVL955:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
 8697              		.loc 1 3701 5 view .LVU2919
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
 8698              		.loc 1 3701 19 is_stmt 0 view .LVU2920
 8699 00a8 4FF02E0B 		mov	fp, #46
 8700 00ac 86F800B0 		strb	fp, [r6]
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 8701              		.loc 1 3702 5 is_stmt 1 view .LVU2921
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 8702              		.loc 1 3702 19 is_stmt 0 view .LVU2922
 8703 00b0 1023     		movs	r3, #16
 8704 00b2 F372     		strb	r3, [r6, #11]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8705              		.loc 1 3703 5 is_stmt 1 view .LVU2923
 8706 00b4 B575     		strb	r5, [r6, #22]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8707              		.loc 1 3703 5 view .LVU2924
 8708 00b6 C5F30723 		ubfx	r3, r5, #8, #8
 8709 00ba F375     		strb	r3, [r6, #23]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8710              		.loc 1 3703 5 view .LVU2925
 8711 00bc C5F30743 		ubfx	r3, r5, #16, #8
 8712 00c0 3376     		strb	r3, [r6, #24]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8713              		.loc 1 3703 5 view .LVU2926
 8714 00c2 2B0E     		lsrs	r3, r5, #24
 8715 00c4 7376     		strb	r3, [r6, #25]
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
 8716              		.loc 1 3704 5 view .LVU2927
 8717 00c6 4946     		mov	r1, r9
 8718 00c8 3046     		mov	r0, r6
 8719 00ca FFF7FEFF 		bl	st_clust
 8720              	.LVL956:
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 8721              		.loc 1 3705 5 view .LVU2928
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 8722              		.loc 1 3705 17 is_stmt 0 view .LVU2929
 8723 00ce 06F12008 		add	r8, r6, #32
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 8724              		.loc 1 3705 5 view .LVU2930
 8725 00d2 2022     		movs	r2, #32
 8726 00d4 3146     		mov	r1, r6
 8727 00d6 4046     		mov	r0, r8
 8728 00d8 FFF7FEFF 		bl	mem_cpy
 8729              	.LVL957:
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8730              		.loc 1 3706 5 is_stmt 1 view .LVU2931
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8731              		.loc 1 3706 22 is_stmt 0 view .LVU2932
 8732 00dc 86F821B0 		strb	fp, [r6, #33]
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8733              		.loc 1 3706 29 is_stmt 1 view .LVU2933
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8734              		.loc 1 3706 33 is_stmt 0 view .LVU2934
 8735 00e0 8899     		ldr	r1, [sp, #544]
 8736              	.LVL958:
ARM GAS  /tmp/cciFFPmJ.s 			page 275


3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8737              		.loc 1 3707 5 is_stmt 1 view .LVU2935
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8738              		.loc 1 3707 11 is_stmt 0 view .LVU2936
 8739 00e2 869B     		ldr	r3, [sp, #536]
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8740              		.loc 1 3707 14 view .LVU2937
 8741 00e4 93F80022 		ldrb	r2, [r3, #512]	@ zero_extendqisi2
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8742              		.loc 1 3707 8 view .LVU2938
 8743 00e8 032A     		cmp	r2, #3
 8744 00ea 1ED0     		beq	.L678
 8745              	.LVL959:
 8746              	.L660:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
 8747              		.loc 1 3709 5 is_stmt 1 view .LVU2939
 8748 00ec 4046     		mov	r0, r8
 8749 00ee FFF7FEFF 		bl	st_clust
 8750              	.LVL960:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8751              		.loc 1 3710 5 view .LVU2940
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8752              		.loc 1 3710 16 is_stmt 0 view .LVU2941
 8753 00f2 869B     		ldr	r3, [sp, #536]
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8754              		.loc 1 3710 12 view .LVU2942
 8755 00f4 93F80262 		ldrb	r6, [r3, #514]	@ zero_extendqisi2
 8756              	.LVL961:
 8757              	.L661:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8758              		.loc 1 3710 28 is_stmt 1 discriminator 1 view .LVU2943
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8759              		.loc 1 3710 5 is_stmt 0 discriminator 1 view .LVU2944
 8760 00f8 002E     		cmp	r6, #0
 8761 00fa B1D0     		beq	.L659
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8762              		.loc 1 3711 6 is_stmt 1 view .LVU2945
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8763              		.loc 1 3711 26 is_stmt 0 view .LVU2946
 8764 00fc 07F10108 		add	r8, r7, #1
 8765              	.LVL962:
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8766              		.loc 1 3711 8 view .LVU2947
 8767 0100 8698     		ldr	r0, [sp, #536]
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8768              		.loc 1 3711 21 view .LVU2948
 8769 0102 C0F82C72 		str	r7, [r0, #556]
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
 8770              		.loc 1 3712 6 is_stmt 1 view .LVU2949
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
 8771              		.loc 1 3712 19 is_stmt 0 view .LVU2950
 8772 0106 0123     		movs	r3, #1
 8773 0108 80F80432 		strb	r3, [r0, #516]
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 8774              		.loc 1 3713 6 is_stmt 1 view .LVU2951
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 8775              		.loc 1 3713 12 is_stmt 0 view .LVU2952
ARM GAS  /tmp/cciFFPmJ.s 			page 276


 8776 010c FFF7FEFF 		bl	sync_window
 8777              	.LVL963:
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
 8778              		.loc 1 3714 6 is_stmt 1 view .LVU2953
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
 8779              		.loc 1 3714 9 is_stmt 0 view .LVU2954
 8780 0110 0446     		mov	r4, r0
 8781 0112 0028     		cmp	r0, #0
 8782 0114 A4D1     		bne	.L659
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8783              		.loc 1 3715 6 is_stmt 1 discriminator 2 view .LVU2955
 8784 0116 4FF40072 		mov	r2, #512
 8785 011a 0021     		movs	r1, #0
 8786 011c 5046     		mov	r0, r10
 8787              	.LVL964:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8788              		.loc 1 3715 6 is_stmt 0 discriminator 2 view .LVU2956
 8789 011e FFF7FEFF 		bl	mem_set
 8790              	.LVL965:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8791              		.loc 1 3710 31 is_stmt 1 discriminator 2 view .LVU2957
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8792              		.loc 1 3710 32 is_stmt 0 discriminator 2 view .LVU2958
 8793 0122 013E     		subs	r6, r6, #1
 8794              	.LVL966:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8795              		.loc 1 3710 32 discriminator 2 view .LVU2959
 8796 0124 F6B2     		uxtb	r6, r6
 8797              	.LVL967:
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8798              		.loc 1 3711 26 discriminator 2 view .LVU2960
 8799 0126 4746     		mov	r7, r8
 8800 0128 E6E7     		b	.L661
 8801              	.LVL968:
 8802              	.L678:
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8803              		.loc 1 3707 51 discriminator 1 view .LVU2961
 8804 012a D3F82432 		ldr	r3, [r3, #548]
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8805              		.loc 1 3707 36 discriminator 1 view .LVU2962
 8806 012e 8B42     		cmp	r3, r1
 8807 0130 DCD1     		bne	.L660
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
 8808              		.loc 1 3708 10 view .LVU2963
 8809 0132 0021     		movs	r1, #0
 8810              	.LVL969:
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
 8811              		.loc 1 3708 10 view .LVU2964
 8812 0134 DAE7     		b	.L660
 8813              	.LVL970:
 8814              	.L677:
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8815              		.loc 1 3718 22 is_stmt 1 discriminator 1 view .LVU2965
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8816              		.loc 1 3718 28 is_stmt 0 discriminator 1 view .LVU2966
 8817 0136 06A8     		add	r0, sp, #24
 8818 0138 FFF7FEFF 		bl	dir_register
ARM GAS  /tmp/cciFFPmJ.s 			page 277


 8819              	.LVL971:
 8820 013c 0446     		mov	r4, r0
 8821              	.LVL972:
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8822              		.loc 1 3718 28 discriminator 1 view .LVU2967
 8823 013e 91E7     		b	.L663
 8824              	.L664:
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 8825              		.loc 1 3722 5 is_stmt 1 view .LVU2968
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 8826              		.loc 1 3722 9 is_stmt 0 view .LVU2969
 8827 0140 8B98     		ldr	r0, [sp, #556]
 8828              	.LVL973:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
 8829              		.loc 1 3723 5 is_stmt 1 view .LVU2970
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
 8830              		.loc 1 3723 19 is_stmt 0 view .LVU2971
 8831 0142 1023     		movs	r3, #16
 8832 0144 C372     		strb	r3, [r0, #11]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 8833              		.loc 1 3724 5 is_stmt 1 view .LVU2972
 8834 0146 8575     		strb	r5, [r0, #22]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 8835              		.loc 1 3724 5 view .LVU2973
 8836 0148 C5F30723 		ubfx	r3, r5, #8, #8
 8837 014c C375     		strb	r3, [r0, #23]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 8838              		.loc 1 3724 5 view .LVU2974
 8839 014e C5F30743 		ubfx	r3, r5, #16, #8
 8840 0152 0376     		strb	r3, [r0, #24]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 8841              		.loc 1 3724 5 view .LVU2975
 8842 0154 2D0E     		lsrs	r5, r5, #24
 8843              	.LVL974:
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 8844              		.loc 1 3724 5 is_stmt 0 view .LVU2976
 8845 0156 4576     		strb	r5, [r0, #25]
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 8846              		.loc 1 3725 5 is_stmt 1 view .LVU2977
 8847 0158 4946     		mov	r1, r9
 8848 015a FFF7FEFF 		bl	st_clust
 8849              	.LVL975:
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8850              		.loc 1 3726 5 view .LVU2978
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8851              		.loc 1 3726 7 is_stmt 0 view .LVU2979
 8852 015e 8698     		ldr	r0, [sp, #536]
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8853              		.loc 1 3726 18 view .LVU2980
 8854 0160 0123     		movs	r3, #1
 8855 0162 80F80432 		strb	r3, [r0, #516]
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8856              		.loc 1 3727 5 is_stmt 1 view .LVU2981
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8857              		.loc 1 3727 11 is_stmt 0 view .LVU2982
 8858 0166 FFF7FEFF 		bl	sync_fs
 8859              	.LVL976:
ARM GAS  /tmp/cciFFPmJ.s 			page 278


 8860 016a 0446     		mov	r4, r0
 8861              	.LVL977:
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8862              		.loc 1 3727 11 view .LVU2983
 8863 016c 57E7     		b	.L655
 8864              	.LVL978:
 8865              	.L665:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 8866              		.loc 1 3685 25 view .LVU2984
 8867 016e 0824     		movs	r4, #8
 8868 0170 55E7     		b	.L655
 8869              		.cfi_endproc
 8870              	.LFE113:
 8872              		.section	.text.f_chmod,"ax",%progbits
 8873              		.align	1
 8874              		.global	f_chmod
 8875              		.syntax unified
 8876              		.thumb
 8877              		.thumb_func
 8878              		.fpu softvfp
 8880              	f_chmod:
 8881              	.LVL979:
 8882              	.LFB114:
3748:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8883              		.loc 1 3748 1 is_stmt 1 view -0
 8884              		.cfi_startproc
 8885              		@ args = 0, pretend = 0, frame = 568
 8886              		@ frame_needed = 0, uses_anonymous_args = 0
3748:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8887              		.loc 1 3748 1 is_stmt 0 view .LVU2986
 8888 0000 30B5     		push	{r4, r5, lr}
 8889              	.LCFI96:
 8890              		.cfi_def_cfa_offset 12
 8891              		.cfi_offset 4, -12
 8892              		.cfi_offset 5, -8
 8893              		.cfi_offset 14, -4
 8894 0002 ADF50F7D 		sub	sp, sp, #572
 8895              	.LCFI97:
 8896              		.cfi_def_cfa_offset 584
 8897 0006 0190     		str	r0, [sp, #4]
 8898 0008 0D46     		mov	r5, r1
 8899 000a 1446     		mov	r4, r2
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 8900              		.loc 1 3749 2 is_stmt 1 view .LVU2987
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 8901              		.loc 1 3750 2 view .LVU2988
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8902              		.loc 1 3751 2 view .LVU2989
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8903              		.loc 1 3752 2 view .LVU2990
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8904              		.loc 1 3756 2 view .LVU2991
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8905              		.loc 1 3756 8 is_stmt 0 view .LVU2992
 8906 000c 0122     		movs	r2, #1
 8907              	.LVL980:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  /tmp/cciFFPmJ.s 			page 279


 8908              		.loc 1 3756 8 view .LVU2993
 8909 000e 01A9     		add	r1, sp, #4
 8910              	.LVL981:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8911              		.loc 1 3756 8 view .LVU2994
 8912 0010 86A8     		add	r0, sp, #536
 8913              	.LVL982:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8914              		.loc 1 3756 8 view .LVU2995
 8915 0012 FFF7FEFF 		bl	find_volume
 8916              	.LVL983:
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8917              		.loc 1 3757 2 is_stmt 1 view .LVU2996
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8918              		.loc 1 3757 5 is_stmt 0 view .LVU2997
 8919 0016 10B1     		cbz	r0, .L683
 8920              	.LVL984:
 8921              	.L680:
3776:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8922              		.loc 1 3776 2 is_stmt 1 view .LVU2998
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8923              		.loc 1 3777 1 is_stmt 0 view .LVU2999
 8924 0018 0DF50F7D 		add	sp, sp, #572
 8925              	.LCFI98:
 8926              		.cfi_remember_state
 8927              		.cfi_def_cfa_offset 12
 8928              		@ sp needed
 8929 001c 30BD     		pop	{r4, r5, pc}
 8930              	.LVL985:
 8931              	.L683:
 8932              	.LCFI99:
 8933              		.cfi_restore_state
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 8934              		.loc 1 3758 3 is_stmt 1 view .LVU3000
 8935 001e 03AB     		add	r3, sp, #12
 8936 0020 8C93     		str	r3, [sp, #560]
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 8937              		.loc 1 3759 3 view .LVU3001
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 8938              		.loc 1 3759 9 is_stmt 0 view .LVU3002
 8939 0022 0199     		ldr	r1, [sp, #4]
 8940 0024 06A8     		add	r0, sp, #24
 8941 0026 FFF7FEFF 		bl	follow_path
 8942              	.LVL986:
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8943              		.loc 1 3760 13 is_stmt 1 view .LVU3003
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 8944              		.loc 1 3761 3 view .LVU3004
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8945              		.loc 1 3763 3 view .LVU3005
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8946              		.loc 1 3763 6 is_stmt 0 view .LVU3006
 8947 002a 0028     		cmp	r0, #0
 8948 002c F4D1     		bne	.L680
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
 8949              		.loc 1 3764 4 is_stmt 1 view .LVU3007
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
ARM GAS  /tmp/cciFFPmJ.s 			page 280


 8950              		.loc 1 3764 8 is_stmt 0 view .LVU3008
 8951 002e 8B9B     		ldr	r3, [sp, #556]
 8952              	.LVL987:
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 8953              		.loc 1 3765 4 is_stmt 1 view .LVU3009
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 8954              		.loc 1 3765 7 is_stmt 0 view .LVU3010
 8955 0030 73B1     		cbz	r3, .L681
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 8956              		.loc 1 3768 5 is_stmt 1 view .LVU3011
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 8957              		.loc 1 3768 10 is_stmt 0 view .LVU3012
 8958 0032 04F02702 		and	r2, r4, #39
 8959              	.LVL988:
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 8960              		.loc 1 3769 5 is_stmt 1 view .LVU3013
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 8961              		.loc 1 3769 41 is_stmt 0 view .LVU3014
 8962 0036 DC7A     		ldrb	r4, [r3, #11]	@ zero_extendqisi2
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 8963              		.loc 1 3769 19 view .LVU3015
 8964 0038 84EA0501 		eor	r1, r4, r5
 8965 003c 0A40     		ands	r2, r2, r1
 8966              	.LVL989:
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 8967              		.loc 1 3769 19 view .LVU3016
 8968 003e 6240     		eors	r2, r2, r4
 8969 0040 DA72     		strb	r2, [r3, #11]
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8970              		.loc 1 3770 5 is_stmt 1 view .LVU3017
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8971              		.loc 1 3770 7 is_stmt 0 view .LVU3018
 8972 0042 8698     		ldr	r0, [sp, #536]
 8973              	.LVL990:
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8974              		.loc 1 3770 18 view .LVU3019
 8975 0044 0123     		movs	r3, #1
 8976              	.LVL991:
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8977              		.loc 1 3770 18 view .LVU3020
 8978 0046 80F80432 		strb	r3, [r0, #516]
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8979              		.loc 1 3771 5 is_stmt 1 view .LVU3021
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8980              		.loc 1 3771 11 is_stmt 0 view .LVU3022
 8981 004a FFF7FEFF 		bl	sync_fs
 8982              	.LVL992:
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8983              		.loc 1 3771 11 view .LVU3023
 8984 004e E3E7     		b	.L680
 8985              	.LVL993:
 8986              	.L681:
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
 8987              		.loc 1 3766 9 view .LVU3024
 8988 0050 0620     		movs	r0, #6
 8989              	.LVL994:
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
ARM GAS  /tmp/cciFFPmJ.s 			page 281


 8990              		.loc 1 3766 9 view .LVU3025
 8991 0052 E1E7     		b	.L680
 8992              		.cfi_endproc
 8993              	.LFE114:
 8995              		.section	.text.f_rename,"ax",%progbits
 8996              		.align	1
 8997              		.global	f_rename
 8998              		.syntax unified
 8999              		.thumb
 9000              		.thumb_func
 9001              		.fpu softvfp
 9003              	f_rename:
 9004              	.LVL995:
 9005              	.LFB115:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9006              		.loc 1 3790 1 is_stmt 1 view -0
 9007              		.cfi_startproc
 9008              		@ args = 0, pretend = 0, frame = 1136
 9009              		@ frame_needed = 0, uses_anonymous_args = 0
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9010              		.loc 1 3790 1 is_stmt 0 view .LVU3027
 9011 0000 70B5     		push	{r4, r5, r6, lr}
 9012              	.LCFI100:
 9013              		.cfi_def_cfa_offset 16
 9014              		.cfi_offset 4, -16
 9015              		.cfi_offset 5, -12
 9016              		.cfi_offset 6, -8
 9017              		.cfi_offset 14, -4
 9018 0002 ADF58E6D 		sub	sp, sp, #1136
 9019              	.LCFI101:
 9020              		.cfi_def_cfa_offset 1152
 9021 0006 0190     		str	r0, [sp, #4]
 9022 0008 0091     		str	r1, [sp]
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
 9023              		.loc 1 3791 2 is_stmt 1 view .LVU3028
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[21], *dir;
 9024              		.loc 1 3792 2 view .LVU3029
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
 9025              		.loc 1 3793 2 view .LVU3030
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9026              		.loc 1 3794 2 view .LVU3031
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9027              		.loc 1 3795 2 view .LVU3032
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9028              		.loc 1 3799 2 view .LVU3033
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9029              		.loc 1 3799 8 is_stmt 0 view .LVU3034
 9030 000a 0122     		movs	r2, #1
 9031 000c 01A9     		add	r1, sp, #4
 9032              	.LVL996:
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9033              		.loc 1 3799 8 view .LVU3035
 9034 000e 0DF58A60 		add	r0, sp, #1104
 9035              	.LVL997:
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9036              		.loc 1 3799 8 view .LVU3036
 9037 0012 FFF7FEFF 		bl	find_volume
ARM GAS  /tmp/cciFFPmJ.s 			page 282


 9038              	.LVL998:
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
 9039              		.loc 1 3800 2 is_stmt 1 view .LVU3037
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
 9040              		.loc 1 3800 5 is_stmt 0 view .LVU3038
 9041 0016 0446     		mov	r4, r0
 9042 0018 18B1     		cbz	r0, .L694
 9043              	.LVL999:
 9044              	.L685:
3851:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9045              		.loc 1 3851 13 is_stmt 1 view .LVU3039
3854:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9046              		.loc 1 3854 2 view .LVU3040
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9047              		.loc 1 3855 1 is_stmt 0 view .LVU3041
 9048 001a 2046     		mov	r0, r4
 9049 001c 0DF58E6D 		add	sp, sp, #1136
 9050              	.LCFI102:
 9051              		.cfi_remember_state
 9052              		.cfi_def_cfa_offset 16
 9053              		@ sp needed
 9054 0020 70BD     		pop	{r4, r5, r6, pc}
 9055              	.LVL1000:
 9056              	.L694:
 9057              	.LCFI103:
 9058              		.cfi_restore_state
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9059              		.loc 1 3801 3 is_stmt 1 view .LVU3042
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9060              		.loc 1 3801 15 is_stmt 0 view .LVU3043
 9061 0022 DDF85034 		ldr	r3, [sp, #1104]
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9062              		.loc 1 3801 10 view .LVU3044
 9063 0026 8C93     		str	r3, [sp, #560]
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 9064              		.loc 1 3802 3 is_stmt 1 view .LVU3045
 9065 0028 03AB     		add	r3, sp, #12
 9066 002a CDF86834 		str	r3, [sp, #1128]
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9067              		.loc 1 3803 3 view .LVU3046
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9068              		.loc 1 3803 9 is_stmt 0 view .LVU3047
 9069 002e 0199     		ldr	r1, [sp, #4]
 9070 0030 94A8     		add	r0, sp, #592
 9071              	.LVL1001:
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9072              		.loc 1 3803 9 view .LVU3048
 9073 0032 FFF7FEFF 		bl	follow_path
 9074              	.LVL1002:
3804:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9075              		.loc 1 3804 3 is_stmt 1 view .LVU3049
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9076              		.loc 1 3807 3 view .LVU3050
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9077              		.loc 1 3807 6 is_stmt 0 view .LVU3051
 9078 0036 0446     		mov	r4, r0
 9079 0038 20B9     		cbnz	r0, .L686
ARM GAS  /tmp/cciFFPmJ.s 			page 283


3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9080              		.loc 1 3807 21 is_stmt 1 discriminator 1 view .LVU3052
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9081              		.loc 1 3807 27 is_stmt 0 discriminator 1 view .LVU3053
 9082 003a 0221     		movs	r1, #2
 9083 003c 94A8     		add	r0, sp, #592
 9084              	.LVL1003:
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9085              		.loc 1 3807 27 discriminator 1 view .LVU3054
 9086 003e FFF7FEFF 		bl	chk_lock
 9087              	.LVL1004:
 9088 0042 0446     		mov	r4, r0
 9089              	.LVL1005:
 9090              	.L686:
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
 9091              		.loc 1 3809 3 is_stmt 1 view .LVU3055
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
 9092              		.loc 1 3809 6 is_stmt 0 view .LVU3056
 9093 0044 002C     		cmp	r4, #0
 9094 0046 E8D1     		bne	.L685
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9095              		.loc 1 3810 4 is_stmt 1 view .LVU3057
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9096              		.loc 1 3810 12 is_stmt 0 view .LVU3058
 9097 0048 DDF86414 		ldr	r1, [sp, #1124]
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9098              		.loc 1 3810 7 view .LVU3059
 9099 004c 0029     		cmp	r1, #0
 9100 004e 6DD0     		beq	.L689
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 9101              		.loc 1 3813 5 is_stmt 1 view .LVU3060
 9102 0050 1522     		movs	r2, #21
 9103 0052 0B31     		adds	r1, r1, #11
 9104 0054 06A8     		add	r0, sp, #24
 9105 0056 FFF7FEFF 		bl	mem_cpy
 9106              	.LVL1006:
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
 9107              		.loc 1 3814 5 view .LVU3061
 9108 005a 4FF40872 		mov	r2, #544
 9109 005e 94A9     		add	r1, sp, #592
 9110 0060 0CA8     		add	r0, sp, #48
 9111 0062 FFF7FEFF 		bl	mem_cpy
 9112              	.LVL1007:
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9113              		.loc 1 3815 5 view .LVU3062
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9114              		.loc 1 3815 9 is_stmt 0 view .LVU3063
 9115 0066 6846     		mov	r0, sp
 9116 0068 FFF7FEFF 		bl	get_ldnumber
 9117              	.LVL1008:
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9118              		.loc 1 3815 8 view .LVU3064
 9119 006c 0028     		cmp	r0, #0
 9120 006e 2FDA     		bge	.L695
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
 9121              		.loc 1 3818 10 view .LVU3065
 9122 0070 0B24     		movs	r4, #11
ARM GAS  /tmp/cciFFPmJ.s 			page 284


 9123              	.LVL1009:
 9124              	.L687:
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9125              		.loc 1 3820 5 is_stmt 1 view .LVU3066
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9126              		.loc 1 3820 8 is_stmt 0 view .LVU3067
 9127 0072 042C     		cmp	r4, #4
 9128 0074 D1D1     		bne	.L685
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9129              		.loc 1 3821 6 is_stmt 1 view .LVU3068
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9130              		.loc 1 3821 12 is_stmt 0 view .LVU3069
 9131 0076 0CA8     		add	r0, sp, #48
 9132 0078 FFF7FEFF 		bl	dir_register
 9133              	.LVL1010:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
 9134              		.loc 1 3822 6 is_stmt 1 view .LVU3070
3822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
 9135              		.loc 1 3822 9 is_stmt 0 view .LVU3071
 9136 007c 0446     		mov	r4, r0
 9137 007e 0028     		cmp	r0, #0
 9138 0080 CBD1     		bne	.L685
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9139              		.loc 1 3824 7 is_stmt 1 view .LVU3072
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9140              		.loc 1 3824 11 is_stmt 0 view .LVU3073
 9141 0082 919D     		ldr	r5, [sp, #580]
 9142              	.LVL1011:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9143              		.loc 1 3825 7 is_stmt 1 view .LVU3074
 9144 0084 1322     		movs	r2, #19
 9145 0086 0DF11A01 		add	r1, sp, #26
 9146 008a 05F10D00 		add	r0, r5, #13
 9147              	.LVL1012:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9148              		.loc 1 3825 7 is_stmt 0 view .LVU3075
 9149 008e FFF7FEFF 		bl	mem_cpy
 9150              	.LVL1013:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9151              		.loc 1 3826 7 is_stmt 1 view .LVU3076
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9152              		.loc 1 3826 26 is_stmt 0 view .LVU3077
 9153 0092 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9154              		.loc 1 3826 21 view .LVU3078
 9155 0096 43F02003 		orr	r3, r3, #32
 9156 009a EB72     		strb	r3, [r5, #11]
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9157              		.loc 1 3827 7 is_stmt 1 view .LVU3079
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9158              		.loc 1 3827 10 is_stmt 0 view .LVU3080
 9159 009c DDF85064 		ldr	r6, [sp, #1104]
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9160              		.loc 1 3827 21 view .LVU3081
 9161 00a0 0123     		movs	r3, #1
 9162 00a2 86F80432 		strb	r3, [r6, #516]
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
ARM GAS  /tmp/cciFFPmJ.s 			page 285


 9163              		.loc 1 3828 7 is_stmt 1 view .LVU3082
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9164              		.loc 1 3828 15 is_stmt 0 view .LVU3083
 9165 00a6 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9166              		.loc 1 3828 10 view .LVU3084
 9167 00a8 13F0100F 		tst	r3, #16
 9168 00ac 27D0     		beq	.L688
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9169              		.loc 1 3828 56 discriminator 1 view .LVU3085
 9170 00ae 8E9B     		ldr	r3, [sp, #568]
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9171              		.loc 1 3828 36 discriminator 1 view .LVU3086
 9172 00b0 DDF85824 		ldr	r2, [sp, #1112]
 9173 00b4 9A42     		cmp	r2, r3
 9174 00b6 22D0     		beq	.L688
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9175              		.loc 1 3829 8 is_stmt 1 view .LVU3087
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9176              		.loc 1 3829 13 is_stmt 0 view .LVU3088
 9177 00b8 2946     		mov	r1, r5
 9178 00ba 3046     		mov	r0, r6
 9179 00bc FFF7FEFF 		bl	ld_clust
 9180              	.LVL1014:
 9181 00c0 0146     		mov	r1, r0
 9182 00c2 3046     		mov	r0, r6
 9183 00c4 FFF7FEFF 		bl	clust2sect
 9184              	.LVL1015:
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 9185              		.loc 1 3830 8 is_stmt 1 view .LVU3089
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 9186              		.loc 1 3830 11 is_stmt 0 view .LVU3090
 9187 00c8 0146     		mov	r1, r0
 9188 00ca 50B9     		cbnz	r0, .L696
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 9189              		.loc 1 3831 13 view .LVU3091
 9190 00cc 0224     		movs	r4, #2
 9191 00ce A4E7     		b	.L685
 9192              	.LVL1016:
 9193              	.L695:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 9194              		.loc 1 3816 6 is_stmt 1 view .LVU3092
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 9195              		.loc 1 3816 12 is_stmt 0 view .LVU3093
 9196 00d0 0099     		ldr	r1, [sp]
 9197 00d2 0CA8     		add	r0, sp, #48
 9198 00d4 FFF7FEFF 		bl	follow_path
 9199              	.LVL1017:
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9200              		.loc 1 3819 5 is_stmt 1 view .LVU3094
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9201              		.loc 1 3819 8 is_stmt 0 view .LVU3095
 9202 00d8 0446     		mov	r4, r0
 9203 00da 0028     		cmp	r0, #0
 9204 00dc C9D1     		bne	.L687
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9205              		.loc 1 3819 27 view .LVU3096
ARM GAS  /tmp/cciFFPmJ.s 			page 286


 9206 00de 0824     		movs	r4, #8
 9207 00e0 9BE7     		b	.L685
 9208              	.LVL1018:
 9209              	.L696:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9210              		.loc 1 3833 9 is_stmt 1 view .LVU3097
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9211              		.loc 1 3833 15 is_stmt 0 view .LVU3098
 9212 00e2 3046     		mov	r0, r6
 9213              	.LVL1019:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9214              		.loc 1 3833 15 view .LVU3099
 9215 00e4 FFF7FEFF 		bl	move_window
 9216              	.LVL1020:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9217              		.loc 1 3833 15 view .LVU3100
 9218 00e8 0246     		mov	r2, r0
 9219              	.LVL1021:
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9220              		.loc 1 3834 9 is_stmt 1 view .LVU3101
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9221              		.loc 1 3834 18 is_stmt 0 view .LVU3102
 9222 00ea DDF85034 		ldr	r3, [sp, #1104]
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9223              		.loc 1 3834 13 view .LVU3103
 9224 00ee 03F12000 		add	r0, r3, #32
 9225              	.LVL1022:
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9226              		.loc 1 3835 9 is_stmt 1 view .LVU3104
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9227              		.loc 1 3835 12 is_stmt 0 view .LVU3105
 9228 00f2 1446     		mov	r4, r2
 9229 00f4 1AB9     		cbnz	r2, .L688
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9230              		.loc 1 3835 32 discriminator 1 view .LVU3106
 9231 00f6 93F82130 		ldrb	r3, [r3, #33]	@ zero_extendqisi2
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9232              		.loc 1 3835 26 discriminator 1 view .LVU3107
 9233 00fa 2E2B     		cmp	r3, #46
 9234 00fc 0DD0     		beq	.L697
 9235              	.LVL1023:
 9236              	.L688:
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
 9237              		.loc 1 3841 7 is_stmt 1 view .LVU3108
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
 9238              		.loc 1 3841 10 is_stmt 0 view .LVU3109
 9239 00fe 002C     		cmp	r4, #0
 9240 0100 8BD1     		bne	.L685
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
 9241              		.loc 1 3842 8 is_stmt 1 view .LVU3110
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
 9242              		.loc 1 3842 14 is_stmt 0 view .LVU3111
 9243 0102 94A8     		add	r0, sp, #592
 9244 0104 FFF7FEFF 		bl	dir_remove
 9245              	.LVL1024:
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
 9246              		.loc 1 3843 8 is_stmt 1 view .LVU3112
ARM GAS  /tmp/cciFFPmJ.s 			page 287


3843:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
 9247              		.loc 1 3843 11 is_stmt 0 view .LVU3113
 9248 0108 0446     		mov	r4, r0
 9249 010a 0028     		cmp	r0, #0
 9250 010c 85D1     		bne	.L685
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9251              		.loc 1 3844 9 is_stmt 1 view .LVU3114
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9252              		.loc 1 3844 15 is_stmt 0 view .LVU3115
 9253 010e DDF85004 		ldr	r0, [sp, #1104]
 9254              	.LVL1025:
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9255              		.loc 1 3844 15 view .LVU3116
 9256 0112 FFF7FEFF 		bl	sync_fs
 9257              	.LVL1026:
 9258 0116 0446     		mov	r4, r0
 9259              	.LVL1027:
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9260              		.loc 1 3844 15 view .LVU3117
 9261 0118 7FE7     		b	.L685
 9262              	.LVL1028:
 9263              	.L697:
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
 9264              		.loc 1 3836 10 is_stmt 1 view .LVU3118
 9265 011a 8E99     		ldr	r1, [sp, #568]
 9266 011c FFF7FEFF 		bl	st_clust
 9267              	.LVL1029:
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 9268              		.loc 1 3837 10 view .LVU3119
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 9269              		.loc 1 3837 24 is_stmt 0 view .LVU3120
 9270 0120 DDF85034 		ldr	r3, [sp, #1104]
 9271 0124 0122     		movs	r2, #1
 9272 0126 83F80422 		strb	r2, [r3, #516]
 9273 012a E8E7     		b	.L688
 9274              	.LVL1030:
 9275              	.L689:
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9276              		.loc 1 3811 9 view .LVU3121
 9277 012c 0424     		movs	r4, #4
 9278              	.LVL1031:
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9279              		.loc 1 3811 9 view .LVU3122
 9280 012e 74E7     		b	.L685
 9281              		.cfi_endproc
 9282              	.LFE115:
 9284              		.section	.text.f_utime,"ax",%progbits
 9285              		.align	1
 9286              		.global	f_utime
 9287              		.syntax unified
 9288              		.thumb
 9289              		.thumb_func
 9290              		.fpu softvfp
 9292              	f_utime:
 9293              	.LVL1032:
 9294              	.LFB116:
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/cciFFPmJ.s 			page 288


 9295              		.loc 1 3868 1 is_stmt 1 view -0
 9296              		.cfi_startproc
 9297              		@ args = 0, pretend = 0, frame = 568
 9298              		@ frame_needed = 0, uses_anonymous_args = 0
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9299              		.loc 1 3868 1 is_stmt 0 view .LVU3124
 9300 0000 10B5     		push	{r4, lr}
 9301              	.LCFI104:
 9302              		.cfi_def_cfa_offset 8
 9303              		.cfi_offset 4, -8
 9304              		.cfi_offset 14, -4
 9305 0002 ADF50E7D 		sub	sp, sp, #568
 9306              	.LCFI105:
 9307              		.cfi_def_cfa_offset 576
 9308 0006 0190     		str	r0, [sp, #4]
 9309 0008 0C46     		mov	r4, r1
3869:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 9310              		.loc 1 3869 2 is_stmt 1 view .LVU3125
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 9311              		.loc 1 3870 2 view .LVU3126
3871:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9312              		.loc 1 3871 2 view .LVU3127
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9313              		.loc 1 3872 2 view .LVU3128
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9314              		.loc 1 3876 2 view .LVU3129
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9315              		.loc 1 3876 8 is_stmt 0 view .LVU3130
 9316 000a 0122     		movs	r2, #1
 9317 000c 01A9     		add	r1, sp, #4
 9318              	.LVL1033:
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9319              		.loc 1 3876 8 view .LVU3131
 9320 000e 86A8     		add	r0, sp, #536
 9321              	.LVL1034:
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9322              		.loc 1 3876 8 view .LVU3132
 9323 0010 FFF7FEFF 		bl	find_volume
 9324              	.LVL1035:
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9325              		.loc 1 3877 2 is_stmt 1 view .LVU3133
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9326              		.loc 1 3877 5 is_stmt 0 view .LVU3134
 9327 0014 10B1     		cbz	r0, .L702
 9328              	.L699:
 9329              	.LVL1036:
3896:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9330              		.loc 1 3896 2 is_stmt 1 view .LVU3135
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9331              		.loc 1 3897 1 is_stmt 0 view .LVU3136
 9332 0016 0DF50E7D 		add	sp, sp, #568
 9333              	.LCFI106:
 9334              		.cfi_remember_state
 9335              		.cfi_def_cfa_offset 8
 9336              		@ sp needed
 9337 001a 10BD     		pop	{r4, pc}
 9338              	.LVL1037:
ARM GAS  /tmp/cciFFPmJ.s 			page 289


 9339              	.L702:
 9340              	.LCFI107:
 9341              		.cfi_restore_state
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 9342              		.loc 1 3878 3 is_stmt 1 view .LVU3137
 9343 001c 03AB     		add	r3, sp, #12
 9344 001e 8C93     		str	r3, [sp, #560]
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9345              		.loc 1 3879 3 view .LVU3138
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9346              		.loc 1 3879 9 is_stmt 0 view .LVU3139
 9347 0020 0199     		ldr	r1, [sp, #4]
 9348 0022 06A8     		add	r0, sp, #24
 9349 0024 FFF7FEFF 		bl	follow_path
 9350              	.LVL1038:
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 9351              		.loc 1 3880 13 is_stmt 1 view .LVU3140
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9352              		.loc 1 3881 3 view .LVU3141
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9353              		.loc 1 3883 3 view .LVU3142
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9354              		.loc 1 3883 6 is_stmt 0 view .LVU3143
 9355 0028 0028     		cmp	r0, #0
 9356 002a F4D1     		bne	.L699
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
 9357              		.loc 1 3884 4 is_stmt 1 view .LVU3144
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
 9358              		.loc 1 3884 8 is_stmt 0 view .LVU3145
 9359 002c 8B9B     		ldr	r3, [sp, #556]
 9360              	.LVL1039:
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9361              		.loc 1 3885 4 is_stmt 1 view .LVU3146
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9362              		.loc 1 3885 7 is_stmt 0 view .LVU3147
 9363 002e 83B1     		cbz	r3, .L700
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
 9364              		.loc 1 3888 5 is_stmt 1 view .LVU3148
 9365 0030 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 9366 0032 9A75     		strb	r2, [r3, #22]
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
 9367              		.loc 1 3888 5 view .LVU3149
 9368 0034 E288     		ldrh	r2, [r4, #6]
 9369 0036 120A     		lsrs	r2, r2, #8
 9370 0038 DA75     		strb	r2, [r3, #23]
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9371              		.loc 1 3889 5 view .LVU3150
 9372 003a 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 9373 003c 1A76     		strb	r2, [r3, #24]
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9374              		.loc 1 3889 5 view .LVU3151
 9375 003e A288     		ldrh	r2, [r4, #4]
 9376 0040 120A     		lsrs	r2, r2, #8
 9377 0042 5A76     		strb	r2, [r3, #25]
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9378              		.loc 1 3890 5 view .LVU3152
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
ARM GAS  /tmp/cciFFPmJ.s 			page 290


 9379              		.loc 1 3890 7 is_stmt 0 view .LVU3153
 9380 0044 8698     		ldr	r0, [sp, #536]
 9381              	.LVL1040:
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9382              		.loc 1 3890 18 view .LVU3154
 9383 0046 0123     		movs	r3, #1
 9384              	.LVL1041:
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9385              		.loc 1 3890 18 view .LVU3155
 9386 0048 80F80432 		strb	r3, [r0, #516]
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9387              		.loc 1 3891 5 is_stmt 1 view .LVU3156
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9388              		.loc 1 3891 11 is_stmt 0 view .LVU3157
 9389 004c FFF7FEFF 		bl	sync_fs
 9390              	.LVL1042:
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9391              		.loc 1 3891 11 view .LVU3158
 9392 0050 E1E7     		b	.L699
 9393              	.LVL1043:
 9394              	.L700:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
 9395              		.loc 1 3886 9 view .LVU3159
 9396 0052 0620     		movs	r0, #6
 9397              	.LVL1044:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
 9398              		.loc 1 3886 9 view .LVU3160
 9399 0054 DFE7     		b	.L699
 9400              		.cfi_endproc
 9401              	.LFE116:
 9403              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 9404              		.align	2
 9405              	.LC1:
 9406 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 9406      53444F53 
 9406      352E3000 
 9407              		.align	2
 9408              	.LC2:
 9409 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 9409      414D4520 
 9409      20202046 
 9409      41543332 
 9409      20202000 
 9410              		.align	2
 9411              	.LC3:
 9412 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 9412      414D4520 
 9412      20202046 
 9412      41542020 
 9412      20202000 
 9413              		.section	.text.f_mkfs,"ax",%progbits
 9414              		.align	1
 9415              		.global	f_mkfs
 9416              		.syntax unified
 9417              		.thumb
 9418              		.thumb_func
 9419              		.fpu softvfp
ARM GAS  /tmp/cciFFPmJ.s 			page 291


 9421              	f_mkfs:
 9422              	.LVL1045:
 9423              	.LFB117:
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
 9424              		.loc 1 4143 1 is_stmt 1 view -0
 9425              		.cfi_startproc
 9426              		@ args = 0, pretend = 0, frame = 40
 9427              		@ frame_needed = 0, uses_anonymous_args = 0
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
 9428              		.loc 1 4143 1 is_stmt 0 view .LVU3162
 9429 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 9430              	.LCFI108:
 9431              		.cfi_def_cfa_offset 36
 9432              		.cfi_offset 4, -36
 9433              		.cfi_offset 5, -32
 9434              		.cfi_offset 6, -28
 9435              		.cfi_offset 7, -24
 9436              		.cfi_offset 8, -20
 9437              		.cfi_offset 9, -16
 9438              		.cfi_offset 10, -12
 9439              		.cfi_offset 11, -8
 9440              		.cfi_offset 14, -4
 9441 0004 8BB0     		sub	sp, sp, #44
 9442              	.LCFI109:
 9443              		.cfi_def_cfa_offset 80
 9444 0006 0790     		str	r0, [sp, #28]
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};
 9445              		.loc 1 4144 2 is_stmt 1 view .LVU3163
4145:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 9446              		.loc 1 4145 2 view .LVU3164
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, md, sys, *tbl, pdrv, part;
 9447              		.loc 1 4146 2 view .LVU3165
4147:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_clst, vs, n, wsect;
 9448              		.loc 1 4147 2 view .LVU3166
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 9449              		.loc 1 4148 2 view .LVU3167
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_dir, b_data;	/* LBA */
 9450              		.loc 1 4149 2 view .LVU3168
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_vol, n_rsv, n_fat, n_dir;	/* Size */
 9451              		.loc 1 4150 2 view .LVU3169
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9452              		.loc 1 4151 2 view .LVU3170
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 9453              		.loc 1 4152 2 view .LVU3171
4153:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
 9454              		.loc 1 4153 2 view .LVU3172
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 9455              		.loc 1 4160 2 view .LVU3173
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 9456              		.loc 1 4160 5 is_stmt 0 view .LVU3174
 9457 0008 0129     		cmp	r1, #1
 9458 000a 00F2D982 		bhi	.L743
 9459 000e 0D46     		mov	r5, r1
 9460 0010 1646     		mov	r6, r2
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 9461              		.loc 1 4161 2 is_stmt 1 view .LVU3175
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
ARM GAS  /tmp/cciFFPmJ.s 			page 292


 9462              		.loc 1 4161 8 is_stmt 0 view .LVU3176
 9463 0012 07A8     		add	r0, sp, #28
 9464              	.LVL1046:
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 9465              		.loc 1 4161 8 view .LVU3177
 9466 0014 FFF7FEFF 		bl	get_ldnumber
 9467              	.LVL1047:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 9468              		.loc 1 4162 2 is_stmt 1 view .LVU3178
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 9469              		.loc 1 4162 5 is_stmt 0 view .LVU3179
 9470 0018 0028     		cmp	r0, #0
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 9471              		.loc 1 4162 5 view .LVU3180
 9472 001a C0F2D582 		blt	.L744
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 9473              		.loc 1 4163 2 is_stmt 1 view .LVU3181
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 9474              		.loc 1 4163 5 is_stmt 0 view .LVU3182
 9475 001e 974B     		ldr	r3, .L786
 9476 0020 53F82070 		ldr	r7, [r3, r0, lsl #2]
 9477              	.LVL1048:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 9478              		.loc 1 4164 2 is_stmt 1 view .LVU3183
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 9479              		.loc 1 4164 5 is_stmt 0 view .LVU3184
 9480 0024 002F     		cmp	r7, #0
 9481 0026 00F0D182 		beq	.L745
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 9482              		.loc 1 4165 2 is_stmt 1 view .LVU3185
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 9483              		.loc 1 4165 14 is_stmt 0 view .LVU3186
 9484 002a 0023     		movs	r3, #0
 9485 002c 87F80032 		strb	r3, [r7, #512]
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
 9486              		.loc 1 4166 2 is_stmt 1 view .LVU3187
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
 9487              		.loc 1 4166 7 is_stmt 0 view .LVU3188
 9488 0030 C4B2     		uxtb	r4, r0
 9489              	.LVL1049:
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9490              		.loc 1 4167 2 is_stmt 1 view .LVU3189
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9491              		.loc 1 4170 2 view .LVU3190
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9492              		.loc 1 4170 9 is_stmt 0 view .LVU3191
 9493 0032 2046     		mov	r0, r4
 9494              	.LVL1050:
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9495              		.loc 1 4170 9 view .LVU3192
 9496 0034 FFF7FEFF 		bl	disk_initialize
 9497              	.LVL1051:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 9498              		.loc 1 4171 2 is_stmt 1 view .LVU3193
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 9499              		.loc 1 4171 5 is_stmt 0 view .LVU3194
 9500 0038 10F0010F 		tst	r0, #1
ARM GAS  /tmp/cciFFPmJ.s 			page 293


 9501 003c 40F0C882 		bne	.L746
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 9502              		.loc 1 4172 2 is_stmt 1 view .LVU3195
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 9503              		.loc 1 4172 5 is_stmt 0 view .LVU3196
 9504 0040 10F0040F 		tst	r0, #4
 9505 0044 40F0C682 		bne	.L747
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
 9506              		.loc 1 4177 2 is_stmt 1 view .LVU3197
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9507              		.loc 1 4187 3 view .LVU3198
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9508              		.loc 1 4187 7 is_stmt 0 view .LVU3199
 9509 0048 08AA     		add	r2, sp, #32
 9510 004a 0121     		movs	r1, #1
 9511 004c 2046     		mov	r0, r4
 9512              	.LVL1052:
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9513              		.loc 1 4187 7 view .LVU3200
 9514 004e FFF7FEFF 		bl	disk_ioctl
 9515              	.LVL1053:
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9516              		.loc 1 4187 6 view .LVU3201
 9517 0052 0028     		cmp	r0, #0
 9518 0054 40F0C082 		bne	.L748
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9519              		.loc 1 4187 69 discriminator 1 view .LVU3202
 9520 0058 0898     		ldr	r0, [sp, #32]
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9521              		.loc 1 4187 60 discriminator 1 view .LVU3203
 9522 005a 7F28     		cmp	r0, #127
 9523 005c 40F2BE82 		bls	.L749
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9524              		.loc 1 4189 3 is_stmt 1 view .LVU3204
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9525              		.loc 1 4189 21 is_stmt 0 view .LVU3205
 9526 0060 A5B1     		cbz	r5, .L750
 9527 0062 0023     		movs	r3, #0
 9528 0064 0193     		str	r3, [sp, #4]
 9529              	.L705:
 9530              	.LVL1054:
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9531              		.loc 1 4190 3 is_stmt 1 discriminator 4 view .LVU3206
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9532              		.loc 1 4190 9 is_stmt 0 discriminator 4 view .LVU3207
 9533 0066 019B     		ldr	r3, [sp, #4]
 9534 0068 C01A     		subs	r0, r0, r3
 9535 006a 0890     		str	r0, [sp, #32]
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 9536              		.loc 1 4193 2 is_stmt 1 discriminator 4 view .LVU3208
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 9537              		.loc 1 4193 15 is_stmt 0 discriminator 4 view .LVU3209
 9538 006c 731E     		subs	r3, r6, #1
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 9539              		.loc 1 4193 5 discriminator 4 view .LVU3210
 9540 006e 1E42     		tst	r6, r3
 9541 0070 00D1     		bne	.L706
ARM GAS  /tmp/cciFFPmJ.s 			page 294


4194:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
 9542              		.loc 1 4194 2 is_stmt 1 view .LVU3211
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
 9543              		.loc 1 4194 5 is_stmt 0 view .LVU3212
 9544 0072 8EB9     		cbnz	r6, .L707
 9545              	.L706:
 9546              	.LVL1055:
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 9547              		.loc 1 4195 3 is_stmt 1 view .LVU3213
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 9548              		.loc 1 4195 6 is_stmt 0 view .LVU3214
 9549 0074 8249     		ldr	r1, .L786+4
 9550 0076 A1FB0031 		umull	r3, r1, r1, r0
 9551 007a C909     		lsrs	r1, r1, #7
 9552              	.LVL1056:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9553              		.loc 1 4196 3 is_stmt 1 view .LVU3215
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9554              		.loc 1 4196 10 is_stmt 0 view .LVU3216
 9555 007c 0023     		movs	r3, #0
 9556              	.LVL1057:
 9557              	.L708:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9558              		.loc 1 4196 15 is_stmt 1 discriminator 1 view .LVU3217
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9559              		.loc 1 4196 23 is_stmt 0 discriminator 1 view .LVU3218
 9560 007e 814A     		ldr	r2, .L786+8
 9561 0080 32F81320 		ldrh	r2, [r2, r3, lsl #1]
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9562              		.loc 1 4196 3 discriminator 1 view .LVU3219
 9563 0084 9142     		cmp	r1, r2
 9564 0086 04D2     		bcs	.L771
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9565              		.loc 1 4196 33 is_stmt 1 discriminator 3 view .LVU3220
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9566              		.loc 1 4196 28 discriminator 3 view .LVU3221
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9567              		.loc 1 4196 29 is_stmt 0 discriminator 3 view .LVU3222
 9568 0088 0133     		adds	r3, r3, #1
 9569              	.LVL1058:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9570              		.loc 1 4196 29 discriminator 3 view .LVU3223
 9571 008a F8E7     		b	.L708
 9572              	.LVL1059:
 9573              	.L750:
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9574              		.loc 1 4189 21 view .LVU3224
 9575 008c 3F23     		movs	r3, #63
 9576 008e 0193     		str	r3, [sp, #4]
 9577 0090 E9E7     		b	.L705
 9578              	.LVL1060:
 9579              	.L771:
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9580              		.loc 1 4197 3 is_stmt 1 view .LVU3225
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9581              		.loc 1 4197 11 is_stmt 0 view .LVU3226
 9582 0092 7D4A     		ldr	r2, .L786+12
ARM GAS  /tmp/cciFFPmJ.s 			page 295


 9583 0094 32F81360 		ldrh	r6, [r2, r3, lsl #1]
 9584              	.LVL1061:
 9585              	.L707:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9586              		.loc 1 4199 2 is_stmt 1 view .LVU3227
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9587              		.loc 1 4199 5 is_stmt 0 view .LVU3228
 9588 0098 B6F5007F 		cmp	r6, #512
 9589 009c 00D3     		bcc	.L710
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9590              		.loc 1 4199 21 is_stmt 1 discriminator 1 view .LVU3229
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9591              		.loc 1 4199 24 is_stmt 0 discriminator 1 view .LVU3230
 9592 009e 760A     		lsrs	r6, r6, #9
 9593              	.LVL1062:
 9594              	.L710:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9595              		.loc 1 4200 2 is_stmt 1 view .LVU3231
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9596              		.loc 1 4200 5 is_stmt 0 view .LVU3232
 9597 00a0 1EB1     		cbz	r6, .L751
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9598              		.loc 1 4201 2 is_stmt 1 view .LVU3233
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9599              		.loc 1 4201 5 is_stmt 0 view .LVU3234
 9600 00a2 802E     		cmp	r6, #128
 9601 00a4 02D9     		bls	.L711
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9602              		.loc 1 4201 19 view .LVU3235
 9603 00a6 8026     		movs	r6, #128
 9604              	.LVL1063:
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9605              		.loc 1 4201 19 view .LVU3236
 9606 00a8 00E0     		b	.L711
 9607              	.LVL1064:
 9608              	.L751:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9609              		.loc 1 4200 14 view .LVU3237
 9610 00aa 0126     		movs	r6, #1
 9611              	.LVL1065:
 9612              	.L711:
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 9613              		.loc 1 4204 2 is_stmt 1 view .LVU3238
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 9614              		.loc 1 4204 9 is_stmt 0 view .LVU3239
 9615 00ac B0FBF6F3 		udiv	r3, r0, r6
 9616              	.LVL1066:
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
 9617              		.loc 1 4205 2 is_stmt 1 view .LVU3240
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 9618              		.loc 1 4206 2 view .LVU3241
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 9619              		.loc 1 4206 5 is_stmt 0 view .LVU3242
 9620 00b0 40F6F572 		movw	r2, #4085
 9621 00b4 9342     		cmp	r3, r2
 9622 00b6 18D8     		bhi	.L753
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
ARM GAS  /tmp/cciFFPmJ.s 			page 296


 9623              		.loc 1 4205 6 view .LVU3243
 9624 00b8 4FF00109 		mov	r9, #1
 9625              	.L712:
 9626              	.LVL1067:
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9627              		.loc 1 4207 2 is_stmt 1 view .LVU3244
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9628              		.loc 1 4207 5 is_stmt 0 view .LVU3245
 9629 00bc 4FF6F572 		movw	r2, #65525
 9630 00c0 9342     		cmp	r3, r2
 9631 00c2 15D8     		bhi	.L754
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
 9632              		.loc 1 4210 2 is_stmt 1 view .LVU3246
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
 9633              		.loc 1 4210 5 is_stmt 0 view .LVU3247
 9634 00c4 B9F1030F 		cmp	r9, #3
 9635 00c8 14D0     		beq	.L713
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9636              		.loc 1 4215 3 is_stmt 1 view .LVU3248
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9637              		.loc 1 4215 56 is_stmt 0 view .LVU3249
 9638 00ca B9F1010F 		cmp	r9, #1
 9639 00ce 61D0     		beq	.L772
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9640              		.loc 1 4215 71 discriminator 2 view .LVU3250
 9641 00d0 03F10208 		add	r8, r3, #2
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9642              		.loc 1 4215 56 discriminator 2 view .LVU3251
 9643 00d4 4FEA4808 		lsl	r8, r8, #1
 9644              	.LVL1068:
 9645              	.L717:
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9646              		.loc 1 4216 3 is_stmt 1 discriminator 4 view .LVU3252
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9647              		.loc 1 4216 27 is_stmt 0 discriminator 4 view .LVU3253
 9648 00d8 08F2FF18 		addw	r8, r8, #511
 9649              	.LVL1069:
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9650              		.loc 1 4216 9 discriminator 4 view .LVU3254
 9651 00dc 4FEA5828 		lsr	r8, r8, #9
 9652              	.LVL1070:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
 9653              		.loc 1 4217 3 is_stmt 1 discriminator 4 view .LVU3255
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9654              		.loc 1 4218 3 discriminator 4 view .LVU3256
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9655              		.loc 1 4218 9 is_stmt 0 discriminator 4 view .LVU3257
 9656 00e0 2023     		movs	r3, #32
 9657 00e2 0293     		str	r3, [sp, #8]
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
 9658              		.loc 1 4217 9 discriminator 4 view .LVU3258
 9659 00e4 4FF0010B 		mov	fp, #1
 9660 00e8 10E0     		b	.L715
 9661              	.LVL1071:
 9662              	.L753:
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 9663              		.loc 1 4206 31 view .LVU3259
ARM GAS  /tmp/cciFFPmJ.s 			page 297


 9664 00ea 4FF00209 		mov	r9, #2
 9665 00ee E5E7     		b	.L712
 9666              	.LVL1072:
 9667              	.L754:
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9668              		.loc 1 4207 31 view .LVU3260
 9669 00f0 4FF00309 		mov	r9, #3
 9670              	.LVL1073:
 9671              	.L713:
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9672              		.loc 1 4211 3 is_stmt 1 view .LVU3261
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9673              		.loc 1 4211 29 is_stmt 0 view .LVU3262
 9674 00f4 03F18208 		add	r8, r3, #130
 9675 00f8 4FEA8808 		lsl	r8, r8, #2
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9676              		.loc 1 4211 38 view .LVU3263
 9677 00fc 08F1FF38 		add	r8, r8, #-1
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9678              		.loc 1 4211 9 view .LVU3264
 9679 0100 4FEA5828 		lsr	r8, r8, #9
 9680              	.LVL1074:
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
 9681              		.loc 1 4212 3 is_stmt 1 view .LVU3265
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9682              		.loc 1 4213 3 view .LVU3266
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9683              		.loc 1 4213 9 is_stmt 0 view .LVU3267
 9684 0104 0023     		movs	r3, #0
 9685              	.LVL1075:
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9686              		.loc 1 4213 9 view .LVU3268
 9687 0106 0293     		str	r3, [sp, #8]
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
 9688              		.loc 1 4212 9 view .LVU3269
 9689 0108 4FF0200B 		mov	fp, #32
 9690              	.LVL1076:
 9691              	.L715:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
 9692              		.loc 1 4220 2 is_stmt 1 view .LVU3270
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
 9693              		.loc 1 4220 8 is_stmt 0 view .LVU3271
 9694 010c 019A     		ldr	r2, [sp, #4]
 9695 010e 0BEB0203 		add	r3, fp, r2
 9696 0112 0393     		str	r3, [sp, #12]
 9697              	.LVL1077:
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
 9698              		.loc 1 4221 2 is_stmt 1 view .LVU3272
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
 9699              		.loc 1 4221 8 is_stmt 0 view .LVU3273
 9700 0114 08EB030A 		add	r10, r8, r3
 9701              	.LVL1078:
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 9702              		.loc 1 4222 2 is_stmt 1 view .LVU3274
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 9703              		.loc 1 4222 9 is_stmt 0 view .LVU3275
 9704 0118 029B     		ldr	r3, [sp, #8]
ARM GAS  /tmp/cciFFPmJ.s 			page 298


 9705              	.LVL1079:
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 9706              		.loc 1 4222 9 view .LVU3276
 9707 011a 9A44     		add	r10, r10, r3
 9708              	.LVL1080:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9709              		.loc 1 4223 2 is_stmt 1 view .LVU3277
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9710              		.loc 1 4223 21 is_stmt 0 view .LVU3278
 9711 011c 06EB0A03 		add	r3, r6, r10
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9712              		.loc 1 4223 26 view .LVU3279
 9713 0120 9B1A     		subs	r3, r3, r2
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9714              		.loc 1 4223 5 view .LVU3280
 9715 0122 9842     		cmp	r0, r3
 9716 0124 C0F05C82 		bcc	.L755
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9717              		.loc 1 4226 2 is_stmt 1 view .LVU3281
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9718              		.loc 1 4226 6 is_stmt 0 view .LVU3282
 9719 0128 09AA     		add	r2, sp, #36
 9720 012a 0321     		movs	r1, #3
 9721 012c 2046     		mov	r0, r4
 9722              	.LVL1081:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9723              		.loc 1 4226 6 view .LVU3283
 9724 012e FFF7FEFF 		bl	disk_ioctl
 9725              	.LVL1082:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9726              		.loc 1 4226 5 view .LVU3284
 9727 0132 20B9     		cbnz	r0, .L718
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9728              		.loc 1 4226 56 discriminator 2 view .LVU3285
 9729 0134 099B     		ldr	r3, [sp, #36]
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9730              		.loc 1 4226 53 discriminator 2 view .LVU3286
 9731 0136 13B1     		cbz	r3, .L718
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9732              		.loc 1 4226 59 discriminator 4 view .LVU3287
 9733 0138 B3F5004F 		cmp	r3, #32768
 9734 013c 01D9     		bls	.L719
 9735              	.L718:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9736              		.loc 1 4226 73 is_stmt 1 discriminator 5 view .LVU3288
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9737              		.loc 1 4226 75 is_stmt 0 discriminator 5 view .LVU3289
 9738 013e 0123     		movs	r3, #1
 9739 0140 0993     		str	r3, [sp, #36]
 9740              	.L719:
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9741              		.loc 1 4227 2 is_stmt 1 view .LVU3290
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9742              		.loc 1 4227 14 is_stmt 0 view .LVU3291
 9743 0142 099A     		ldr	r2, [sp, #36]
 9744 0144 02EB0A03 		add	r3, r2, r10
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
ARM GAS  /tmp/cciFFPmJ.s 			page 299


 9745              		.loc 1 4227 18 view .LVU3292
 9746 0148 013B     		subs	r3, r3, #1
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9747              		.loc 1 4227 25 view .LVU3293
 9748 014a 5242     		rsbs	r2, r2, #0
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9749              		.loc 1 4227 23 view .LVU3294
 9750 014c 1340     		ands	r3, r3, r2
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 9751              		.loc 1 4228 2 is_stmt 1 view .LVU3295
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 9752              		.loc 1 4228 9 is_stmt 0 view .LVU3296
 9753 014e A3EB0A03 		sub	r3, r3, r10
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 9754              		.loc 1 4228 4 view .LVU3297
 9755 0152 0993     		str	r3, [sp, #36]
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
 9756              		.loc 1 4229 2 is_stmt 1 view .LVU3298
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
 9757              		.loc 1 4229 5 is_stmt 0 view .LVU3299
 9758 0154 B9F1030F 		cmp	r9, #3
 9759 0158 25D0     		beq	.L773
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9760              		.loc 1 4233 3 is_stmt 1 view .LVU3300
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9761              		.loc 1 4233 9 is_stmt 0 view .LVU3301
 9762 015a 9844     		add	r8, r8, r3
 9763              	.LVL1083:
 9764              	.L721:
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9765              		.loc 1 4237 2 is_stmt 1 view .LVU3302
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9766              		.loc 1 4237 18 is_stmt 0 view .LVU3303
 9767 015c 089A     		ldr	r2, [sp, #32]
 9768 015e A2EB0B03 		sub	r3, r2, fp
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9769              		.loc 1 4237 26 view .LVU3304
 9770 0162 A3EB0803 		sub	r3, r3, r8
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9771              		.loc 1 4237 43 view .LVU3305
 9772 0166 0299     		ldr	r1, [sp, #8]
 9773 0168 5B1A     		subs	r3, r3, r1
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9774              		.loc 1 4237 9 view .LVU3306
 9775 016a B3FBF6F3 		udiv	r3, r3, r6
 9776 016e 0593     		str	r3, [sp, #20]
 9777              	.LVL1084:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 9778              		.loc 1 4238 2 is_stmt 1 view .LVU3307
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 9779              		.loc 1 4238 5 is_stmt 0 view .LVU3308
 9780 0170 B9F1020F 		cmp	r9, #2
 9781 0174 1CD0     		beq	.L774
 9782              	.LVL1085:
 9783              	.L722:
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
 9784              		.loc 1 4239 3 view .LVU3309
ARM GAS  /tmp/cciFFPmJ.s 			page 300


 9785 0176 B9F1030F 		cmp	r9, #3
 9786 017a 20D0     		beq	.L775
 9787              	.L723:
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
 9788              		.loc 1 4243 2 is_stmt 1 view .LVU3310
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
 9789              		.loc 1 4243 5 is_stmt 0 view .LVU3311
 9790 017c B9F1030F 		cmp	r9, #3
 9791 0180 29D0     		beq	.L758
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 9792              		.loc 1 4246 3 is_stmt 1 view .LVU3312
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 9793              		.loc 1 4246 6 is_stmt 0 view .LVU3313
 9794 0182 B9F1010F 		cmp	r9, #1
 9795 0186 21D0     		beq	.L776
 9796              	.L725:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9797              		.loc 1 4249 4 is_stmt 1 view .LVU3314
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9798              		.loc 1 4249 8 is_stmt 0 view .LVU3315
 9799 0188 B2F5803F 		cmp	r2, #65536
 9800 018c 72D2     		bcs	.L760
 9801 018e 4FF0040A 		mov	r10, #4
 9802              	.LVL1086:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9803              		.loc 1 4249 8 view .LVU3316
 9804 0192 22E0     		b	.L724
 9805              	.LVL1087:
 9806              	.L772:
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9807              		.loc 1 4215 39 discriminator 1 view .LVU3317
 9808 0194 03EB4303 		add	r3, r3, r3, lsl #1
 9809              	.LVL1088:
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9810              		.loc 1 4215 43 discriminator 1 view .LVU3318
 9811 0198 03F10108 		add	r8, r3, #1
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9812              		.loc 1 4215 48 discriminator 1 view .LVU3319
 9813 019c 4FEA5808 		lsr	r8, r8, #1
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9814              		.loc 1 4215 56 discriminator 1 view .LVU3320
 9815 01a0 08F10308 		add	r8, r8, #3
 9816 01a4 98E7     		b	.L717
 9817              	.LVL1089:
 9818              	.L773:
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
 9819              		.loc 1 4230 3 is_stmt 1 view .LVU3321
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
 9820              		.loc 1 4230 9 is_stmt 0 view .LVU3322
 9821 01a6 9B44     		add	fp, fp, r3
 9822              	.LVL1090:
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 9823              		.loc 1 4231 3 is_stmt 1 view .LVU3323
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 9824              		.loc 1 4231 9 is_stmt 0 view .LVU3324
 9825 01a8 039A     		ldr	r2, [sp, #12]
 9826 01aa 1A44     		add	r2, r2, r3
ARM GAS  /tmp/cciFFPmJ.s 			page 301


 9827 01ac 0392     		str	r2, [sp, #12]
 9828              	.LVL1091:
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 9829              		.loc 1 4231 9 view .LVU3325
 9830 01ae D5E7     		b	.L721
 9831              	.LVL1092:
 9832              	.L774:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 9833              		.loc 1 4238 26 discriminator 1 view .LVU3326
 9834 01b0 40F6F573 		movw	r3, #4085
 9835              	.LVL1093:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 9836              		.loc 1 4238 26 discriminator 1 view .LVU3327
 9837 01b4 0599     		ldr	r1, [sp, #20]
 9838 01b6 9942     		cmp	r1, r3
 9839 01b8 DDD8     		bhi	.L722
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9840              		.loc 1 4240 10 view .LVU3328
 9841 01ba 0E20     		movs	r0, #14
 9842 01bc 01E2     		b	.L704
 9843              	.L775:
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
 9844              		.loc 1 4239 23 discriminator 1 view .LVU3329
 9845 01be 4FF6F573 		movw	r3, #65525
 9846 01c2 0599     		ldr	r1, [sp, #20]
 9847 01c4 9942     		cmp	r1, r3
 9848 01c6 D9D8     		bhi	.L723
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9849              		.loc 1 4240 10 view .LVU3330
 9850 01c8 0E20     		movs	r0, #14
 9851 01ca FAE1     		b	.L704
 9852              	.L776:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 9853              		.loc 1 4246 23 discriminator 1 view .LVU3331
 9854 01cc B2F5803F 		cmp	r2, #65536
 9855 01d0 DAD2     		bcs	.L725
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9856              		.loc 1 4247 8 view .LVU3332
 9857 01d2 CA46     		mov	r10, r9
 9858              	.LVL1094:
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9859              		.loc 1 4247 8 view .LVU3333
 9860 01d4 01E0     		b	.L724
 9861              	.LVL1095:
 9862              	.L758:
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9863              		.loc 1 4244 7 view .LVU3334
 9864 01d6 4FF00C0A 		mov	r10, #12
 9865              	.LVL1096:
 9866              	.L724:
4253:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
 9867              		.loc 1 4253 2 is_stmt 1 view .LVU3335
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
 9868              		.loc 1 4261 3 view .LVU3336
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
 9869              		.loc 1 4261 6 is_stmt 0 view .LVU3337
 9870 01da 002D     		cmp	r5, #0
ARM GAS  /tmp/cciFFPmJ.s 			page 302


 9871 01dc 58D1     		bne	.L761
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
 9872              		.loc 1 4264 4 is_stmt 1 view .LVU3338
 9873 01de 4FF40072 		mov	r2, #512
 9874 01e2 0021     		movs	r1, #0
 9875 01e4 3846     		mov	r0, r7
 9876 01e6 FFF7FEFF 		bl	mem_set
 9877              	.LVL1097:
4265:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
 9878              		.loc 1 4265 4 view .LVU3339
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
 9879              		.loc 1 4266 4 view .LVU3340
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
 9880              		.loc 1 4266 11 is_stmt 0 view .LVU3341
 9881 01ea 0123     		movs	r3, #1
 9882 01ec 87F8BF31 		strb	r3, [r7, #447]
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
 9883              		.loc 1 4267 4 is_stmt 1 view .LVU3342
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
 9884              		.loc 1 4267 11 is_stmt 0 view .LVU3343
 9885 01f0 87F8C031 		strb	r3, [r7, #448]
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
 9886              		.loc 1 4268 4 is_stmt 1 view .LVU3344
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
 9887              		.loc 1 4268 11 is_stmt 0 view .LVU3345
 9888 01f4 0022     		movs	r2, #0
 9889 01f6 87F8C121 		strb	r2, [r7, #449]
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
 9890              		.loc 1 4269 4 is_stmt 1 view .LVU3346
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
 9891              		.loc 1 4269 11 is_stmt 0 view .LVU3347
 9892 01fa 87F8C2A1 		strb	r10, [r7, #450]
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 9893              		.loc 1 4270 4 is_stmt 1 view .LVU3348
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 9894              		.loc 1 4270 11 is_stmt 0 view .LVU3349
 9895 01fe FE21     		movs	r1, #254
 9896 0200 87F8C311 		strb	r1, [r7, #451]
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 9897              		.loc 1 4271 4 is_stmt 1 view .LVU3350
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 9898              		.loc 1 4271 15 is_stmt 0 view .LVU3351
 9899 0204 0898     		ldr	r0, [sp, #32]
 9900 0206 0199     		ldr	r1, [sp, #4]
 9901 0208 0D18     		adds	r5, r1, r0
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 9902              		.loc 1 4271 29 view .LVU3352
 9903 020a 2049     		ldr	r1, .L786+16
 9904 020c A1FB05C1 		umull	ip, r1, r1, r5
 9905 0210 6D1A     		subs	r5, r5, r1
 9906 0212 01EB5501 		add	r1, r1, r5, lsr #1
 9907 0216 4D0B     		lsrs	r5, r1, #13
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 9908              		.loc 1 4271 6 view .LVU3353
 9909 0218 0995     		str	r5, [sp, #36]
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 9910              		.loc 1 4272 4 is_stmt 1 view .LVU3354
ARM GAS  /tmp/cciFFPmJ.s 			page 303


4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 9911              		.loc 1 4272 22 is_stmt 0 view .LVU3355
 9912 021a C90B     		lsrs	r1, r1, #15
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 9913              		.loc 1 4272 13 view .LVU3356
 9914 021c 41F03F01 		orr	r1, r1, #63
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 9915              		.loc 1 4272 11 view .LVU3357
 9916 0220 87F8C411 		strb	r1, [r7, #452]
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 9917              		.loc 1 4273 4 is_stmt 1 view .LVU3358
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 9918              		.loc 1 4273 11 is_stmt 0 view .LVU3359
 9919 0224 87F8C551 		strb	r5, [r7, #453]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 9920              		.loc 1 4274 4 is_stmt 1 view .LVU3360
 9921 0228 3F21     		movs	r1, #63
 9922 022a 87F8C611 		strb	r1, [r7, #454]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 9923              		.loc 1 4274 4 view .LVU3361
 9924 022e 87F8C721 		strb	r2, [r7, #455]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 9925              		.loc 1 4274 4 view .LVU3362
 9926 0232 87F8C821 		strb	r2, [r7, #456]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 9927              		.loc 1 4274 4 view .LVU3363
 9928 0236 87F8C921 		strb	r2, [r7, #457]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 9929              		.loc 1 4275 4 view .LVU3364
 9930 023a 87F8CA01 		strb	r0, [r7, #458]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 9931              		.loc 1 4275 4 view .LVU3365
 9932 023e C0F30721 		ubfx	r1, r0, #8, #8
 9933 0242 87F8CB11 		strb	r1, [r7, #459]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 9934              		.loc 1 4275 4 view .LVU3366
 9935 0246 C0F30741 		ubfx	r1, r0, #16, #8
 9936 024a 87F8CC11 		strb	r1, [r7, #460]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 9937              		.loc 1 4275 4 view .LVU3367
 9938 024e 000E     		lsrs	r0, r0, #24
 9939 0250 87F8CD01 		strb	r0, [r7, #461]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
 9940              		.loc 1 4276 4 view .LVU3368
 9941 0254 5521     		movs	r1, #85
 9942 0256 87F8FE11 		strb	r1, [r7, #510]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
 9943              		.loc 1 4276 4 view .LVU3369
 9944 025a AA21     		movs	r1, #170
 9945 025c 87F8FF11 		strb	r1, [r7, #511]
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 9946              		.loc 1 4277 4 view .LVU3370
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 9947              		.loc 1 4277 8 is_stmt 0 view .LVU3371
 9948 0260 3946     		mov	r1, r7
 9949 0262 2046     		mov	r0, r4
 9950 0264 FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/cciFFPmJ.s 			page 304


 9951              	.LVL1098:
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 9952              		.loc 1 4277 7 view .LVU3372
 9953 0268 0028     		cmp	r0, #0
 9954 026a 40F0BB81 		bne	.L762
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9955              		.loc 1 4279 7 view .LVU3373
 9956 026e F823     		movs	r3, #248
 9957 0270 0493     		str	r3, [sp, #16]
 9958 0272 0FE0     		b	.L726
 9959              	.LVL1099:
 9960              	.L760:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9961              		.loc 1 4249 8 view .LVU3374
 9962 0274 4FF0060A 		mov	r10, #6
 9963              	.LVL1100:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9964              		.loc 1 4249 8 view .LVU3375
 9965 0278 AFE7     		b	.L724
 9966              	.L787:
 9967 027a 00BF     		.align	2
 9968              	.L786:
 9969 027c 00000000 		.word	.LANCHOR2
 9970 0280 D34D6210 		.word	274877907
 9971 0284 00000000 		.word	.LANCHOR4
 9972 0288 00000000 		.word	.LANCHOR5
 9973 028c 5B561505 		.word	85284443
 9974              	.LVL1101:
 9975              	.L761:
4262:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {	/* Create partition table (FDISK) */
 9976              		.loc 1 4262 7 view .LVU3376
 9977 0290 F023     		movs	r3, #240
 9978 0292 0493     		str	r3, [sp, #16]
 9979              	.L726:
 9980              	.LVL1102:
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
 9981              		.loc 1 4284 2 is_stmt 1 view .LVU3377
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
 9982              		.loc 1 4284 6 is_stmt 0 view .LVU3378
 9983 0294 3D46     		mov	r5, r7
 9984              	.LVL1103:
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
 9985              		.loc 1 4285 2 is_stmt 1 view .LVU3379
 9986 0296 4FF40072 		mov	r2, #512
 9987 029a 0021     		movs	r1, #0
 9988 029c 3846     		mov	r0, r7
 9989 029e FFF7FEFF 		bl	mem_set
 9990              	.LVL1104:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SS(fs);								/* Sector size */
 9991              		.loc 1 4286 2 view .LVU3380
 9992 02a2 0B22     		movs	r2, #11
 9993 02a4 D349     		ldr	r1, .L788
 9994 02a6 3846     		mov	r0, r7
 9995 02a8 FFF7FEFF 		bl	mem_cpy
 9996              	.LVL1105:
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
 9997              		.loc 1 4287 2 view .LVU3381
ARM GAS  /tmp/cciFFPmJ.s 			page 305


4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 9998              		.loc 1 4288 2 view .LVU3382
 9999 02ac 0023     		movs	r3, #0
 10000 02ae FB72     		strb	r3, [r7, #11]
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 10001              		.loc 1 4288 2 view .LVU3383
 10002 02b0 0223     		movs	r3, #2
 10003 02b2 3B73     		strb	r3, [r7, #12]
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 10004              		.loc 1 4289 2 view .LVU3384
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 10005              		.loc 1 4289 22 is_stmt 0 view .LVU3385
 10006 02b4 7E73     		strb	r6, [r7, #13]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10007              		.loc 1 4290 2 is_stmt 1 view .LVU3386
 10008 02b6 87F80EB0 		strb	fp, [r7, #14]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10009              		.loc 1 4290 2 view .LVU3387
 10010 02ba CBF3072B 		ubfx	fp, fp, #8, #8
 10011              	.LVL1106:
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10012              		.loc 1 4290 2 is_stmt 0 view .LVU3388
 10013 02be 87F80FB0 		strb	fp, [r7, #15]
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
 10014              		.loc 1 4291 2 is_stmt 1 view .LVU3389
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
 10015              		.loc 1 4291 19 is_stmt 0 view .LVU3390
 10016 02c2 0123     		movs	r3, #1
 10017 02c4 3B74     		strb	r3, [r7, #16]
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10018              		.loc 1 4292 2 is_stmt 1 view .LVU3391
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10019              		.loc 1 4292 28 is_stmt 0 view .LVU3392
 10020 02c6 B9F1030F 		cmp	r9, #3
 10021 02ca 00F08F80 		beq	.L777
 10022              	.LVL1107:
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10023              		.loc 1 4292 28 view .LVU3393
 10024 02ce 4FF40073 		mov	r3, #512
 10025              	.L727:
 10026              	.LVL1108:
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10027              		.loc 1 4293 2 is_stmt 1 discriminator 4 view .LVU3394
 10028 02d2 DAB2     		uxtb	r2, r3
 10029 02d4 7A74     		strb	r2, [r7, #17]
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10030              		.loc 1 4293 2 discriminator 4 view .LVU3395
 10031 02d6 9BB2     		uxth	r3, r3
 10032              	.LVL1109:
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10033              		.loc 1 4293 2 is_stmt 0 discriminator 4 view .LVU3396
 10034 02d8 1B0A     		lsrs	r3, r3, #8
 10035 02da BB74     		strb	r3, [r7, #18]
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10036              		.loc 1 4294 2 is_stmt 1 discriminator 4 view .LVU3397
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10037              		.loc 1 4294 12 is_stmt 0 discriminator 4 view .LVU3398
ARM GAS  /tmp/cciFFPmJ.s 			page 306


 10038 02dc 089B     		ldr	r3, [sp, #32]
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10039              		.loc 1 4294 5 discriminator 4 view .LVU3399
 10040 02de B3F5803F 		cmp	r3, #65536
 10041 02e2 80F08580 		bcs	.L728
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10042              		.loc 1 4295 3 is_stmt 1 view .LVU3400
 10043 02e6 FB74     		strb	r3, [r7, #19]
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10044              		.loc 1 4295 3 view .LVU3401
 10045 02e8 C3F30723 		ubfx	r3, r3, #8, #8
 10046 02ec 3B75     		strb	r3, [r7, #20]
 10047              	.L729:
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 10048              		.loc 1 4299 2 view .LVU3402
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 10049              		.loc 1 4299 17 is_stmt 0 view .LVU3403
 10050 02ee 049B     		ldr	r3, [sp, #16]
 10051 02f0 7B75     		strb	r3, [r7, #21]
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
 10052              		.loc 1 4300 2 is_stmt 1 view .LVU3404
 10053 02f2 3F23     		movs	r3, #63
 10054 02f4 3B76     		strb	r3, [r7, #24]
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
 10055              		.loc 1 4300 2 view .LVU3405
 10056 02f6 0023     		movs	r3, #0
 10057 02f8 7B76     		strb	r3, [r7, #25]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
 10058              		.loc 1 4301 2 view .LVU3406
 10059 02fa FF22     		movs	r2, #255
 10060 02fc BA76     		strb	r2, [r7, #26]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
 10061              		.loc 1 4301 2 view .LVU3407
 10062 02fe FB76     		strb	r3, [r7, #27]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10063              		.loc 1 4302 2 view .LVU3408
 10064 0300 019B     		ldr	r3, [sp, #4]
 10065 0302 3B77     		strb	r3, [r7, #28]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10066              		.loc 1 4302 2 view .LVU3409
 10067 0304 0023     		movs	r3, #0
 10068 0306 7B77     		strb	r3, [r7, #29]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10069              		.loc 1 4302 2 view .LVU3410
 10070 0308 BB77     		strb	r3, [r7, #30]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10071              		.loc 1 4302 2 view .LVU3411
 10072 030a FB77     		strb	r3, [r7, #31]
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10073              		.loc 1 4303 2 view .LVU3412
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10074              		.loc 1 4303 6 is_stmt 0 view .LVU3413
 10075 030c FFF7FEFF 		bl	get_fattime
 10076              	.LVL1110:
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10077              		.loc 1 4303 4 view .LVU3414
 10078 0310 0990     		str	r0, [sp, #36]
ARM GAS  /tmp/cciFFPmJ.s 			page 307


4304:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 10079              		.loc 1 4304 2 is_stmt 1 view .LVU3415
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 10080              		.loc 1 4304 5 is_stmt 0 view .LVU3416
 10081 0312 B9F1030F 		cmp	r9, #3
 10082 0316 79D0     		beq	.L778
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10083              		.loc 1 4314 3 is_stmt 1 view .LVU3417
 10084 0318 87F82700 		strb	r0, [r7, #39]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10085              		.loc 1 4314 3 view .LVU3418
 10086 031c C0F30723 		ubfx	r3, r0, #8, #8
 10087 0320 87F82830 		strb	r3, [r7, #40]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10088              		.loc 1 4314 3 view .LVU3419
 10089 0324 C0F30743 		ubfx	r3, r0, #16, #8
 10090 0328 87F82930 		strb	r3, [r7, #41]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10091              		.loc 1 4314 3 view .LVU3420
 10092 032c 000E     		lsrs	r0, r0, #24
 10093 032e 87F82A00 		strb	r0, [r7, #42]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 10094              		.loc 1 4315 3 view .LVU3421
 10095 0332 87F81680 		strb	r8, [r7, #22]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 10096              		.loc 1 4315 3 view .LVU3422
 10097 0336 C8F30723 		ubfx	r3, r8, #8, #8
 10098 033a FB75     		strb	r3, [r7, #23]
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 10099              		.loc 1 4316 3 view .LVU3423
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 10100              		.loc 1 4316 18 is_stmt 0 view .LVU3424
 10101 033c 8023     		movs	r3, #128
 10102 033e 87F82430 		strb	r3, [r7, #36]
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10103              		.loc 1 4317 3 is_stmt 1 view .LVU3425
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10104              		.loc 1 4317 19 is_stmt 0 view .LVU3426
 10105 0342 2923     		movs	r3, #41
 10106 0344 87F82630 		strb	r3, [r7, #38]
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10107              		.loc 1 4318 3 is_stmt 1 view .LVU3427
 10108 0348 1322     		movs	r2, #19
 10109 034a AB49     		ldr	r1, .L788+4
 10110 034c 07F12B00 		add	r0, r7, #43
 10111 0350 FFF7FEFF 		bl	mem_cpy
 10112              	.LVL1111:
 10113              	.L731:
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
 10114              		.loc 1 4320 2 view .LVU3428
 10115 0354 5523     		movs	r3, #85
 10116 0356 87F8FE31 		strb	r3, [r7, #510]
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
 10117              		.loc 1 4320 2 view .LVU3429
 10118 035a AA23     		movs	r3, #170
 10119 035c 87F8FF31 		strb	r3, [r7, #511]
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
ARM GAS  /tmp/cciFFPmJ.s 			page 308


 10120              		.loc 1 4321 2 view .LVU3430
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10121              		.loc 1 4321 6 is_stmt 0 view .LVU3431
 10122 0360 0123     		movs	r3, #1
 10123 0362 019A     		ldr	r2, [sp, #4]
 10124 0364 3946     		mov	r1, r7
 10125 0366 2046     		mov	r0, r4
 10126 0368 FFF7FEFF 		bl	disk_write
 10127              	.LVL1112:
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10128              		.loc 1 4321 5 view .LVU3432
 10129 036c 0028     		cmp	r0, #0
 10130 036e 40F03B81 		bne	.L764
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
 10131              		.loc 1 4323 2 is_stmt 1 view .LVU3433
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
 10132              		.loc 1 4323 5 is_stmt 0 view .LVU3434
 10133 0372 B9F1030F 		cmp	r9, #3
 10134 0376 00F08580 		beq	.L779
 10135              	.L732:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10136              		.loc 1 4344 8 discriminator 1 view .LVU3435
 10137 037a 0023     		movs	r3, #0
 10138 037c DDF80CB0 		ldr	fp, [sp, #12]
 10139 0380 0696     		str	r6, [sp, #24]
 10140 0382 1E46     		mov	r6, r3
 10141              	.LVL1113:
 10142              	.L738:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10143              		.loc 1 4328 14 is_stmt 1 discriminator 1 view .LVU3436
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10144              		.loc 1 4328 2 is_stmt 0 discriminator 1 view .LVU3437
 10145 0384 002E     		cmp	r6, #0
 10146 0386 40F0B680 		bne	.L780
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
 10147              		.loc 1 4329 3 is_stmt 1 view .LVU3438
 10148 038a 4FF40072 		mov	r2, #512
 10149 038e 0021     		movs	r1, #0
 10150 0390 2846     		mov	r0, r5
 10151 0392 FFF7FEFF 		bl	mem_set
 10152              	.LVL1114:
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
 10153              		.loc 1 4330 3 view .LVU3439
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
 10154              		.loc 1 4330 5 is_stmt 0 view .LVU3440
 10155 0396 049A     		ldr	r2, [sp, #16]
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
 10156              		.loc 1 4331 3 is_stmt 1 view .LVU3441
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
 10157              		.loc 1 4331 6 is_stmt 0 view .LVU3442
 10158 0398 B9F1030F 		cmp	r9, #3
 10159 039c 7CD0     		beq	.L733
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10160              		.loc 1 4332 4 is_stmt 1 view .LVU3443
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10161              		.loc 1 4332 40 is_stmt 0 view .LVU3444
 10162 039e B9F1010F 		cmp	r9, #1
ARM GAS  /tmp/cciFFPmJ.s 			page 309


 10163 03a2 77D0     		beq	.L781
 10164 03a4 6FF0FF03 		mvn	r3, #255
 10165              	.L734:
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10166              		.loc 1 4332 6 discriminator 4 view .LVU3445
 10167 03a8 1343     		orrs	r3, r3, r2
 10168 03aa 0993     		str	r3, [sp, #36]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10169              		.loc 1 4333 4 is_stmt 1 discriminator 4 view .LVU3446
 10170 03ac 3B70     		strb	r3, [r7]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10171              		.loc 1 4333 4 discriminator 4 view .LVU3447
 10172 03ae BDF82430 		ldrh	r3, [sp, #36]
 10173 03b2 1B0A     		lsrs	r3, r3, #8
 10174 03b4 7B70     		strb	r3, [r7, #1]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10175              		.loc 1 4333 4 discriminator 4 view .LVU3448
 10176 03b6 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 10177 03ba BB70     		strb	r3, [r7, #2]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10178              		.loc 1 4333 4 discriminator 4 view .LVU3449
 10179 03bc 9DF82730 		ldrb	r3, [sp, #39]	@ zero_extendqisi2
 10180 03c0 FB70     		strb	r3, [r7, #3]
 10181              	.L735:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10182              		.loc 1 4340 3 view .LVU3450
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10183              		.loc 1 4340 7 is_stmt 0 view .LVU3451
 10184 03c2 0BF1010A 		add	r10, fp, #1
 10185              	.LVL1115:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10186              		.loc 1 4340 7 view .LVU3452
 10187 03c6 0123     		movs	r3, #1
 10188 03c8 5A46     		mov	r2, fp
 10189 03ca 2946     		mov	r1, r5
 10190 03cc 2046     		mov	r0, r4
 10191 03ce FFF7FEFF 		bl	disk_write
 10192              	.LVL1116:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10193              		.loc 1 4340 6 view .LVU3453
 10194 03d2 0028     		cmp	r0, #0
 10195 03d4 40F00A81 		bne	.L766
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
 10196              		.loc 1 4342 3 is_stmt 1 view .LVU3454
 10197 03d8 4FF40072 		mov	r2, #512
 10198 03dc 0021     		movs	r1, #0
 10199 03de 2846     		mov	r0, r5
 10200 03e0 FFF7FEFF 		bl	mem_set
 10201              	.LVL1117:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10202              		.loc 1 4343 3 view .LVU3455
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10203              		.loc 1 4343 10 is_stmt 0 view .LVU3456
 10204 03e4 0123     		movs	r3, #1
 10205 03e6 0993     		str	r3, [sp, #36]
 10206 03e8 5246     		mov	r2, r10
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
ARM GAS  /tmp/cciFFPmJ.s 			page 310


 10207              		.loc 1 4343 3 view .LVU3457
 10208 03ea 73E0     		b	.L736
 10209              	.LVL1118:
 10210              	.L777:
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10211              		.loc 1 4292 28 view .LVU3458
 10212 03ec 0023     		movs	r3, #0
 10213 03ee 70E7     		b	.L727
 10214              	.LVL1119:
 10215              	.L728:
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10216              		.loc 1 4297 3 is_stmt 1 view .LVU3459
 10217 03f0 87F82030 		strb	r3, [r7, #32]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10218              		.loc 1 4297 3 view .LVU3460
 10219 03f4 C3F30722 		ubfx	r2, r3, #8, #8
 10220 03f8 87F82120 		strb	r2, [r7, #33]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10221              		.loc 1 4297 3 view .LVU3461
 10222 03fc C3F30742 		ubfx	r2, r3, #16, #8
 10223 0400 87F82220 		strb	r2, [r7, #34]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10224              		.loc 1 4297 3 view .LVU3462
 10225 0404 1B0E     		lsrs	r3, r3, #24
 10226 0406 87F82330 		strb	r3, [r7, #35]
 10227 040a 70E7     		b	.L729
 10228              	.L778:
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10229              		.loc 1 4305 3 view .LVU3463
 10230 040c 87F84300 		strb	r0, [r7, #67]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10231              		.loc 1 4305 3 view .LVU3464
 10232 0410 C0F30723 		ubfx	r3, r0, #8, #8
 10233 0414 87F84430 		strb	r3, [r7, #68]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10234              		.loc 1 4305 3 view .LVU3465
 10235 0418 C0F30743 		ubfx	r3, r0, #16, #8
 10236 041c 87F84530 		strb	r3, [r7, #69]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10237              		.loc 1 4305 3 view .LVU3466
 10238 0420 000E     		lsrs	r0, r0, #24
 10239 0422 87F84600 		strb	r0, [r7, #70]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10240              		.loc 1 4306 3 view .LVU3467
 10241 0426 87F82480 		strb	r8, [r7, #36]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10242              		.loc 1 4306 3 view .LVU3468
 10243 042a C8F30723 		ubfx	r3, r8, #8, #8
 10244 042e 87F82530 		strb	r3, [r7, #37]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10245              		.loc 1 4306 3 view .LVU3469
 10246 0432 C8F30743 		ubfx	r3, r8, #16, #8
 10247 0436 87F82630 		strb	r3, [r7, #38]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10248              		.loc 1 4306 3 view .LVU3470
 10249 043a 4FEA1863 		lsr	r3, r8, #24
 10250 043e 87F82730 		strb	r3, [r7, #39]
ARM GAS  /tmp/cciFFPmJ.s 			page 311


4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10251              		.loc 1 4307 3 view .LVU3471
 10252 0442 0223     		movs	r3, #2
 10253 0444 87F82C30 		strb	r3, [r7, #44]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10254              		.loc 1 4307 3 view .LVU3472
 10255 0448 0023     		movs	r3, #0
 10256 044a 87F82D30 		strb	r3, [r7, #45]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10257              		.loc 1 4307 3 view .LVU3473
 10258 044e 87F82E30 		strb	r3, [r7, #46]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10259              		.loc 1 4307 3 view .LVU3474
 10260 0452 87F82F30 		strb	r3, [r7, #47]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 10261              		.loc 1 4308 3 view .LVU3475
 10262 0456 0122     		movs	r2, #1
 10263 0458 87F83020 		strb	r2, [r7, #48]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 10264              		.loc 1 4308 3 view .LVU3476
 10265 045c 87F83130 		strb	r3, [r7, #49]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 10266              		.loc 1 4309 3 view .LVU3477
 10267 0460 0622     		movs	r2, #6
 10268 0462 87F83220 		strb	r2, [r7, #50]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 10269              		.loc 1 4309 3 view .LVU3478
 10270 0466 87F83330 		strb	r3, [r7, #51]
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 10271              		.loc 1 4310 3 view .LVU3479
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 10272              		.loc 1 4310 20 is_stmt 0 view .LVU3480
 10273 046a 8023     		movs	r3, #128
 10274 046c 87F84030 		strb	r3, [r7, #64]
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 10275              		.loc 1 4311 3 is_stmt 1 view .LVU3481
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 10276              		.loc 1 4311 21 is_stmt 0 view .LVU3482
 10277 0470 2923     		movs	r3, #41
 10278 0472 87F84230 		strb	r3, [r7, #66]
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10279              		.loc 1 4312 3 is_stmt 1 view .LVU3483
 10280 0476 1322     		movs	r2, #19
 10281 0478 6049     		ldr	r1, .L788+8
 10282 047a 07F14700 		add	r0, r7, #71
 10283 047e FFF7FEFF 		bl	mem_cpy
 10284              	.LVL1120:
 10285 0482 67E7     		b	.L731
 10286              	.L779:
4324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10287              		.loc 1 4324 3 view .LVU3484
 10288 0484 0123     		movs	r3, #1
 10289 0486 019A     		ldr	r2, [sp, #4]
 10290 0488 0632     		adds	r2, r2, #6
 10291 048a 3946     		mov	r1, r7
 10292 048c 2046     		mov	r0, r4
 10293 048e FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/cciFFPmJ.s 			page 312


 10294              	.LVL1121:
 10295 0492 72E7     		b	.L732
 10296              	.LVL1122:
 10297              	.L781:
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10298              		.loc 1 4332 40 is_stmt 0 view .LVU3485
 10299 0494 5A4B     		ldr	r3, .L788+12
 10300 0496 87E7     		b	.L734
 10301              	.L733:
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
 10302              		.loc 1 4335 4 is_stmt 1 view .LVU3486
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
 10303              		.loc 1 4335 6 is_stmt 0 view .LVU3487
 10304 0498 049B     		ldr	r3, [sp, #16]
 10305 049a 63F0FF03 		orn	r3, r3, #255
 10306 049e 0993     		str	r3, [sp, #36]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10307              		.loc 1 4336 4 is_stmt 1 view .LVU3488
 10308 04a0 3B70     		strb	r3, [r7]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10309              		.loc 1 4336 4 view .LVU3489
 10310 04a2 BDF82430 		ldrh	r3, [sp, #36]
 10311 04a6 1B0A     		lsrs	r3, r3, #8
 10312 04a8 7B70     		strb	r3, [r7, #1]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10313              		.loc 1 4336 4 view .LVU3490
 10314 04aa 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 10315 04ae BB70     		strb	r3, [r7, #2]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10316              		.loc 1 4336 4 view .LVU3491
 10317 04b0 9DF82730 		ldrb	r3, [sp, #39]	@ zero_extendqisi2
 10318 04b4 FB70     		strb	r3, [r7, #3]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10319              		.loc 1 4337 4 view .LVU3492
 10320 04b6 FF23     		movs	r3, #255
 10321 04b8 3B71     		strb	r3, [r7, #4]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10322              		.loc 1 4337 4 view .LVU3493
 10323 04ba 7B71     		strb	r3, [r7, #5]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10324              		.loc 1 4337 4 view .LVU3494
 10325 04bc BB71     		strb	r3, [r7, #6]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10326              		.loc 1 4337 4 view .LVU3495
 10327 04be FB71     		strb	r3, [r7, #7]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10328              		.loc 1 4338 4 view .LVU3496
 10329 04c0 3B72     		strb	r3, [r7, #8]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10330              		.loc 1 4338 4 view .LVU3497
 10331 04c2 7B72     		strb	r3, [r7, #9]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10332              		.loc 1 4338 4 view .LVU3498
 10333 04c4 BB72     		strb	r3, [r7, #10]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10334              		.loc 1 4338 4 view .LVU3499
 10335 04c6 0F23     		movs	r3, #15
ARM GAS  /tmp/cciFFPmJ.s 			page 313


 10336 04c8 FB72     		strb	r3, [r7, #11]
 10337 04ca 7AE7     		b	.L735
 10338              	.L783:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10339              		.loc 1 4343 26 discriminator 2 view .LVU3500
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10340              		.loc 1 4343 27 is_stmt 0 discriminator 2 view .LVU3501
 10341 04cc 099B     		ldr	r3, [sp, #36]
 10342 04ce 0133     		adds	r3, r3, #1
 10343 04d0 0993     		str	r3, [sp, #36]
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10344              		.loc 1 4344 8 discriminator 2 view .LVU3502
 10345 04d2 5A46     		mov	r2, fp
 10346              	.LVL1123:
 10347              	.L736:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10348              		.loc 1 4343 15 is_stmt 1 discriminator 1 view .LVU3503
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10349              		.loc 1 4343 17 is_stmt 0 discriminator 1 view .LVU3504
 10350 04d4 099B     		ldr	r3, [sp, #36]
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10351              		.loc 1 4343 3 discriminator 1 view .LVU3505
 10352 04d6 9845     		cmp	r8, r3
 10353 04d8 0AD9     		bls	.L782
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10354              		.loc 1 4344 4 is_stmt 1 view .LVU3506
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10355              		.loc 1 4344 8 is_stmt 0 view .LVU3507
 10356 04da 02F1010B 		add	fp, r2, #1
 10357              	.LVL1124:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10358              		.loc 1 4344 8 view .LVU3508
 10359 04de 0123     		movs	r3, #1
 10360 04e0 2946     		mov	r1, r5
 10361 04e2 2046     		mov	r0, r4
 10362 04e4 FFF7FEFF 		bl	disk_write
 10363              	.LVL1125:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10364              		.loc 1 4344 7 view .LVU3509
 10365 04e8 0028     		cmp	r0, #0
 10366 04ea EFD0     		beq	.L783
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10367              		.loc 1 4345 12 view .LVU3510
 10368 04ec 0120     		movs	r0, #1
 10369 04ee 68E0     		b	.L704
 10370              	.LVL1126:
 10371              	.L782:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10372              		.loc 1 4328 26 is_stmt 1 discriminator 2 view .LVU3511
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10373              		.loc 1 4328 27 is_stmt 0 discriminator 2 view .LVU3512
 10374 04f0 0136     		adds	r6, r6, #1
 10375              	.LVL1127:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10376              		.loc 1 4328 27 discriminator 2 view .LVU3513
 10377 04f2 9346     		mov	fp, r2
 10378 04f4 46E7     		b	.L738
ARM GAS  /tmp/cciFFPmJ.s 			page 314


 10379              	.LVL1128:
 10380              	.L780:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10381              		.loc 1 4328 27 discriminator 2 view .LVU3514
 10382 04f6 CDF80CB0 		str	fp, [sp, #12]
 10383              	.LVL1129:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10384              		.loc 1 4328 27 discriminator 2 view .LVU3515
 10385 04fa 069E     		ldr	r6, [sp, #24]
 10386              	.LVL1130:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10387              		.loc 1 4350 2 is_stmt 1 view .LVU3516
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10388              		.loc 1 4350 29 is_stmt 0 view .LVU3517
 10389 04fc B9F1030F 		cmp	r9, #3
 10390 0500 1AD0     		beq	.L784
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10391              		.loc 1 4350 29 view .LVU3518
 10392 0502 DDF80880 		ldr	r8, [sp, #8]
 10393              	.LVL1131:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10394              		.loc 1 4350 29 view .LVU3519
 10395 0506 039E     		ldr	r6, [sp, #12]
 10396              	.LVL1132:
 10397              	.L741:
4351:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10398              		.loc 1 4351 2 is_stmt 1 view .LVU3520
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10399              		.loc 1 4352 3 view .LVU3521
 10400 0508 3246     		mov	r2, r6
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10401              		.loc 1 4352 7 is_stmt 0 view .LVU3522
 10402 050a 0123     		movs	r3, #1
 10403 050c 1E44     		add	r6, r6, r3
 10404              	.LVL1133:
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10405              		.loc 1 4352 7 view .LVU3523
 10406 050e 2946     		mov	r1, r5
 10407 0510 2046     		mov	r0, r4
 10408 0512 FFF7FEFF 		bl	disk_write
 10409              	.LVL1134:
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10410              		.loc 1 4352 6 view .LVU3524
 10411 0516 0028     		cmp	r0, #0
 10412 0518 6AD1     		bne	.L768
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10413              		.loc 1 4354 10 is_stmt 1 view .LVU3525
 10414              	.LVL1135:
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10415              		.loc 1 4354 2 is_stmt 0 view .LVU3526
 10416 051a B8F10108 		subs	r8, r8, #1
 10417              	.LVL1136:
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10418              		.loc 1 4354 2 view .LVU3527
 10419 051e F3D1     		bne	.L741
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 10420              		.loc 1 4364 2 is_stmt 1 view .LVU3528
ARM GAS  /tmp/cciFFPmJ.s 			page 315


4364:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 10421              		.loc 1 4364 5 is_stmt 0 view .LVU3529
 10422 0520 B9F1030F 		cmp	r9, #3
 10423 0524 0BD0     		beq	.L785
 10424              	.LVL1137:
 10425              	.L742:
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10426              		.loc 1 4374 2 is_stmt 1 view .LVU3530
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10427              		.loc 1 4374 10 is_stmt 0 view .LVU3531
 10428 0526 0022     		movs	r2, #0
 10429 0528 1146     		mov	r1, r2
 10430 052a 2046     		mov	r0, r4
 10431 052c FFF7FEFF 		bl	disk_ioctl
 10432              	.LVL1138:
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10433              		.loc 1 4374 60 view .LVU3532
 10434 0530 0038     		subs	r0, r0, #0
 10435 0532 18BF     		it	ne
 10436 0534 0120     		movne	r0, #1
 10437 0536 44E0     		b	.L704
 10438              	.LVL1139:
 10439              	.L784:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10440              		.loc 1 4350 29 view .LVU3533
 10441 0538 B046     		mov	r8, r6
 10442              	.LVL1140:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10443              		.loc 1 4350 29 view .LVU3534
 10444 053a 5E46     		mov	r6, fp
 10445 053c E4E7     		b	.L741
 10446              	.LVL1141:
 10447              	.L785:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10448              		.loc 1 4365 3 is_stmt 1 view .LVU3535
 10449 053e 5223     		movs	r3, #82
 10450 0540 3B70     		strb	r3, [r7]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10451              		.loc 1 4365 3 view .LVU3536
 10452 0542 7B70     		strb	r3, [r7, #1]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10453              		.loc 1 4365 3 view .LVU3537
 10454 0544 6123     		movs	r3, #97
 10455 0546 BB70     		strb	r3, [r7, #2]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10456              		.loc 1 4365 3 view .LVU3538
 10457 0548 4122     		movs	r2, #65
 10458 054a FA70     		strb	r2, [r7, #3]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10459              		.loc 1 4366 3 view .LVU3539
 10460 054c 7221     		movs	r1, #114
 10461 054e 87F8E411 		strb	r1, [r7, #484]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10462              		.loc 1 4366 3 view .LVU3540
 10463 0552 87F8E511 		strb	r1, [r7, #485]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10464              		.loc 1 4366 3 view .LVU3541
ARM GAS  /tmp/cciFFPmJ.s 			page 316


 10465 0556 87F8E621 		strb	r2, [r7, #486]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10466              		.loc 1 4366 3 view .LVU3542
 10467 055a 87F8E731 		strb	r3, [r7, #487]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10468              		.loc 1 4367 3 view .LVU3543
 10469 055e 059A     		ldr	r2, [sp, #20]
 10470 0560 531E     		subs	r3, r2, #1
 10471 0562 87F8E831 		strb	r3, [r7, #488]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10472              		.loc 1 4367 3 view .LVU3544
 10473 0566 531E     		subs	r3, r2, #1
 10474 0568 C3F30723 		ubfx	r3, r3, #8, #8
 10475 056c 87F8E931 		strb	r3, [r7, #489]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10476              		.loc 1 4367 3 view .LVU3545
 10477 0570 531E     		subs	r3, r2, #1
 10478 0572 C3F30742 		ubfx	r2, r3, #16, #8
 10479 0576 87F8EA21 		strb	r2, [r7, #490]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10480              		.loc 1 4367 3 view .LVU3546
 10481 057a 1B0E     		lsrs	r3, r3, #24
 10482 057c 87F8EB31 		strb	r3, [r7, #491]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10483              		.loc 1 4368 3 view .LVU3547
 10484 0580 0223     		movs	r3, #2
 10485 0582 87F8EC31 		strb	r3, [r7, #492]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10486              		.loc 1 4368 3 view .LVU3548
 10487 0586 0023     		movs	r3, #0
 10488 0588 87F8ED31 		strb	r3, [r7, #493]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10489              		.loc 1 4368 3 view .LVU3549
 10490 058c 87F8EE31 		strb	r3, [r7, #494]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10491              		.loc 1 4368 3 view .LVU3550
 10492 0590 87F8EF31 		strb	r3, [r7, #495]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
 10493              		.loc 1 4369 3 view .LVU3551
 10494 0594 5523     		movs	r3, #85
 10495 0596 87F8FE31 		strb	r3, [r7, #510]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
 10496              		.loc 1 4369 3 view .LVU3552
 10497 059a AA23     		movs	r3, #170
 10498 059c 87F8FF31 		strb	r3, [r7, #511]
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
 10499              		.loc 1 4370 3 view .LVU3553
 10500 05a0 0123     		movs	r3, #1
 10501 05a2 019D     		ldr	r5, [sp, #4]
 10502              	.LVL1142:
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
 10503              		.loc 1 4370 3 is_stmt 0 view .LVU3554
 10504 05a4 2A46     		mov	r2, r5
 10505 05a6 1A44     		add	r2, r2, r3
 10506 05a8 3946     		mov	r1, r7
 10507 05aa 2046     		mov	r0, r4
 10508 05ac FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/cciFFPmJ.s 			page 317


 10509              	.LVL1143:
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10510              		.loc 1 4371 3 is_stmt 1 view .LVU3555
 10511 05b0 0123     		movs	r3, #1
 10512 05b2 2A46     		mov	r2, r5
 10513 05b4 0732     		adds	r2, r2, #7
 10514 05b6 3946     		mov	r1, r7
 10515 05b8 2046     		mov	r0, r4
 10516 05ba FFF7FEFF 		bl	disk_write
 10517              	.LVL1144:
 10518 05be B2E7     		b	.L742
 10519              	.LVL1145:
 10520              	.L743:
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 10521              		.loc 1 4160 22 is_stmt 0 view .LVU3556
 10522 05c0 1320     		movs	r0, #19
 10523              	.LVL1146:
 10524              	.L704:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10525              		.loc 1 4375 1 view .LVU3557
 10526 05c2 0BB0     		add	sp, sp, #44
 10527              	.LCFI110:
 10528              		.cfi_remember_state
 10529              		.cfi_def_cfa_offset 36
 10530              		@ sp needed
 10531 05c4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 10532              	.LVL1147:
 10533              	.L744:
 10534              	.LCFI111:
 10535              		.cfi_restore_state
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 10536              		.loc 1 4162 22 view .LVU3558
 10537 05c8 0B20     		movs	r0, #11
 10538              	.LVL1148:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 10539              		.loc 1 4162 22 view .LVU3559
 10540 05ca FAE7     		b	.L704
 10541              	.LVL1149:
 10542              	.L745:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 10543              		.loc 1 4164 18 view .LVU3560
 10544 05cc 0C20     		movs	r0, #12
 10545              	.LVL1150:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 10546              		.loc 1 4164 18 view .LVU3561
 10547 05ce F8E7     		b	.L704
 10548              	.LVL1151:
 10549              	.L746:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10550              		.loc 1 4171 32 view .LVU3562
 10551 05d0 0320     		movs	r0, #3
 10552              	.LVL1152:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10553              		.loc 1 4171 32 view .LVU3563
 10554 05d2 F6E7     		b	.L704
 10555              	.LVL1153:
 10556              	.L747:
ARM GAS  /tmp/cciFFPmJ.s 			page 318


4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 10557              		.loc 1 4172 33 view .LVU3564
 10558 05d4 0A20     		movs	r0, #10
 10559              	.LVL1154:
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 10560              		.loc 1 4172 33 view .LVU3565
 10561 05d6 F4E7     		b	.L704
 10562              	.L748:
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
 10563              		.loc 1 4188 11 view .LVU3566
 10564 05d8 0120     		movs	r0, #1
 10565 05da F2E7     		b	.L704
 10566              	.L749:
 10567 05dc 0120     		movs	r0, #1
 10568 05de F0E7     		b	.L704
 10569              	.LVL1155:
 10570              	.L755:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10571              		.loc 1 4223 42 view .LVU3567
 10572 05e0 0E20     		movs	r0, #14
 10573              	.LVL1156:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10574              		.loc 1 4223 42 view .LVU3568
 10575 05e2 EEE7     		b	.L704
 10576              	.LVL1157:
 10577              	.L762:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
 10578              		.loc 1 4278 12 view .LVU3569
 10579 05e4 0120     		movs	r0, #1
 10580 05e6 ECE7     		b	.L704
 10581              	.LVL1158:
 10582              	.L764:
4322:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
 10583              		.loc 1 4322 10 view .LVU3570
 10584 05e8 0120     		movs	r0, #1
 10585 05ea EAE7     		b	.L704
 10586              	.LVL1159:
 10587              	.L766:
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
 10588              		.loc 1 4341 11 view .LVU3571
 10589 05ec 0120     		movs	r0, #1
 10590 05ee E8E7     		b	.L704
 10591              	.LVL1160:
 10592              	.L768:
4353:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
 10593              		.loc 1 4353 11 view .LVU3572
 10594 05f0 0120     		movs	r0, #1
 10595 05f2 E6E7     		b	.L704
 10596              	.L789:
 10597              		.align	2
 10598              	.L788:
 10599 05f4 00000000 		.word	.LC1
 10600 05f8 20000000 		.word	.LC3
 10601 05fc 0C000000 		.word	.LC2
 10602 0600 00FFFF00 		.word	16776960
 10603              		.cfi_endproc
 10604              	.LFE117:
ARM GAS  /tmp/cciFFPmJ.s 			page 319


 10606              		.section	.text.f_gets,"ax",%progbits
 10607              		.align	1
 10608              		.global	f_gets
 10609              		.syntax unified
 10610              		.thumb
 10611              		.thumb_func
 10612              		.fpu softvfp
 10614              	f_gets:
 10615              	.LVL1161:
 10616              	.LFB118:
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 10617              		.loc 1 4462 1 is_stmt 1 view -0
 10618              		.cfi_startproc
 10619              		@ args = 0, pretend = 0, frame = 8
 10620              		@ frame_needed = 0, uses_anonymous_args = 0
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 10621              		.loc 1 4462 1 is_stmt 0 view .LVU3574
 10622 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 10623              	.LCFI112:
 10624              		.cfi_def_cfa_offset 24
 10625              		.cfi_offset 4, -24
 10626              		.cfi_offset 5, -20
 10627              		.cfi_offset 6, -16
 10628              		.cfi_offset 7, -12
 10629              		.cfi_offset 8, -8
 10630              		.cfi_offset 14, -4
 10631 0004 82B0     		sub	sp, sp, #8
 10632              	.LCFI113:
 10633              		.cfi_def_cfa_offset 32
 10634 0006 8046     		mov	r8, r0
 10635 0008 0E46     		mov	r6, r1
 10636 000a 1746     		mov	r7, r2
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 10637              		.loc 1 4463 2 is_stmt 1 view .LVU3575
 10638              	.LVL1162:
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 10639              		.loc 1 4464 2 view .LVU3576
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
 10640              		.loc 1 4465 2 view .LVU3577
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10641              		.loc 1 4466 2 view .LVU3578
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10642              		.loc 1 4469 2 view .LVU3579
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 10643              		.loc 1 4464 12 is_stmt 0 view .LVU3580
 10644 000c 0446     		mov	r4, r0
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 10645              		.loc 1 4463 6 view .LVU3581
 10646 000e 0025     		movs	r5, #0
 10647              	.LVL1163:
 10648              	.L791:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10649              		.loc 1 4469 8 is_stmt 1 view .LVU3582
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10650              		.loc 1 4469 17 is_stmt 0 view .LVU3583
 10651 0010 731E     		subs	r3, r6, #1
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
ARM GAS  /tmp/cciFFPmJ.s 			page 320


 10652              		.loc 1 4469 8 view .LVU3584
 10653 0012 AB42     		cmp	r3, r5
 10654 0014 11DD     		ble	.L792
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 10655              		.loc 1 4514 3 is_stmt 1 view .LVU3585
 10656 0016 6B46     		mov	r3, sp
 10657 0018 0122     		movs	r2, #1
 10658 001a 01A9     		add	r1, sp, #4
 10659 001c 3846     		mov	r0, r7
 10660 001e FFF7FEFF 		bl	f_read
 10661              	.LVL1164:
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 10662              		.loc 1 4515 3 view .LVU3586
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 10663              		.loc 1 4515 10 is_stmt 0 view .LVU3587
 10664 0022 009B     		ldr	r3, [sp]
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 10665              		.loc 1 4515 6 view .LVU3588
 10666 0024 012B     		cmp	r3, #1
 10667 0026 08D1     		bne	.L792
4516:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10668              		.loc 1 4516 3 is_stmt 1 view .LVU3589
4516:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10669              		.loc 1 4516 5 is_stmt 0 view .LVU3590
 10670 0028 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 10671              	.LVL1165:
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 10672              		.loc 1 4518 3 is_stmt 1 view .LVU3591
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 10673              		.loc 1 4518 6 is_stmt 0 view .LVU3592
 10674 002c 0D2B     		cmp	r3, #13
 10675 002e EFD0     		beq	.L791
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10676              		.loc 1 4519 3 is_stmt 1 view .LVU3593
 10677              	.LVL1166:
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10678              		.loc 1 4519 8 is_stmt 0 view .LVU3594
 10679 0030 04F8013B 		strb	r3, [r4], #1
 10680              	.LVL1167:
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 10681              		.loc 1 4520 3 is_stmt 1 view .LVU3595
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 10682              		.loc 1 4520 4 is_stmt 0 view .LVU3596
 10683 0034 0135     		adds	r5, r5, #1
 10684              	.LVL1168:
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10685              		.loc 1 4521 3 is_stmt 1 view .LVU3597
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10686              		.loc 1 4521 6 is_stmt 0 view .LVU3598
 10687 0036 0A2B     		cmp	r3, #10
 10688 0038 EAD1     		bne	.L791
 10689              	.LVL1169:
 10690              	.L792:
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 10691              		.loc 1 4523 2 is_stmt 1 view .LVU3599
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 10692              		.loc 1 4523 5 is_stmt 0 view .LVU3600
ARM GAS  /tmp/cciFFPmJ.s 			page 321


 10693 003a 0023     		movs	r3, #0
 10694 003c 2370     		strb	r3, [r4]
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10695              		.loc 1 4524 2 is_stmt 1 view .LVU3601
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10696              		.loc 1 4524 18 is_stmt 0 view .LVU3602
 10697 003e 1DB1     		cbz	r5, .L798
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10698              		.loc 1 4524 18 view .LVU3603
 10699 0040 4046     		mov	r0, r8
 10700              	.L790:
4525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10701              		.loc 1 4525 1 view .LVU3604
 10702 0042 02B0     		add	sp, sp, #8
 10703              	.LCFI114:
 10704              		.cfi_remember_state
 10705              		.cfi_def_cfa_offset 24
 10706              		@ sp needed
 10707 0044 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 10708              	.LVL1170:
 10709              	.L798:
 10710              	.LCFI115:
 10711              		.cfi_restore_state
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10712              		.loc 1 4524 18 view .LVU3605
 10713 0048 0020     		movs	r0, #0
 10714 004a FAE7     		b	.L790
 10715              		.cfi_endproc
 10716              	.LFE118:
 10718              		.section	.text.f_putc,"ax",%progbits
 10719              		.align	1
 10720              		.global	f_putc
 10721              		.syntax unified
 10722              		.thumb
 10723              		.thumb_func
 10724              		.fpu softvfp
 10726              	f_putc:
 10727              	.LVL1171:
 10728              	.LFB120:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 
4598:Middlewares/Third_Party/FatFs/src/ff.c **** 
4599:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
4600:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4602:Middlewares/Third_Party/FatFs/src/ff.c **** )
4603:Middlewares/Third_Party/FatFs/src/ff.c **** {
 10729              		.loc 1 4603 1 is_stmt 1 view -0
 10730              		.cfi_startproc
 10731              		@ args = 0, pretend = 0, frame = 80
 10732              		@ frame_needed = 0, uses_anonymous_args = 0
 10733              		.loc 1 4603 1 is_stmt 0 view .LVU3607
 10734 0000 00B5     		push	{lr}
 10735              	.LCFI116:
 10736              		.cfi_def_cfa_offset 4
 10737              		.cfi_offset 14, -4
 10738 0002 95B0     		sub	sp, sp, #84
ARM GAS  /tmp/cciFFPmJ.s 			page 322


 10739              	.LCFI117:
 10740              		.cfi_def_cfa_offset 88
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 10741              		.loc 1 4604 2 is_stmt 1 view .LVU3608
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 10742              		.loc 1 4605 2 view .LVU3609
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;			/* Initialize output buffer */
 10743              		.loc 1 4608 2 view .LVU3610
 10744              		.loc 1 4608 8 is_stmt 0 view .LVU3611
 10745 0004 0191     		str	r1, [sp, #4]
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 10746              		.loc 1 4609 2 is_stmt 1 view .LVU3612
 10747              		.loc 1 4609 19 is_stmt 0 view .LVU3613
 10748 0006 0023     		movs	r3, #0
 10749 0008 0293     		str	r3, [sp, #8]
 10750              		.loc 1 4609 10 view .LVU3614
 10751 000a 0393     		str	r3, [sp, #12]
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put a character */
 10752              		.loc 1 4611 2 is_stmt 1 view .LVU3615
 10753 000c 0146     		mov	r1, r0
 10754              	.LVL1172:
 10755              		.loc 1 4611 2 is_stmt 0 view .LVU3616
 10756 000e 01A8     		add	r0, sp, #4
 10757              	.LVL1173:
 10758              		.loc 1 4611 2 view .LVU3617
 10759 0010 FFF7FEFF 		bl	putc_bfd
 10760              	.LVL1174:
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0	/* Flush buffered characters to the file */
 10761              		.loc 1 4613 2 is_stmt 1 view .LVU3618
 10762              		.loc 1 4613 11 is_stmt 0 view .LVU3619
 10763 0014 029A     		ldr	r2, [sp, #8]
 10764              		.loc 1 4613 5 view .LVU3620
 10765 0016 002A     		cmp	r2, #0
 10766 0018 0DDB     		blt	.L802
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 10767              		.loc 1 4614 6 view .LVU3621
 10768 001a 6B46     		mov	r3, sp
 10769 001c 04A9     		add	r1, sp, #16
 10770 001e 0198     		ldr	r0, [sp, #4]
 10771 0020 FFF7FEFF 		bl	f_write
 10772              	.LVL1175:
 10773              		.loc 1 4614 3 view .LVU3622
 10774 0024 50B9     		cbnz	r0, .L803
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 10775              		.loc 1 4615 3 view .LVU3623
 10776 0026 029A     		ldr	r2, [sp, #8]
 10777 0028 009B     		ldr	r3, [sp]
 10778 002a 9A42     		cmp	r2, r3
 10779 002c 09D1     		bne	.L804
 10780              		.loc 1 4615 26 is_stmt 1 discriminator 1 view .LVU3624
 10781              		.loc 1 4615 35 is_stmt 0 discriminator 1 view .LVU3625
 10782 002e 0398     		ldr	r0, [sp, #12]
 10783              	.L800:
ARM GAS  /tmp/cciFFPmJ.s 			page 323


4616:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4617:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10784              		.loc 1 4617 1 view .LVU3626
 10785 0030 15B0     		add	sp, sp, #84
 10786              	.LCFI118:
 10787              		.cfi_remember_state
 10788              		.cfi_def_cfa_offset 4
 10789              		@ sp needed
 10790 0032 5DF804FB 		ldr	pc, [sp], #4
 10791              	.L802:
 10792              	.LCFI119:
 10793              		.cfi_restore_state
4616:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 10794              		.loc 1 4616 9 view .LVU3627
 10795 0036 4FF0FF30 		mov	r0, #-1
 10796 003a F9E7     		b	.L800
 10797              	.L803:
 10798 003c 4FF0FF30 		mov	r0, #-1
 10799 0040 F6E7     		b	.L800
 10800              	.L804:
 10801 0042 4FF0FF30 		mov	r0, #-1
 10802 0046 F3E7     		b	.L800
 10803              		.cfi_endproc
 10804              	.LFE120:
 10806              		.section	.text.f_puts,"ax",%progbits
 10807              		.align	1
 10808              		.global	f_puts
 10809              		.syntax unified
 10810              		.thumb
 10811              		.thumb_func
 10812              		.fpu softvfp
 10814              	f_puts:
 10815              	.LVL1176:
 10816              	.LFB121:
4618:Middlewares/Third_Party/FatFs/src/ff.c **** 
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** 
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 
4622:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4623:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
4624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 
4626:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
4629:Middlewares/Third_Party/FatFs/src/ff.c **** )
4630:Middlewares/Third_Party/FatFs/src/ff.c **** {
 10817              		.loc 1 4630 1 is_stmt 1 view -0
 10818              		.cfi_startproc
 10819              		@ args = 0, pretend = 0, frame = 80
 10820              		@ frame_needed = 0, uses_anonymous_args = 0
 10821              		.loc 1 4630 1 is_stmt 0 view .LVU3629
 10822 0000 10B5     		push	{r4, lr}
 10823              	.LCFI120:
 10824              		.cfi_def_cfa_offset 8
 10825              		.cfi_offset 4, -8
 10826              		.cfi_offset 14, -4
ARM GAS  /tmp/cciFFPmJ.s 			page 324


 10827 0002 94B0     		sub	sp, sp, #80
 10828              	.LCFI121:
 10829              		.cfi_def_cfa_offset 88
 10830 0004 0446     		mov	r4, r0
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 10831              		.loc 1 4631 2 is_stmt 1 view .LVU3630
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 10832              		.loc 1 4632 2 view .LVU3631
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 10833              		.loc 1 4635 2 view .LVU3632
 10834              		.loc 1 4635 8 is_stmt 0 view .LVU3633
 10835 0006 0191     		str	r1, [sp, #4]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 10836              		.loc 1 4636 2 is_stmt 1 view .LVU3634
 10837              		.loc 1 4636 19 is_stmt 0 view .LVU3635
 10838 0008 0023     		movs	r3, #0
 10839 000a 0293     		str	r3, [sp, #8]
 10840              		.loc 1 4636 10 view .LVU3636
 10841 000c 0393     		str	r3, [sp, #12]
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str)			/* Put the string */
 10842              		.loc 1 4638 2 is_stmt 1 view .LVU3637
 10843              	.LVL1177:
 10844              	.L807:
 10845              		.loc 1 4638 8 view .LVU3638
 10846              		.loc 1 4638 9 is_stmt 0 view .LVU3639
 10847 000e 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 10848              		.loc 1 4638 8 view .LVU3640
 10849 0010 21B1     		cbz	r1, .L814
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 10850              		.loc 1 4639 3 is_stmt 1 view .LVU3641
 10851              		.loc 1 4639 21 is_stmt 0 view .LVU3642
 10852 0012 0134     		adds	r4, r4, #1
 10853              	.LVL1178:
 10854              		.loc 1 4639 3 view .LVU3643
 10855 0014 01A8     		add	r0, sp, #4
 10856 0016 FFF7FEFF 		bl	putc_bfd
 10857              	.LVL1179:
 10858 001a F8E7     		b	.L807
 10859              	.L814:
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 10860              		.loc 1 4641 2 is_stmt 1 view .LVU3644
 10861              		.loc 1 4641 11 is_stmt 0 view .LVU3645
 10862 001c 029A     		ldr	r2, [sp, #8]
 10863              		.loc 1 4641 5 view .LVU3646
 10864 001e 002A     		cmp	r2, #0
 10865 0020 0CDB     		blt	.L810
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 10866              		.loc 1 4642 6 view .LVU3647
 10867 0022 6B46     		mov	r3, sp
 10868 0024 04A9     		add	r1, sp, #16
 10869 0026 0198     		ldr	r0, [sp, #4]
 10870 0028 FFF7FEFF 		bl	f_write
 10871              	.LVL1180:
ARM GAS  /tmp/cciFFPmJ.s 			page 325


 10872              		.loc 1 4642 3 view .LVU3648
 10873 002c 48B9     		cbnz	r0, .L811
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 10874              		.loc 1 4643 3 view .LVU3649
 10875 002e 029A     		ldr	r2, [sp, #8]
 10876 0030 009B     		ldr	r3, [sp]
 10877 0032 9A42     		cmp	r2, r3
 10878 0034 08D1     		bne	.L812
 10879              		.loc 1 4643 26 is_stmt 1 discriminator 1 view .LVU3650
 10880              		.loc 1 4643 35 is_stmt 0 discriminator 1 view .LVU3651
 10881 0036 0398     		ldr	r0, [sp, #12]
 10882              	.L806:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10883              		.loc 1 4645 1 view .LVU3652
 10884 0038 14B0     		add	sp, sp, #80
 10885              	.LCFI122:
 10886              		.cfi_remember_state
 10887              		.cfi_def_cfa_offset 8
 10888              		@ sp needed
 10889 003a 10BD     		pop	{r4, pc}
 10890              	.LVL1181:
 10891              	.L810:
 10892              	.LCFI123:
 10893              		.cfi_restore_state
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 10894              		.loc 1 4644 9 view .LVU3653
 10895 003c 4FF0FF30 		mov	r0, #-1
 10896 0040 FAE7     		b	.L806
 10897              	.L811:
 10898 0042 4FF0FF30 		mov	r0, #-1
 10899 0046 F7E7     		b	.L806
 10900              	.L812:
 10901 0048 4FF0FF30 		mov	r0, #-1
 10902 004c F4E7     		b	.L806
 10903              		.cfi_endproc
 10904              	.LFE121:
 10906              		.section	.text.f_printf,"ax",%progbits
 10907              		.align	1
 10908              		.global	f_printf
 10909              		.syntax unified
 10910              		.thumb
 10911              		.thumb_func
 10912              		.fpu softvfp
 10914              	f_printf:
 10915              	.LVL1182:
 10916              	.LFB122:
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 
4650:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4651:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
4652:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 
4654:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
ARM GAS  /tmp/cciFFPmJ.s 			page 326


4656:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** )
4659:Middlewares/Third_Party/FatFs/src/ff.c **** {
 10917              		.loc 1 4659 1 is_stmt 1 view -0
 10918              		.cfi_startproc
 10919              		@ args = 4, pretend = 12, frame = 104
 10920              		@ frame_needed = 0, uses_anonymous_args = 1
 10921              		.loc 1 4659 1 is_stmt 0 view .LVU3655
 10922 0000 0EB4     		push	{r1, r2, r3}
 10923              	.LCFI124:
 10924              		.cfi_def_cfa_offset 12
 10925              		.cfi_offset 1, -12
 10926              		.cfi_offset 2, -8
 10927              		.cfi_offset 3, -4
 10928 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 10929              	.LCFI125:
 10930              		.cfi_def_cfa_offset 44
 10931              		.cfi_offset 4, -44
 10932              		.cfi_offset 5, -40
 10933              		.cfi_offset 6, -36
 10934              		.cfi_offset 7, -32
 10935              		.cfi_offset 8, -28
 10936              		.cfi_offset 9, -24
 10937              		.cfi_offset 10, -20
 10938              		.cfi_offset 14, -16
 10939 0006 9BB0     		sub	sp, sp, #108
 10940              	.LCFI126:
 10941              		.cfi_def_cfa_offset 152
 10942 0008 23AB     		add	r3, sp, #140
 10943 000a 53F8045B 		ldr	r5, [r3], #4
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
 10944              		.loc 1 4660 2 is_stmt 1 view .LVU3656
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
 10945              		.loc 1 4661 2 view .LVU3657
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw, i, j, w;
 10946              		.loc 1 4662 2 view .LVU3658
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
 10947              		.loc 1 4663 2 view .LVU3659
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, s[16], *p;
 10948              		.loc 1 4664 2 view .LVU3660
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 10949              		.loc 1 4665 2 view .LVU3661
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 10950              		.loc 1 4668 2 view .LVU3662
 10951              		.loc 1 4668 8 is_stmt 0 view .LVU3663
 10952 000e 0190     		str	r0, [sp, #4]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 10953              		.loc 1 4669 2 is_stmt 1 view .LVU3664
 10954              		.loc 1 4669 19 is_stmt 0 view .LVU3665
 10955 0010 0022     		movs	r2, #0
 10956 0012 0292     		str	r2, [sp, #8]
 10957              		.loc 1 4669 10 view .LVU3666
 10958 0014 0392     		str	r2, [sp, #12]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cciFFPmJ.s 			page 327


4671:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 10959              		.loc 1 4671 2 is_stmt 1 view .LVU3667
 10960 0016 1993     		str	r3, [sp, #100]
 10961 0018 03E0     		b	.L816
 10962              	.LVL1183:
 10963              	.L871:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 10964              		.loc 1 4677 4 view .LVU3668
 10965 001a 01A8     		add	r0, sp, #4
 10966 001c FFF7FEFF 		bl	putc_bfd
 10967              	.LVL1184:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 10968              		.loc 1 4678 4 view .LVU3669
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 10969              		.loc 1 4674 11 is_stmt 0 view .LVU3670
 10970 0020 2546     		mov	r5, r4
 10971              	.LVL1185:
 10972              	.L816:
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 10973              		.loc 1 4673 2 is_stmt 1 view .LVU3671
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 10974              		.loc 1 4674 3 view .LVU3672
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 10975              		.loc 1 4674 11 is_stmt 0 view .LVU3673
 10976 0022 2C46     		mov	r4, r5
 10977              	.LVL1186:
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 10978              		.loc 1 4674 5 view .LVU3674
 10979 0024 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 10980              	.LVL1187:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 10981              		.loc 1 4675 3 is_stmt 1 view .LVU3675
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 10982              		.loc 1 4675 6 is_stmt 0 view .LVU3676
 10983 0028 0029     		cmp	r1, #0
 10984 002a 00F0F880 		beq	.L817
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 10985              		.loc 1 4676 3 is_stmt 1 view .LVU3677
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 10986              		.loc 1 4676 6 is_stmt 0 view .LVU3678
 10987 002e 2529     		cmp	r1, #37
 10988 0030 F3D1     		bne	.L871
4679:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 10989              		.loc 1 4680 3 is_stmt 1 view .LVU3679
 10990              	.LVL1188:
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 10991              		.loc 1 4681 3 view .LVU3680
 10992              		.loc 1 4681 11 is_stmt 0 view .LVU3681
 10993 0032 0235     		adds	r5, r5, #2
 10994              	.LVL1189:
 10995              		.loc 1 4681 5 view .LVU3682
ARM GAS  /tmp/cciFFPmJ.s 			page 328


 10996 0034 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 10997              	.LVL1190:
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 10998              		.loc 1 4682 3 is_stmt 1 view .LVU3683
 10999              		.loc 1 4682 6 is_stmt 0 view .LVU3684
 11000 0036 3029     		cmp	r1, #48
 11001 0038 04D0     		beq	.L872
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 11002              		.loc 1 4685 4 is_stmt 1 view .LVU3685
 11003              		.loc 1 4685 7 is_stmt 0 view .LVU3686
 11004 003a 2D29     		cmp	r1, #45
 11005 003c 06D0     		beq	.L873
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11006              		.loc 1 4680 9 view .LVU3687
 11007 003e 0026     		movs	r6, #0
 11008              	.LVL1191:
 11009              	.L821:
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11010              		.loc 1 4680 9 view .LVU3688
 11011 0040 0024     		movs	r4, #0
 11012 0042 0EE0     		b	.L822
 11013              	.LVL1192:
 11014              	.L872:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11015              		.loc 1 4683 4 is_stmt 1 view .LVU3689
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11016              		.loc 1 4683 11 view .LVU3690
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11017              		.loc 1 4683 19 is_stmt 0 view .LVU3691
 11018 0044 A51C     		adds	r5, r4, #2
 11019              	.LVL1193:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11020              		.loc 1 4683 13 view .LVU3692
 11021 0046 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 11022              	.LVL1194:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11023              		.loc 1 4683 6 view .LVU3693
 11024 0048 0126     		movs	r6, #1
 11025 004a F9E7     		b	.L821
 11026              	.LVL1195:
 11027              	.L873:
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 11028              		.loc 1 4686 5 is_stmt 1 view .LVU3694
 11029              		.loc 1 4686 12 view .LVU3695
 11030              		.loc 1 4686 20 is_stmt 0 view .LVU3696
 11031 004c A51C     		adds	r5, r4, #2
 11032              	.LVL1196:
 11033              		.loc 1 4686 14 view .LVU3697
 11034 004e 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 11035              	.LVL1197:
 11036              		.loc 1 4686 7 view .LVU3698
 11037 0050 0226     		movs	r6, #2
 11038 0052 F5E7     		b	.L821
 11039              	.LVL1198:
 11040              	.L823:
ARM GAS  /tmp/cciFFPmJ.s 			page 329


4687:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11041              		.loc 1 4690 4 is_stmt 1 view .LVU3699
 11042              		.loc 1 4690 10 is_stmt 0 view .LVU3700
 11043 0054 04EB8404 		add	r4, r4, r4, lsl #2
 11044              	.LVL1199:
 11045              		.loc 1 4690 15 view .LVU3701
 11046 0058 01EB4404 		add	r4, r1, r4, lsl #1
 11047              		.loc 1 4690 6 view .LVU3702
 11048 005c 303C     		subs	r4, r4, #48
 11049              	.LVL1200:
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 11050              		.loc 1 4691 4 is_stmt 1 view .LVU3703
 11051              		.loc 1 4691 6 is_stmt 0 view .LVU3704
 11052 005e 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 11053              	.LVL1201:
 11054              	.L822:
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11055              		.loc 1 4689 9 is_stmt 1 view .LVU3705
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11056              		.loc 1 4689 10 is_stmt 0 view .LVU3706
 11057 0062 A1F13003 		sub	r3, r1, #48
 11058 0066 DBB2     		uxtb	r3, r3
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11059              		.loc 1 4689 9 view .LVU3707
 11060 0068 092B     		cmp	r3, #9
 11061 006a F3D9     		bls	.L823
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 11062              		.loc 1 4693 3 is_stmt 1 view .LVU3708
 11063              		.loc 1 4693 6 is_stmt 0 view .LVU3709
 11064 006c 6C29     		cmp	r1, #108
 11065 006e 01D0     		beq	.L824
 11066              		.loc 1 4693 16 discriminator 1 view .LVU3710
 11067 0070 4C29     		cmp	r1, #76
 11068 0072 03D1     		bne	.L825
 11069              	.L824:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 11070              		.loc 1 4694 4 is_stmt 1 view .LVU3711
 11071              		.loc 1 4694 6 is_stmt 0 view .LVU3712
 11072 0074 46F00406 		orr	r6, r6, #4
 11073              	.LVL1202:
 11074              		.loc 1 4694 12 is_stmt 1 view .LVU3713
 11075              		.loc 1 4694 14 is_stmt 0 view .LVU3714
 11076 0078 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 11077              	.LVL1203:
 11078              	.L825:
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 11079              		.loc 1 4696 3 is_stmt 1 view .LVU3715
 11080              		.loc 1 4696 6 is_stmt 0 view .LVU3716
 11081 007c 0029     		cmp	r1, #0
 11082 007e 00F0CE80 		beq	.L817
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11083              		.loc 1 4697 3 is_stmt 1 view .LVU3717
ARM GAS  /tmp/cciFFPmJ.s 			page 330


 11084              	.LVL1204:
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 11085              		.loc 1 4698 3 view .LVU3718
 11086              		.loc 1 4698 7 is_stmt 0 view .LVU3719
 11087 0082 A1F16103 		sub	r3, r1, #97
 11088 0086 DBB2     		uxtb	r3, r3
 11089              		.loc 1 4698 6 view .LVU3720
 11090 0088 192B     		cmp	r3, #25
 11091 008a 14D8     		bhi	.L862
 11092              		.loc 1 4698 19 is_stmt 1 discriminator 1 view .LVU3721
 11093              		.loc 1 4698 21 is_stmt 0 discriminator 1 view .LVU3722
 11094 008c A1F12003 		sub	r3, r1, #32
 11095 0090 DBB2     		uxtb	r3, r3
 11096              	.LVL1205:
 11097              	.L826:
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 11098              		.loc 1 4699 3 is_stmt 1 view .LVU3723
 11099 0092 A3F14202 		sub	r2, r3, #66
 11100 0096 162A     		cmp	r2, #22
 11101 0098 53D8     		bhi	.L827
 11102 009a DFE802F0 		tbb	[pc, r2]
 11103              	.L829:
 11104 009e 56       		.byte	(.L834-.L829)/2
 11105 009f 3B       		.byte	(.L833-.L829)/2
 11106 00a0 43       		.byte	(.L830-.L829)/2
 11107 00a1 52       		.byte	(.L827-.L829)/2
 11108 00a2 52       		.byte	(.L827-.L829)/2
 11109 00a3 52       		.byte	(.L827-.L829)/2
 11110 00a4 52       		.byte	(.L827-.L829)/2
 11111 00a5 52       		.byte	(.L827-.L829)/2
 11112 00a6 52       		.byte	(.L827-.L829)/2
 11113 00a7 52       		.byte	(.L827-.L829)/2
 11114 00a8 52       		.byte	(.L827-.L829)/2
 11115 00a9 52       		.byte	(.L827-.L829)/2
 11116 00aa 52       		.byte	(.L827-.L829)/2
 11117 00ab 58       		.byte	(.L863-.L829)/2
 11118 00ac 52       		.byte	(.L827-.L829)/2
 11119 00ad 52       		.byte	(.L827-.L829)/2
 11120 00ae 52       		.byte	(.L827-.L829)/2
 11121 00af 0E       		.byte	(.L831-.L829)/2
 11122 00b0 52       		.byte	(.L827-.L829)/2
 11123 00b1 43       		.byte	(.L830-.L829)/2
 11124 00b2 52       		.byte	(.L827-.L829)/2
 11125 00b3 52       		.byte	(.L827-.L829)/2
 11126 00b4 50       		.byte	(.L828-.L829)/2
 11127              	.LVL1206:
 11128 00b5 00       		.p2align 1
 11129              	.L862:
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11130              		.loc 1 4697 5 is_stmt 0 view .LVU3724
 11131 00b6 0B46     		mov	r3, r1
 11132 00b8 EBE7     		b	.L826
 11133              	.LVL1207:
 11134              	.L831:
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 11135              		.loc 1 4701 4 is_stmt 1 view .LVU3725
ARM GAS  /tmp/cciFFPmJ.s 			page 331


 11136              		.loc 1 4701 6 is_stmt 0 view .LVU3726
 11137 00ba 199B     		ldr	r3, [sp, #100]
 11138              	.LVL1208:
 11139              		.loc 1 4701 6 view .LVU3727
 11140 00bc 1A1D     		adds	r2, r3, #4
 11141 00be 1992     		str	r2, [sp, #100]
 11142 00c0 D3F80080 		ldr	r8, [r3]
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 11143              		.loc 1 4702 4 is_stmt 1 view .LVU3728
 11144              	.LVL1209:
 11145              		.loc 1 4702 11 is_stmt 0 view .LVU3729
 11146 00c4 0027     		movs	r7, #0
 11147              		.loc 1 4702 4 view .LVU3730
 11148 00c6 00E0     		b	.L835
 11149              	.LVL1210:
 11150              	.L836:
 11151              		.loc 1 4702 27 is_stmt 1 discriminator 3 view .LVU3731
 11152              		.loc 1 4702 22 discriminator 3 view .LVU3732
 11153              		.loc 1 4702 23 is_stmt 0 discriminator 3 view .LVU3733
 11154 00c8 0137     		adds	r7, r7, #1
 11155              	.LVL1211:
 11156              	.L835:
 11157              		.loc 1 4702 16 is_stmt 1 discriminator 1 view .LVU3734
 11158              		.loc 1 4702 17 is_stmt 0 discriminator 1 view .LVU3735
 11159 00ca 18F80730 		ldrb	r3, [r8, r7]	@ zero_extendqisi2
 11160              		.loc 1 4702 4 discriminator 1 view .LVU3736
 11161 00ce 002B     		cmp	r3, #0
 11162 00d0 FAD1     		bne	.L836
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 11163              		.loc 1 4703 4 is_stmt 1 view .LVU3737
 11164              		.loc 1 4703 7 is_stmt 0 view .LVU3738
 11165 00d2 16F0020F 		tst	r6, #2
 11166 00d6 0FD1     		bne	.L840
 11167 00d8 04E0     		b	.L837
 11168              	.LVL1212:
 11169              	.L839:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11170              		.loc 1 4704 21 is_stmt 1 discriminator 2 view .LVU3739
 11171 00da 2021     		movs	r1, #32
 11172 00dc 01A8     		add	r0, sp, #4
 11173 00de FFF7FEFF 		bl	putc_bfd
 11174              	.LVL1213:
 11175              		.loc 1 4704 13 is_stmt 0 discriminator 2 view .LVU3740
 11176 00e2 3746     		mov	r7, r6
 11177              	.LVL1214:
 11178              	.L837:
 11179              		.loc 1 4704 11 is_stmt 1 discriminator 1 view .LVU3741
 11180              		.loc 1 4704 13 is_stmt 0 discriminator 1 view .LVU3742
 11181 00e4 7E1C     		adds	r6, r7, #1
 11182              	.LVL1215:
 11183              		.loc 1 4704 11 discriminator 1 view .LVU3743
 11184 00e6 A742     		cmp	r7, r4
 11185 00e8 F7D3     		bcc	.L839
 11186              		.loc 1 4704 13 view .LVU3744
 11187 00ea 3746     		mov	r7, r6
 11188 00ec 04E0     		b	.L840
 11189              	.LVL1216:
ARM GAS  /tmp/cciFFPmJ.s 			page 332


 11190              	.L841:
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 11191              		.loc 1 4706 15 is_stmt 1 discriminator 2 view .LVU3745
 11192              		.loc 1 4706 31 is_stmt 0 discriminator 2 view .LVU3746
 11193 00ee 08F10108 		add	r8, r8, #1
 11194              	.LVL1217:
 11195              		.loc 1 4706 15 discriminator 2 view .LVU3747
 11196 00f2 01A8     		add	r0, sp, #4
 11197 00f4 FFF7FEFF 		bl	putc_bfd
 11198              	.LVL1218:
 11199              	.L840:
 11200              		.loc 1 4706 10 is_stmt 1 discriminator 1 view .LVU3748
 11201              		.loc 1 4706 11 is_stmt 0 discriminator 1 view .LVU3749
 11202 00f8 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 11203              		.loc 1 4706 10 discriminator 1 view .LVU3750
 11204 00fc 0029     		cmp	r1, #0
 11205 00fe F6D1     		bne	.L841
 11206              		.loc 1 4706 10 discriminator 1 view .LVU3751
 11207 0100 04E0     		b	.L842
 11208              	.LVL1219:
 11209              	.L843:
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 11210              		.loc 1 4707 20 is_stmt 1 discriminator 2 view .LVU3752
 11211 0102 2021     		movs	r1, #32
 11212 0104 01A8     		add	r0, sp, #4
 11213 0106 FFF7FEFF 		bl	putc_bfd
 11214              	.LVL1220:
 11215              		.loc 1 4707 12 is_stmt 0 discriminator 2 view .LVU3753
 11216 010a 3746     		mov	r7, r6
 11217              	.LVL1221:
 11218              	.L842:
 11219              		.loc 1 4707 10 is_stmt 1 discriminator 1 view .LVU3754
 11220              		.loc 1 4707 12 is_stmt 0 discriminator 1 view .LVU3755
 11221 010c 7E1C     		adds	r6, r7, #1
 11222              	.LVL1222:
 11223              		.loc 1 4707 10 discriminator 1 view .LVU3756
 11224 010e A742     		cmp	r7, r4
 11225 0110 F7D3     		bcc	.L843
 11226 0112 86E7     		b	.L816
 11227              	.LVL1223:
 11228              	.L833:
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 11229              		.loc 1 4710 4 is_stmt 1 view .LVU3757
 11230              		.loc 1 4710 25 is_stmt 0 view .LVU3758
 11231 0114 199B     		ldr	r3, [sp, #100]
 11232              	.LVL1224:
 11233              		.loc 1 4710 25 view .LVU3759
 11234 0116 1A1D     		adds	r2, r3, #4
 11235 0118 1992     		str	r2, [sp, #100]
 11236              		.loc 1 4710 4 view .LVU3760
 11237 011a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 11238              	.LVL1225:
 11239              		.loc 1 4710 4 view .LVU3761
 11240 011c 01A8     		add	r0, sp, #4
ARM GAS  /tmp/cciFFPmJ.s 			page 333


 11241 011e FFF7FEFF 		bl	putc_bfd
 11242              	.LVL1226:
 11243              		.loc 1 4710 44 is_stmt 1 view .LVU3762
 11244              		.loc 1 4710 4 is_stmt 0 view .LVU3763
 11245 0122 7EE7     		b	.L816
 11246              	.LVL1227:
 11247              	.L830:
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
4713:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
4715:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
4717:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 11248              		.loc 1 4717 4 is_stmt 1 view .LVU3764
 11249              		.loc 1 4717 12 view .LVU3765
 11250              		.loc 1 4717 6 is_stmt 0 view .LVU3766
 11251 0124 0A20     		movs	r0, #10
 11252              	.LVL1228:
 11253              	.L832:
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
4720:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 11254              		.loc 1 4725 3 is_stmt 1 view .LVU3767
 11255              		.loc 1 4725 42 is_stmt 0 view .LVU3768
 11256 0126 16F0040F 		tst	r6, #4
 11257 012a 12D0     		beq	.L844
 11258              		.loc 1 4725 24 view .LVU3769
 11259 012c 199A     		ldr	r2, [sp, #100]
 11260 012e 171D     		adds	r7, r2, #4
 11261 0130 1997     		str	r7, [sp, #100]
 11262 0132 1268     		ldr	r2, [r2]
 11263              	.L845:
 11264              	.LVL1229:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11265              		.loc 1 4726 3 is_stmt 1 discriminator 8 view .LVU3770
 11266              		.loc 1 4726 6 is_stmt 0 discriminator 8 view .LVU3771
 11267 0134 442B     		cmp	r3, #68
 11268 0136 18D0     		beq	.L874
 11269              	.L847:
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 11270              		.loc 1 4730 3 is_stmt 1 view .LVU3772
 11271              	.LVL1230:
 11272              		.loc 1 4730 5 is_stmt 0 view .LVU3773
 11273 0138 4FF0000C 		mov	ip, #0
 11274 013c 2BE0     		b	.L851
 11275              	.LVL1231:
 11276              	.L828:
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
ARM GAS  /tmp/cciFFPmJ.s 			page 334


 11277              		.loc 1 4719 4 is_stmt 1 view .LVU3774
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11278              		.loc 1 4719 12 view .LVU3775
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11279              		.loc 1 4719 6 is_stmt 0 view .LVU3776
 11280 013e 1020     		movs	r0, #16
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11281              		.loc 1 4719 4 view .LVU3777
 11282 0140 F1E7     		b	.L832
 11283              	.LVL1232:
 11284              	.L827:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11285              		.loc 1 4721 4 is_stmt 1 view .LVU3778
 11286 0142 01A8     		add	r0, sp, #4
 11287 0144 FFF7FEFF 		bl	putc_bfd
 11288              	.LVL1233:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11289              		.loc 1 4721 22 view .LVU3779
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11290              		.loc 1 4721 4 is_stmt 0 view .LVU3780
 11291 0148 6BE7     		b	.L816
 11292              	.LVL1234:
 11293              	.L834:
4717:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
 11294              		.loc 1 4717 6 view .LVU3781
 11295 014a 0220     		movs	r0, #2
 11296 014c EBE7     		b	.L832
 11297              	.L863:
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
 11298              		.loc 1 4714 6 view .LVU3782
 11299 014e 0820     		movs	r0, #8
 11300 0150 E9E7     		b	.L832
 11301              	.LVL1235:
 11302              	.L844:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11303              		.loc 1 4725 88 discriminator 2 view .LVU3783
 11304 0152 442B     		cmp	r3, #68
 11305 0154 04D0     		beq	.L875
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11306              		.loc 1 4725 88 view .LVU3784
 11307 0156 199A     		ldr	r2, [sp, #100]
 11308 0158 171D     		adds	r7, r2, #4
 11309 015a 1997     		str	r7, [sp, #100]
 11310 015c 1268     		ldr	r2, [r2]
 11311 015e E9E7     		b	.L845
 11312              	.L875:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11313              		.loc 1 4725 71 view .LVU3785
 11314 0160 199A     		ldr	r2, [sp, #100]
 11315 0162 171D     		adds	r7, r2, #4
 11316 0164 1997     		str	r7, [sp, #100]
 11317 0166 1268     		ldr	r2, [r2]
 11318 0168 E4E7     		b	.L845
 11319              	.LVL1236:
 11320              	.L874:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 11321              		.loc 1 4726 16 discriminator 1 view .LVU3786
ARM GAS  /tmp/cciFFPmJ.s 			page 335


 11322 016a 002A     		cmp	r2, #0
 11323 016c E4DA     		bge	.L847
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 11324              		.loc 1 4727 4 is_stmt 1 view .LVU3787
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 11325              		.loc 1 4727 6 is_stmt 0 view .LVU3788
 11326 016e 5242     		rsbs	r2, r2, #0
 11327              	.LVL1237:
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11328              		.loc 1 4728 4 is_stmt 1 view .LVU3789
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11329              		.loc 1 4728 6 is_stmt 0 view .LVU3790
 11330 0170 46F00806 		orr	r6, r6, #8
 11331              	.LVL1238:
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11332              		.loc 1 4728 6 view .LVU3791
 11333 0174 E0E7     		b	.L847
 11334              	.LVL1239:
 11335              	.L876:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11336              		.loc 1 4733 17 view .LVU3792
 11337 0176 2727     		movs	r7, #39
 11338              	.L849:
 11339              		.loc 1 4733 17 discriminator 5 view .LVU3793
 11340 0178 3B44     		add	r3, r3, r7
 11341              	.LVL1240:
 11342              		.loc 1 4733 17 discriminator 5 view .LVU3794
 11343 017a DBB2     		uxtb	r3, r3
 11344              	.LVL1241:
 11345              	.L848:
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11346              		.loc 1 4734 4 is_stmt 1 view .LVU3795
 11347              		.loc 1 4734 7 is_stmt 0 view .LVU3796
 11348 017c 0CF10107 		add	r7, ip, #1
 11349              	.LVL1242:
 11350              		.loc 1 4734 15 view .LVU3797
 11351 0180 3033     		adds	r3, r3, #48
 11352              	.LVL1243:
 11353              		.loc 1 4734 11 view .LVU3798
 11354 0182 0DF16809 		add	r9, sp, #104
 11355 0186 E144     		add	r9, r9, ip
 11356 0188 09F8183C 		strb	r3, [r9, #-24]
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof s / sizeof s[0]);
 11357              		.loc 1 4735 11 is_stmt 1 view .LVU3799
 11358              		.loc 1 4735 3 is_stmt 0 view .LVU3800
 11359 018c C645     		cmp	lr, r8
 11360 018e 10D8     		bhi	.L850
 11361              		.loc 1 4735 14 discriminator 1 view .LVU3801
 11362 0190 0F2F     		cmp	r7, #15
 11363 0192 0ED8     		bhi	.L850
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11364              		.loc 1 4734 7 view .LVU3802
 11365 0194 BC46     		mov	ip, r7
 11366              	.LVL1244:
 11367              	.L851:
ARM GAS  /tmp/cciFFPmJ.s 			page 336


4731:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11368              		.loc 1 4731 3 is_stmt 1 view .LVU3803
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11369              		.loc 1 4732 4 view .LVU3804
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11370              		.loc 1 4732 18 is_stmt 0 view .LVU3805
 11371 0196 8646     		mov	lr, r0
 11372 0198 B2FBF0F7 		udiv	r7, r2, r0
 11373 019c 00FB1723 		mls	r3, r0, r7, r2
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11374              		.loc 1 4732 6 view .LVU3806
 11375 01a0 DBB2     		uxtb	r3, r3
 11376              	.LVL1245:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11377              		.loc 1 4732 24 is_stmt 1 view .LVU3807
 11378 01a2 9046     		mov	r8, r2
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11379              		.loc 1 4732 26 is_stmt 0 view .LVU3808
 11380 01a4 3A46     		mov	r2, r7
 11381              	.LVL1246:
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11382              		.loc 1 4733 4 is_stmt 1 view .LVU3809
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11383              		.loc 1 4733 7 is_stmt 0 view .LVU3810
 11384 01a6 092B     		cmp	r3, #9
 11385 01a8 E8D9     		bls	.L848
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11386              		.loc 1 4733 15 is_stmt 1 discriminator 1 view .LVU3811
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11387              		.loc 1 4733 17 is_stmt 0 discriminator 1 view .LVU3812
 11388 01aa 7829     		cmp	r1, #120
 11389 01ac E3D0     		beq	.L876
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11390              		.loc 1 4733 17 view .LVU3813
 11391 01ae 0727     		movs	r7, #7
 11392 01b0 E2E7     		b	.L849
 11393              	.LVL1247:
 11394              	.L850:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) s[i++] = '-';
 11395              		.loc 1 4736 3 is_stmt 1 view .LVU3814
 11396              		.loc 1 4736 6 is_stmt 0 view .LVU3815
 11397 01b2 16F0080F 		tst	r6, #8
 11398 01b6 06D0     		beq	.L852
 11399              		.loc 1 4736 14 is_stmt 1 discriminator 1 view .LVU3816
 11400              	.LVL1248:
 11401              		.loc 1 4736 21 is_stmt 0 discriminator 1 view .LVU3817
 11402 01b8 1AAB     		add	r3, sp, #104
 11403 01ba 1F44     		add	r7, r7, r3
 11404 01bc 2D23     		movs	r3, #45
 11405 01be 07F8183C 		strb	r3, [r7, #-24]
 11406              		.loc 1 4736 17 discriminator 1 view .LVU3818
 11407 01c2 0CF10207 		add	r7, ip, #2
 11408              	.LVL1249:
 11409              	.L852:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 11410              		.loc 1 4737 3 is_stmt 1 view .LVU3819
 11411              		.loc 1 4737 10 view .LVU3820
ARM GAS  /tmp/cciFFPmJ.s 			page 337


 11412              		.loc 1 4737 12 is_stmt 0 view .LVU3821
 11413 01c6 16F0010F 		tst	r6, #1
 11414 01ca 0FD0     		beq	.L866
 11415              		.loc 1 4737 12 view .LVU3822
 11416 01cc 4FF0300A 		mov	r10, #48
 11417              	.L853:
 11418              	.LVL1250:
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 11419              		.loc 1 4738 3 is_stmt 1 discriminator 4 view .LVU3823
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 11420              		.loc 1 4737 5 is_stmt 0 discriminator 4 view .LVU3824
 11421 01d0 B846     		mov	r8, r7
 11422              	.LVL1251:
 11423              	.L854:
 11424              		.loc 1 4738 9 is_stmt 1 discriminator 1 view .LVU3825
 11425 01d2 16F0020F 		tst	r6, #2
 11426 01d6 0DD1     		bne	.L857
 11427              		.loc 1 4738 23 is_stmt 0 discriminator 2 view .LVU3826
 11428 01d8 08F10109 		add	r9, r8, #1
 11429              	.LVL1252:
 11430              		.loc 1 4738 19 discriminator 2 view .LVU3827
 11431 01dc A045     		cmp	r8, r4
 11432 01de 08D2     		bcs	.L877
 11433              		.loc 1 4738 31 is_stmt 1 discriminator 3 view .LVU3828
 11434 01e0 5146     		mov	r1, r10
 11435 01e2 01A8     		add	r0, sp, #4
 11436 01e4 FFF7FEFF 		bl	putc_bfd
 11437              	.LVL1253:
 11438              		.loc 1 4738 23 is_stmt 0 discriminator 3 view .LVU3829
 11439 01e8 C846     		mov	r8, r9
 11440 01ea F2E7     		b	.L854
 11441              	.LVL1254:
 11442              	.L866:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 11443              		.loc 1 4737 12 view .LVU3830
 11444 01ec 4FF0200A 		mov	r10, #32
 11445 01f0 EEE7     		b	.L853
 11446              	.LVL1255:
 11447              	.L877:
 11448              		.loc 1 4738 23 view .LVU3831
 11449 01f2 C846     		mov	r8, r9
 11450              	.LVL1256:
 11451              	.L857:
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		do putc_bfd(&pb, s[--i]); while (i);
 11452              		.loc 1 4739 3 is_stmt 1 discriminator 1 view .LVU3832
 11453              		.loc 1 4739 6 discriminator 1 view .LVU3833
 11454 01f4 013F     		subs	r7, r7, #1
 11455              	.LVL1257:
 11456              		.loc 1 4739 6 is_stmt 0 discriminator 1 view .LVU3834
 11457 01f6 1AAB     		add	r3, sp, #104
 11458 01f8 3B44     		add	r3, r3, r7
 11459 01fa 13F8181C 		ldrb	r1, [r3, #-24]	@ zero_extendqisi2
 11460 01fe 01A8     		add	r0, sp, #4
 11461 0200 FFF7FEFF 		bl	putc_bfd
 11462              	.LVL1258:
 11463              		.loc 1 4739 35 is_stmt 1 discriminator 1 view .LVU3835
 11464              		.loc 1 4739 3 is_stmt 0 discriminator 1 view .LVU3836
ARM GAS  /tmp/cciFFPmJ.s 			page 338


 11465 0204 002F     		cmp	r7, #0
 11466 0206 F5D1     		bne	.L857
 11467              	.LVL1259:
 11468              	.L858:
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 11469              		.loc 1 4740 9 is_stmt 1 discriminator 1 view .LVU3837
 11470              		.loc 1 4740 11 is_stmt 0 discriminator 1 view .LVU3838
 11471 0208 08F10106 		add	r6, r8, #1
 11472              	.LVL1260:
 11473              		.loc 1 4740 9 discriminator 1 view .LVU3839
 11474 020c A045     		cmp	r8, r4
 11475 020e BFF408AF 		bcs	.L816
 11476              		.loc 1 4740 19 is_stmt 1 discriminator 2 view .LVU3840
 11477 0212 5146     		mov	r1, r10
 11478 0214 01A8     		add	r0, sp, #4
 11479 0216 FFF7FEFF 		bl	putc_bfd
 11480              	.LVL1261:
 11481              		.loc 1 4740 11 is_stmt 0 discriminator 2 view .LVU3841
 11482 021a B046     		mov	r8, r6
 11483 021c F4E7     		b	.L858
 11484              	.LVL1262:
 11485              	.L817:
4741:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 
4743:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
 11486              		.loc 1 4743 2 is_stmt 1 view .LVU3842
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 11487              		.loc 1 4745 2 view .LVU3843
 11488              		.loc 1 4745 11 is_stmt 0 view .LVU3844
 11489 021e 029A     		ldr	r2, [sp, #8]
 11490              		.loc 1 4745 5 view .LVU3845
 11491 0220 002A     		cmp	r2, #0
 11492 0222 0FDB     		blt	.L867
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 11493              		.loc 1 4746 6 view .LVU3846
 11494 0224 18AB     		add	r3, sp, #96
 11495 0226 04A9     		add	r1, sp, #16
 11496              	.LVL1263:
 11497              		.loc 1 4746 6 view .LVU3847
 11498 0228 0198     		ldr	r0, [sp, #4]
 11499 022a FFF7FEFF 		bl	f_write
 11500              	.LVL1264:
 11501              		.loc 1 4746 3 view .LVU3848
 11502 022e 60B9     		cbnz	r0, .L868
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 11503              		.loc 1 4747 3 view .LVU3849
 11504 0230 029A     		ldr	r2, [sp, #8]
 11505 0232 189B     		ldr	r3, [sp, #96]
 11506 0234 9A42     		cmp	r2, r3
 11507 0236 0BD1     		bne	.L869
 11508              		.loc 1 4747 26 is_stmt 1 discriminator 1 view .LVU3850
 11509              		.loc 1 4747 35 is_stmt 0 discriminator 1 view .LVU3851
 11510 0238 0398     		ldr	r0, [sp, #12]
 11511              	.L815:
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4749:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/cciFFPmJ.s 			page 339


 11512              		.loc 1 4749 1 view .LVU3852
 11513 023a 1BB0     		add	sp, sp, #108
 11514              	.LCFI127:
 11515              		.cfi_remember_state
 11516              		.cfi_def_cfa_offset 44
 11517              		@ sp needed
 11518 023c BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 11519              	.LCFI128:
 11520              		.cfi_restore 14
 11521              		.cfi_restore 10
 11522              		.cfi_restore 9
 11523              		.cfi_restore 8
 11524              		.cfi_restore 7
 11525              		.cfi_restore 6
 11526              		.cfi_restore 5
 11527              		.cfi_restore 4
 11528              		.cfi_def_cfa_offset 12
 11529 0240 03B0     		add	sp, sp, #12
 11530              	.LCFI129:
 11531              		.cfi_restore 3
 11532              		.cfi_restore 2
 11533              		.cfi_restore 1
 11534              		.cfi_def_cfa_offset 0
 11535 0242 7047     		bx	lr
 11536              	.LVL1265:
 11537              	.L867:
 11538              	.LCFI130:
 11539              		.cfi_restore_state
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11540              		.loc 1 4748 9 view .LVU3853
 11541 0244 4FF0FF30 		mov	r0, #-1
 11542 0248 F7E7     		b	.L815
 11543              	.LVL1266:
 11544              	.L868:
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11545              		.loc 1 4748 9 view .LVU3854
 11546 024a 4FF0FF30 		mov	r0, #-1
 11547 024e F4E7     		b	.L815
 11548              	.L869:
 11549 0250 4FF0FF30 		mov	r0, #-1
 11550 0254 F1E7     		b	.L815
 11551              		.cfi_endproc
 11552              	.LFE122:
 11554              		.section	.bss.FatFs,"aw",%nobits
 11555              		.align	2
 11556              		.set	.LANCHOR2,. + 0
 11559              	FatFs:
 11560 0000 00000000 		.space	4
 11561              		.section	.bss.Files,"aw",%nobits
 11562              		.align	2
 11563              		.set	.LANCHOR0,. + 0
 11566              	Files:
 11567 0000 00000000 		.space	24
 11567      00000000 
 11567      00000000 
 11567      00000000 
 11567      00000000 
ARM GAS  /tmp/cciFFPmJ.s 			page 340


 11568              		.section	.bss.Fsid,"aw",%nobits
 11569              		.align	1
 11570              		.set	.LANCHOR3,. + 0
 11573              	Fsid:
 11574 0000 0000     		.space	2
 11575              		.section	.rodata.ExCvt,"a"
 11576              		.align	2
 11577              		.set	.LANCHOR1,. + 0
 11580              	ExCvt:
 11581 0000 809A90B6 		.ascii	"\200\232\220\266\216\267\217\200\322\323\324\330\327"
 11581      8EB78F80 
 11581      D2D3D4D8 
 11581      D7
 11582 000d DE8E8F90 		.ascii	"\336\216\217\220\222\222\342\231\343\352\353Y\231\232"
 11582      9292E299 
 11582      E3EAEB59 
 11582      999A
 11583 001b 9D9C9D9E 		.ascii	"\235\234\235\236\237\265\326\340\351\245\245\246\247"
 11583      9FB5D6E0 
 11583      E9A5A5A6 
 11583      A7
 11584 0028 A8A9AAAB 		.ascii	"\250\251\252\253\254!\256\257\260\261\262\263\264\265"
 11584      AC21AEAF 
 11584      B0B1B2B3 
 11584      B4B5
 11585 0036 B6B7B8B9 		.ascii	"\266\267\270\271\272\273\274\275\276\277\300\301\302"
 11585      BABBBCBD 
 11585      BEBFC0C1 
 11585      C2
 11586 0043 C3C4C5C7 		.ascii	"\303\304\305\307\307\310\311\312\313\314\315\316\317"
 11586      C7C8C9CA 
 11586      CBCCCDCE 
 11586      CF
 11587 0050 D0D1D2D3 		.ascii	"\320\321\322\323\324\325\326\327\330\331\332\333\334"
 11587      D4D5D6D7 
 11587      D8D9DADB 
 11587      DC
 11588 005d DDDEDFE0 		.ascii	"\335\336\337\340\341\342\343\345\345\346\347\347\351"
 11588      E1E2E3E5 
 11588      E5E6E7E7 
 11588      E9
 11589 006a EAEBEDED 		.ascii	"\352\353\355\355\356\357\360\361\362\363\364\365\366"
 11589      EEEFF0F1 
 11589      F2F3F4F5 
 11589      F6
 11590 0077 F7F8F9FA 		.ascii	"\367\370\371\372\373\374\375\376\377"
 11590      FBFCFDFE 
 11590      FF
 11591              		.section	.rodata.cst.7480,"a"
 11592              		.align	2
 11593              		.set	.LANCHOR5,. + 0
 11596              	cst.7480:
 11597 0000 0080     		.short	-32768
 11598 0002 0040     		.short	16384
 11599 0004 0020     		.short	8192
 11600 0006 0010     		.short	4096
 11601 0008 0008     		.short	2048
ARM GAS  /tmp/cciFFPmJ.s 			page 341


 11602 000a 0040     		.short	16384
 11603 000c 0020     		.short	8192
 11604 000e 0010     		.short	4096
 11605 0010 0008     		.short	2048
 11606 0012 0004     		.short	1024
 11607 0014 0002     		.short	512
 11608              		.section	.rodata.vst.7479,"a"
 11609              		.align	2
 11610              		.set	.LANCHOR4,. + 0
 11613              	vst.7479:
 11614 0000 0004     		.short	1024
 11615 0002 0002     		.short	512
 11616 0004 0001     		.short	256
 11617 0006 8000     		.short	128
 11618 0008 4000     		.short	64
 11619 000a 2000     		.short	32
 11620 000c 1000     		.short	16
 11621 000e 0800     		.short	8
 11622 0010 0400     		.short	4
 11623 0012 0200     		.short	2
 11624 0014 0000     		.short	0
 11625              		.text
 11626              	.Letext0:
 11627              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 11628              		.file 3 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/machine/_default_types.h"
 11629              		.file 4 "/opt/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/sys/_stdint.h"
 11630              		.file 5 "Drivers/CMSIS/Include/core_cm3.h"
 11631              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 11632              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 11633              		.file 8 "Middlewares/Third_Party/FatFs/src/ff.h"
 11634              		.file 9 "Middlewares/Third_Party/FatFs/src/diskio.h"
 11635              		.file 10 "/opt/gcc-arm-none-eabi-9-2020-q2-update/lib/gcc/arm-none-eabi/9.3.1/include/stdarg.h"
 11636              		.file 11 "<built-in>"
ARM GAS  /tmp/cciFFPmJ.s 			page 342


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ff.c
     /tmp/cciFFPmJ.s:16     .text.mem_cpy:0000000000000000 $t
     /tmp/cciFFPmJ.s:23     .text.mem_cpy:0000000000000000 mem_cpy
     /tmp/cciFFPmJ.s:60     .text.mem_set:0000000000000000 $t
     /tmp/cciFFPmJ.s:66     .text.mem_set:0000000000000000 mem_set
     /tmp/cciFFPmJ.s:98     .text.mem_cmp:0000000000000000 $t
     /tmp/cciFFPmJ.s:104    .text.mem_cmp:0000000000000000 mem_cmp
     /tmp/cciFFPmJ.s:158    .text.chk_chr:0000000000000000 $t
     /tmp/cciFFPmJ.s:164    .text.chk_chr:0000000000000000 chk_chr
     /tmp/cciFFPmJ.s:199    .text.chk_lock:0000000000000000 $t
     /tmp/cciFFPmJ.s:205    .text.chk_lock:0000000000000000 chk_lock
     /tmp/cciFFPmJ.s:355    .text.chk_lock:0000000000000088 $d
     /tmp/cciFFPmJ.s:360    .text.enq_lock:0000000000000000 $t
     /tmp/cciFFPmJ.s:366    .text.enq_lock:0000000000000000 enq_lock
     /tmp/cciFFPmJ.s:414    .text.enq_lock:0000000000000020 $d
     /tmp/cciFFPmJ.s:419    .text.inc_lock:0000000000000000 $t
     /tmp/cciFFPmJ.s:425    .text.inc_lock:0000000000000000 inc_lock
     /tmp/cciFFPmJ.s:613    .text.inc_lock:00000000000000cc $d
     /tmp/cciFFPmJ.s:618    .text.dec_lock:0000000000000000 $t
     /tmp/cciFFPmJ.s:624    .text.dec_lock:0000000000000000 dec_lock
     /tmp/cciFFPmJ.s:707    .text.dec_lock:0000000000000044 $d
     /tmp/cciFFPmJ.s:712    .text.clear_lock:0000000000000000 $t
     /tmp/cciFFPmJ.s:718    .text.clear_lock:0000000000000000 clear_lock
     /tmp/cciFFPmJ.s:800    .text.clear_lock:0000000000000040 $d
     /tmp/cciFFPmJ.s:805    .text.clmt_clust:0000000000000000 $t
     /tmp/cciFFPmJ.s:811    .text.clmt_clust:0000000000000000 clmt_clust
     /tmp/cciFFPmJ.s:876    .text.ld_clust:0000000000000000 $t
     /tmp/cciFFPmJ.s:882    .text.ld_clust:0000000000000000 ld_clust
     /tmp/cciFFPmJ.s:927    .text.st_clust:0000000000000000 $t
     /tmp/cciFFPmJ.s:933    .text.st_clust:0000000000000000 st_clust
     /tmp/cciFFPmJ.s:960    .text.get_fileinfo:0000000000000000 $t
     /tmp/cciFFPmJ.s:966    .text.get_fileinfo:0000000000000000 get_fileinfo
     /tmp/cciFFPmJ.s:1110   .rodata.create_name.str1.4:0000000000000000 $d
     /tmp/cciFFPmJ.s:1114   .text.create_name:0000000000000000 $t
     /tmp/cciFFPmJ.s:1120   .text.create_name:0000000000000000 create_name
     /tmp/cciFFPmJ.s:1429   .text.create_name:000000000000010c $d
     /tmp/cciFFPmJ.s:1435   .text.get_ldnumber:0000000000000000 $t
     /tmp/cciFFPmJ.s:1441   .text.get_ldnumber:0000000000000000 get_ldnumber
     /tmp/cciFFPmJ.s:1567   .text.sync_window:0000000000000000 $t
     /tmp/cciFFPmJ.s:1573   .text.sync_window:0000000000000000 sync_window
     /tmp/cciFFPmJ.s:1679   .text.move_window:0000000000000000 $t
     /tmp/cciFFPmJ.s:1685   .text.move_window:0000000000000000 move_window
     /tmp/cciFFPmJ.s:1756   .text.check_fs:0000000000000000 $t
     /tmp/cciFFPmJ.s:1762   .text.check_fs:0000000000000000 check_fs
     /tmp/cciFFPmJ.s:1851   .text.check_fs:0000000000000088 $d
     /tmp/cciFFPmJ.s:1857   .text.validate:0000000000000000 $t
     /tmp/cciFFPmJ.s:1863   .text.validate:0000000000000000 validate
     /tmp/cciFFPmJ.s:1931   .text.find_volume:0000000000000000 $t
     /tmp/cciFFPmJ.s:1937   .text.find_volume:0000000000000000 find_volume
     /tmp/cciFFPmJ.s:2592   .text.find_volume:0000000000000370 $d
     /tmp/cciFFPmJ.s:2600   .text.find_volume:0000000000000384 $t
     /tmp/cciFFPmJ.s:2664   .text.sync_fs:0000000000000000 $t
     /tmp/cciFFPmJ.s:2670   .text.sync_fs:0000000000000000 sync_fs
     /tmp/cciFFPmJ.s:2807   .text.clust2sect:0000000000000000 $t
     /tmp/cciFFPmJ.s:2814   .text.clust2sect:0000000000000000 clust2sect
     /tmp/cciFFPmJ.s:2854   .text.get_fat:0000000000000000 $t
ARM GAS  /tmp/cciFFPmJ.s 			page 343


     /tmp/cciFFPmJ.s:2861   .text.get_fat:0000000000000000 get_fat
     /tmp/cciFFPmJ.s:3094   .text.dir_sdi:0000000000000000 $t
     /tmp/cciFFPmJ.s:3100   .text.dir_sdi:0000000000000000 dir_sdi
     /tmp/cciFFPmJ.s:3301   .text.dir_remove:0000000000000000 $t
     /tmp/cciFFPmJ.s:3307   .text.dir_remove:0000000000000000 dir_remove
     /tmp/cciFFPmJ.s:3379   .text.put_fat:0000000000000000 $t
     /tmp/cciFFPmJ.s:3386   .text.put_fat:0000000000000000 put_fat
     /tmp/cciFFPmJ.s:3660   .text.create_chain:0000000000000000 $t
     /tmp/cciFFPmJ.s:3666   .text.create_chain:0000000000000000 create_chain
     /tmp/cciFFPmJ.s:3890   .text.dir_next:0000000000000000 $t
     /tmp/cciFFPmJ.s:3896   .text.dir_next:0000000000000000 dir_next
     /tmp/cciFFPmJ.s:4195   .text.dir_find:0000000000000000 $t
     /tmp/cciFFPmJ.s:4201   .text.dir_find:0000000000000000 dir_find
     /tmp/cciFFPmJ.s:4297   .text.follow_path:0000000000000000 $t
     /tmp/cciFFPmJ.s:4303   .text.follow_path:0000000000000000 follow_path
     /tmp/cciFFPmJ.s:4457   .text.dir_alloc:0000000000000000 $t
     /tmp/cciFFPmJ.s:4463   .text.dir_alloc:0000000000000000 dir_alloc
     /tmp/cciFFPmJ.s:4573   .text.dir_register:0000000000000000 $t
     /tmp/cciFFPmJ.s:4579   .text.dir_register:0000000000000000 dir_register
     /tmp/cciFFPmJ.s:4651   .text.dir_read:0000000000000000 $t
     /tmp/cciFFPmJ.s:4657   .text.dir_read:0000000000000000 dir_read
     /tmp/cciFFPmJ.s:4776   .text.remove_chain:0000000000000000 $t
     /tmp/cciFFPmJ.s:4782   .text.remove_chain:0000000000000000 remove_chain
     /tmp/cciFFPmJ.s:4908   .text.f_mount:0000000000000000 $t
     /tmp/cciFFPmJ.s:4915   .text.f_mount:0000000000000000 f_mount
     /tmp/cciFFPmJ.s:5031   .text.f_mount:000000000000005c $d
     /tmp/cciFFPmJ.s:5036   .text.f_open:0000000000000000 $t
     /tmp/cciFFPmJ.s:5043   .text.f_open:0000000000000000 f_open
     /tmp/cciFFPmJ.s:5457   .text.f_read:0000000000000000 $t
     /tmp/cciFFPmJ.s:5464   .text.f_read:0000000000000000 f_read
     /tmp/cciFFPmJ.s:5855   .text.f_write:0000000000000000 $t
     /tmp/cciFFPmJ.s:5862   .text.f_write:0000000000000000 f_write
     /tmp/cciFFPmJ.s:6309   .text.putc_bfd:0000000000000000 $t
     /tmp/cciFFPmJ.s:6315   .text.putc_bfd:0000000000000000 putc_bfd
     /tmp/cciFFPmJ.s:6426   .text.f_sync:0000000000000000 $t
     /tmp/cciFFPmJ.s:6433   .text.f_sync:0000000000000000 f_sync
     /tmp/cciFFPmJ.s:6581   .text.f_close:0000000000000000 $t
     /tmp/cciFFPmJ.s:6588   .text.f_close:0000000000000000 f_close
     /tmp/cciFFPmJ.s:6645   .text.f_lseek:0000000000000000 $t
     /tmp/cciFFPmJ.s:6652   .text.f_lseek:0000000000000000 f_lseek
     /tmp/cciFFPmJ.s:7306   .text.f_opendir:0000000000000000 $t
     /tmp/cciFFPmJ.s:7313   .text.f_opendir:0000000000000000 f_opendir
     /tmp/cciFFPmJ.s:7480   .text.f_closedir:0000000000000000 $t
     /tmp/cciFFPmJ.s:7487   .text.f_closedir:0000000000000000 f_closedir
     /tmp/cciFFPmJ.s:7541   .text.f_readdir:0000000000000000 $t
     /tmp/cciFFPmJ.s:7548   .text.f_readdir:0000000000000000 f_readdir
     /tmp/cciFFPmJ.s:7670   .text.f_stat:0000000000000000 $t
     /tmp/cciFFPmJ.s:7677   .text.f_stat:0000000000000000 f_stat
     /tmp/cciFFPmJ.s:7772   .text.f_getfree:0000000000000000 $t
     /tmp/cciFFPmJ.s:7779   .text.f_getfree:0000000000000000 f_getfree
     /tmp/cciFFPmJ.s:8057   .text.f_truncate:0000000000000000 $t
     /tmp/cciFFPmJ.s:8064   .text.f_truncate:0000000000000000 f_truncate
     /tmp/cciFFPmJ.s:8266   .text.f_unlink:0000000000000000 $t
     /tmp/cciFFPmJ.s:8273   .text.f_unlink:0000000000000000 f_unlink
     /tmp/cciFFPmJ.s:8494   .text.f_mkdir:0000000000000000 $t
     /tmp/cciFFPmJ.s:8501   .text.f_mkdir:0000000000000000 f_mkdir
     /tmp/cciFFPmJ.s:8873   .text.f_chmod:0000000000000000 $t
ARM GAS  /tmp/cciFFPmJ.s 			page 344


     /tmp/cciFFPmJ.s:8880   .text.f_chmod:0000000000000000 f_chmod
     /tmp/cciFFPmJ.s:8996   .text.f_rename:0000000000000000 $t
     /tmp/cciFFPmJ.s:9003   .text.f_rename:0000000000000000 f_rename
     /tmp/cciFFPmJ.s:9285   .text.f_utime:0000000000000000 $t
     /tmp/cciFFPmJ.s:9292   .text.f_utime:0000000000000000 f_utime
     /tmp/cciFFPmJ.s:9404   .rodata.f_mkfs.str1.4:0000000000000000 $d
     /tmp/cciFFPmJ.s:9414   .text.f_mkfs:0000000000000000 $t
     /tmp/cciFFPmJ.s:9421   .text.f_mkfs:0000000000000000 f_mkfs
     /tmp/cciFFPmJ.s:9969   .text.f_mkfs:000000000000027c $d
     /tmp/cciFFPmJ.s:9977   .text.f_mkfs:0000000000000290 $t
     /tmp/cciFFPmJ.s:10599  .text.f_mkfs:00000000000005f4 $d
     /tmp/cciFFPmJ.s:10607  .text.f_gets:0000000000000000 $t
     /tmp/cciFFPmJ.s:10614  .text.f_gets:0000000000000000 f_gets
     /tmp/cciFFPmJ.s:10719  .text.f_putc:0000000000000000 $t
     /tmp/cciFFPmJ.s:10726  .text.f_putc:0000000000000000 f_putc
     /tmp/cciFFPmJ.s:10807  .text.f_puts:0000000000000000 $t
     /tmp/cciFFPmJ.s:10814  .text.f_puts:0000000000000000 f_puts
     /tmp/cciFFPmJ.s:10907  .text.f_printf:0000000000000000 $t
     /tmp/cciFFPmJ.s:10914  .text.f_printf:0000000000000000 f_printf
     /tmp/cciFFPmJ.s:11104  .text.f_printf:000000000000009e $d
     /tmp/cciFFPmJ.s:11555  .bss.FatFs:0000000000000000 $d
     /tmp/cciFFPmJ.s:11559  .bss.FatFs:0000000000000000 FatFs
     /tmp/cciFFPmJ.s:11562  .bss.Files:0000000000000000 $d
     /tmp/cciFFPmJ.s:11566  .bss.Files:0000000000000000 Files
     /tmp/cciFFPmJ.s:11569  .bss.Fsid:0000000000000000 $d
     /tmp/cciFFPmJ.s:11573  .bss.Fsid:0000000000000000 Fsid
     /tmp/cciFFPmJ.s:11576  .rodata.ExCvt:0000000000000000 $d
     /tmp/cciFFPmJ.s:11580  .rodata.ExCvt:0000000000000000 ExCvt
     /tmp/cciFFPmJ.s:11592  .rodata.cst.7480:0000000000000000 $d
     /tmp/cciFFPmJ.s:11596  .rodata.cst.7480:0000000000000000 cst.7480
     /tmp/cciFFPmJ.s:11609  .rodata.vst.7479:0000000000000000 $d
     /tmp/cciFFPmJ.s:11613  .rodata.vst.7479:0000000000000000 vst.7479
     /tmp/cciFFPmJ.s:11128  .text.f_printf:00000000000000b5 $d
     /tmp/cciFFPmJ.s:11128  .text.f_printf:00000000000000b6 $t

UNDEFINED SYMBOLS
disk_write
disk_read
disk_status
disk_initialize
disk_ioctl
get_fattime
